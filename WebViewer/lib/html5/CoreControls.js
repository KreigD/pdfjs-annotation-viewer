(function() {(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?(this._wrapped=n,void 0):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):
n._=j,j.VERSION="1.5.2";var A=j.each=j.forEach=function(n,t,e){if(null!=n)if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length)for(var u=0,i=n.length;i>u;u++){if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var E="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=
function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(E);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,
n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(E);return r},j.find=j.detect=function(n,t,r){var e;return O(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,
e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var O=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:O(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,
t){return j.map(n,function(n){return n[t]})},j.where=function(n,t,r){return j.isEmpty(t)?r?void 0:[]:j[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},j.findWhere=function(n,t){return j.where(n,t,!0)},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&j.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})}),e.value},
j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&j.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return arguments.length<2||r?n[j.random(n.length-1)]:j.shuffle(n).slice(0,Math.max(0,t))};var k=function(n){return j.isFunction(n)?
n:function(t){return t[n]}};j.sortBy=function(n,t,r){var e=k(t);return j.pluck(j.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={},i=null==r?j.identity:k(r);return A(t,function(r,a){var o=i.call(e,r,a,t);n(u,o,r)}),u}};j.groupBy=F(function(n,t,r){(j.has(n,t)?n[t]:n[t]=[]).push(r)}),
j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=null==r?j.identity:k(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==
t||r?n[0]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,
t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.indexOf(t,n)>=0})})},j.difference=function(n){var t=
c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+
r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};j.bind=function(n,t){var r,e;if(_&&
n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");
return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,
u)};return function(){var l=new Date;o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u,i,a,o;return function(){i=this,u=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u)),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=
n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return function(){var r=[n];return a.apply(r,arguments),t.apply(this,r)}},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=w||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=
j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t=
{},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==
t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case "[object String]":return n==String(t);case "[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case "[object Date]":case "[object Boolean]":return+n==+t;case "[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==
t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||
j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==
typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=
function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=j.invert(I.escape);var T={escape:new RegExp("["+j.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(I.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(T[n],function(t){return I[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?
r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,
r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+
"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o;}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;
return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);(function(){var h=this,p=h.Backbone,e;e=typeof exports!=="undefined"?exports:h.Backbone={};e.VERSION="0.5.1";var f=h._;if(!f&&typeof require!=="undefined")f=require("underscore")._;var g=h.jQuery||h.Zepto;e.noConflict=function(){h.Backbone=p;return this};e.emulateHTTP=!1;e.emulateJSON=!1;e.Events={bind:function(a,b){var c=this._callbacks||(this._callbacks={});(c[a]||(c[a]=[])).push(b);return this},unbind:function(a,b){var c;if(a){if(c=this._callbacks)if(b){c=c[a];if(!c)return this;for(var d=0,e=c.length;d<
e;d++)if(b===c[d]){c[d]=null;break}}else c[a]=[]}else this._callbacks={};return this},trigger:function(a){var b,c,d,e,f=2;if(!(c=this._callbacks))return this;for(;f--;)if(b=f?a:"all",b=c[b])for(var g=0,h=b.length;g<h;g++)(d=b[g])?(e=f?Array.prototype.slice.call(arguments,1):arguments,d.apply(this,e)):(b.splice(g,1),g--,h--);return this}};e.Model=function(a,b){var c;a||(a={});if(c=this.defaults)f.isFunction(c)&&(c=c()),a=f.extend({},c,a);this.attributes={};this._escapedAttributes={};this.cid=f.uniqueId("c");
this.set(a,{silent:!0});this._changed=!1;this._previousAttributes=f.clone(this.attributes);if(b&&b.collection)this.collection=b.collection;this.initialize(a,b)};f.extend(e.Model.prototype,e.Events,{_previousAttributes:null,_changed:!1,idAttribute:"id",initialize:function(){},toJSON:function(){return f.clone(this.attributes)},get:function(a){return this.attributes[a]},escape:function(a){var b;if(b=this._escapedAttributes[a])return b;b=this.attributes[a];return this._escapedAttributes[a]=(b==null?"":
""+b).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27").replace(/\//g,"&#x2F;")},has:function(a){return this.attributes[a]!=null},set:function(a,b){b||(b={});if(!a)return this;if(a.attributes)a=a.attributes;var c=this.attributes,d=this._escapedAttributes;if(!b.silent&&this.validate&&!this._performValidation(a,b))return!1;if(this.idAttribute in a)this.id=a[this.idAttribute];var e=this._changing;this._changing=!0;
for(var g in a){var h=a[g];if(!f.isEqual(c[g],h))c[g]=h,delete d[g],this._changed=!0,b.silent||this.trigger("change:"+g,this,h,b)}!e&&!b.silent&&this._changed&&this.change(b);this._changing=!1;return this},unset:function(a,b){if(!(a in this.attributes))return this;b||(b={});var c={};c[a]=void 0;if(!b.silent&&this.validate&&!this._performValidation(c,b))return!1;delete this.attributes[a];delete this._escapedAttributes[a];a==this.idAttribute&&delete this.id;this._changed=!0;b.silent||(this.trigger("change:"+
a,this,void 0,b),this.change(b));return this},clear:function(a){a||(a={});var b,c=this.attributes,d={};for(b in c)d[b]=void 0;if(!a.silent&&this.validate&&!this._performValidation(d,a))return!1;this.attributes={};this._escapedAttributes={};this._changed=!0;if(!a.silent){for(b in c)this.trigger("change:"+b,this,void 0,a);this.change(a)}return this},fetch:function(a){a||(a={});var b=this,c=a.success;a.success=function(d,e,f){if(!b.set(b.parse(d,f),a))return!1;c&&c(b,d)};a.error=i(a.error,b,a);return(this.sync||
e.sync).call(this,"read",this,a)},save:function(a,b){b||(b={});if(a&&!this.set(a,b))return!1;var c=this,d=b.success;b.success=function(a,e,f){if(!c.set(c.parse(a,f),b))return!1;d&&d(c,a,f)};b.error=i(b.error,c,b);var f=this.isNew()?"create":"update";return(this.sync||e.sync).call(this,f,this,b)},destroy:function(a){a||(a={});if(this.isNew())return this.trigger("destroy",this,this.collection,a);var b=this,c=a.success;a.success=function(d){b.trigger("destroy",b,b.collection,a);c&&c(b,d)};a.error=i(a.error,
b,a);return(this.sync||e.sync).call(this,"delete",this,a)},url:function(){var a=k(this.collection)||this.urlRoot||l();if(this.isNew())return a;return a+(a.charAt(a.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this)},isNew:function(){return this.id==null},change:function(a){this.trigger("change",this,a);this._previousAttributes=f.clone(this.attributes);this._changed=!1},hasChanged:function(a){if(a)return this._previousAttributes[a]!=
this.attributes[a];return this._changed},changedAttributes:function(a){a||(a=this.attributes);var b=this._previousAttributes,c=!1,d;for(d in a)f.isEqual(b[d],a[d])||(c=c||{},c[d]=a[d]);return c},previous:function(a){if(!a||!this._previousAttributes)return null;return this._previousAttributes[a]},previousAttributes:function(){return f.clone(this._previousAttributes)},_performValidation:function(a,b){var c=this.validate(a);if(c)return b.error?b.error(this,c,b):this.trigger("error",this,c,b),!1;return!0}});
e.Collection=function(a,b){b||(b={});if(b.comparator)this.comparator=b.comparator;f.bindAll(this,"_onModelEvent","_removeReference");this._reset();a&&this.reset(a,{silent:!0});this.initialize.apply(this,arguments)};f.extend(e.Collection.prototype,e.Events,{model:e.Model,initialize:function(){},toJSON:function(){return this.map(function(a){return a.toJSON()})},add:function(a,b){if(f.isArray(a))for(var c=0,d=a.length;c<d;c++)this._add(a[c],b);else this._add(a,b);return this},remove:function(a,b){if(f.isArray(a))for(var c=
0,d=a.length;c<d;c++)this._remove(a[c],b);else this._remove(a,b);return this},get:function(a){if(a==null)return null;return this._byId[a.id!=null?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},sort:function(a){a||(a={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");this.models=this.sortBy(this.comparator);a.silent||this.trigger("reset",this,a);return this},pluck:function(a){return f.map(this.models,function(b){return b.get(a)})},
reset:function(a,b){a||(a=[]);b||(b={});this.each(this._removeReference);this._reset();this.add(a,{silent:!0});b.silent||this.trigger("reset",this,b);return this},fetch:function(a){a||(a={});var b=this,c=a.success;a.success=function(d,f,e){b[a.add?"add":"reset"](b.parse(d,e),a);c&&c(b,d)};a.error=i(a.error,b,a);return(this.sync||e.sync).call(this,"read",this,a)},create:function(a,b){var c=this;b||(b={});a=this._prepareModel(a,b);if(!a)return!1;var d=b.success;b.success=function(a,e,f){c.add(a,b);
d&&d(a,e,f)};a.save(null,b);return a},parse:function(a){return a},chain:function(){return f(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(a,b){if(a instanceof e.Model){if(!a.collection)a.collection=this}else{var c=a;a=new this.model(c,{collection:this});a.validate&&!a._performValidation(c,b)&&(a=!1)}return a},_add:function(a,b){b||(b={});a=this._prepareModel(a,b);if(!a)return!1;var c=this.getByCid(a)||this.get(a);if(c)throw Error(["Can't add the same model to a set twice",
c.id]);this._byId[a.id]=a;this._byCid[a.cid]=a;this.models.splice(b.at!=null?b.at:this.comparator?this.sortedIndex(a,this.comparator):this.length,0,a);a.bind("all",this._onModelEvent);this.length++;b.silent||a.trigger("add",a,this,b);return a},_remove:function(a,b){b||(b={});a=this.getByCid(a)||this.get(a);if(!a)return null;delete this._byId[a.id];delete this._byCid[a.cid];this.models.splice(this.indexOf(a),1);this.length--;b.silent||a.trigger("remove",a,this,b);this._removeReference(a);return a},
_removeReference:function(a){this==a.collection&&delete a.collection;a.unbind("all",this._onModelEvent)},_onModelEvent:function(a,b,c,d){(a=="add"||a=="remove")&&c!=this||(a=="destroy"&&this._remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],this._byId[b.id]=b),this.trigger.apply(this,arguments))}});f.each(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max",
"min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty"],function(a){e.Collection.prototype[a]=function(){return f[a].apply(f,[this.models].concat(f.toArray(arguments)))}});e.Router=function(a){a||(a={});if(a.routes)this.routes=a.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var q=/:([\w\d]+)/g,r=/\*([\w\d]+)/g,s=/[-[\]{}()+?.,\\^$|#\s]/g;f.extend(e.Router.prototype,e.Events,{initialize:function(){},route:function(a,b,c){e.history||
(e.history=new e.History);f.isRegExp(a)||(a=this._routeToRegExp(a));e.history.route(a,f.bind(function(d){d=this._extractParameters(a,d);c.apply(this,d);this.trigger.apply(this,["route:"+b].concat(d))},this))},navigate:function(a,b){e.history.navigate(a,b)},_bindRoutes:function(){if(this.routes){var a=[],b;for(b in this.routes)a.unshift([b,this.routes[b]]);b=0;for(var c=a.length;b<c;b++)this.route(a[b][0],a[b][1],this[a[b][1]])}},_routeToRegExp:function(a){a=a.replace(s,"\\$&").replace(q,"([^/]*)").replace(r,
"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});e.History=function(){this.handlers=[];f.bindAll(this,"checkUrl")};var j=/^#*/,t=/msie [\w.]+/,m=!1;f.extend(e.History.prototype,{interval:50,getFragment:function(a,b){if(a==null)if(this._hasPushState||b){a=window.location.pathname;var c=window.location.search;c&&(a+=c);a.indexOf(this.options.root)==0&&(a=a.substr(this.options.root.length))}else a=window.location.hash;return a.replace(j,"")},start:function(a){if(m)throw Error("Backbone.history has already been started");
this.options=f.extend({},{root:"/"},this.options,a);this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);a=this.getFragment();var b=document.documentMode;if(b=t.exec(navigator.userAgent.toLowerCase())&&(!b||b<=7))this.iframe=g('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a);this._hasPushState?g(window).bind("popstate",this.checkUrl):"onhashchange"in window&&!b?
g(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval);this.fragment=a;m=!0;a=window.location;b=a.pathname==this.options.root;if(this._wantsPushState&&!this._hasPushState&&!b)this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment);else if(this._wantsPushState&&this._hasPushState&&b&&a.hash)this.fragment=a.hash.replace(j,""),window.history.replaceState({},document.title,a.protocol+"//"+a.host+this.options.root+this.fragment);
return this.loadUrl()},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();a==this.fragment&&this.iframe&&(a=this.getFragment(this.iframe.location.hash));if(a==this.fragment||a==decodeURIComponent(this.fragment))return!1;this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return f.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},
navigate:function(a,b){var c=(a||"").replace(j,"");if(!(this.fragment==c||this.fragment==decodeURIComponent(c))){if(this._hasPushState){var d=window.location;c.indexOf(this.options.root)!=0&&(c=this.options.root+c);this.fragment=c;window.history.pushState({},document.title,d.protocol+"//"+d.host+c)}else if(window.location.hash=this.fragment=c,this.iframe&&c!=this.getFragment(this.iframe.location.hash))this.iframe.document.open().close(),this.iframe.location.hash=c;b&&this.loadUrl(a)}}});e.View=function(a){this.cid=
f.uniqueId("view");this._configure(a||{});this._ensureElement();this.delegateEvents();this.initialize.apply(this,arguments)};var u=/^(\S+)\s*(.*)$/,n=["model","collection","el","id","attributes","className","tagName"];f.extend(e.View.prototype,e.Events,{tagName:"div",$:function(a){return g(a,this.el)},initialize:function(){},render:function(){return this},remove:function(){g(this.el).remove();return this},make:function(a,b,c){a=document.createElement(a);b&&g(a).attr(b);c&&g(a).html(c);return a},delegateEvents:function(a){if(a||
(a=this.events))for(var b in g(this.el).unbind(".delegateEvents"+this.cid),a){var c=this[a[b]];if(!c)throw Error('Event "'+a[b]+'" does not exist');var d=b.match(u),e=d[1];d=d[2];c=f.bind(c,this);e+=".delegateEvents"+this.cid;d===""?g(this.el).bind(e,c):g(this.el).delegate(d,e,c)}},_configure:function(a){this.options&&(a=f.extend({},this.options,a));for(var b=0,c=n.length;b<c;b++){var d=n[b];a[d]&&(this[d]=a[d])}this.options=a},_ensureElement:function(){if(this.el){if(f.isString(this.el))this.el=
g(this.el).get(0)}else{var a=this.attributes||{};if(this.id)a.id=this.id;if(this.className)a["class"]=this.className;this.el=this.make(this.tagName,a)}}});e.Model.extend=e.Collection.extend=e.Router.extend=e.View.extend=function(a,b){var c=v(this,a,b);c.extend=this.extend;return c};var w={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(a,b,c){var d=w[a];c=f.extend({type:d,dataType:"json",processData:!1},c);if(!c.url)c.url=k(b)||l();if(!c.data&&b&&(a=="create"||a=="update"))c.contentType=
"application/json",c.data=JSON.stringify(b.toJSON());if(e.emulateJSON)c.contentType="application/x-www-form-urlencoded",c.processData=!0,c.data=c.data?{model:c.data}:{};if(e.emulateHTTP&&(d==="PUT"||d==="DELETE")){if(e.emulateJSON)c.data._method=d;c.type="POST";c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d)}}return g.ajax(c)};var o=function(){},v=function(a,b,c){var d;d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){return a.apply(this,arguments)};f.extend(d,
a);o.prototype=a.prototype;d.prototype=new o;b&&f.extend(d.prototype,b);c&&f.extend(d,c);d.prototype.constructor=d;d.__super__=a.prototype;return d},k=function(a){if(!a||!a.url)return null;return f.isFunction(a.url)?a.url():a.url},l=function(){throw Error('A "url" property or function must be specified');},i=function(a,b,c){return function(d){a?a(b,d,c):b.trigger("error",b,d,c)}}}).call(this);var fakeworker=function(global){function extend(dest,src){for(var i in src)dest[i]=src[i]}var userAgent=navigator.userAgent.toLowerCase();var browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};function httpSuccess(xhr){try{return!xhr.status&&location.protocol=="file:"||xhr.status>=200&&
xhr.status<300||xhr.status==304||xhr.status==1223||browser.safari&&xhr.status==undefined}catch(e){}return false}function __syncXhrGet(url,fn){var xhr=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;xhr.open("GET",url,false);xhr.send("");if(httpSuccess(xhr))fn(xhr);else throw new Error("Could not load resource("+url+") result="+xhr.status+":"+xhr.statusText);}function parseUri(str){var o=parseUri.options,m=o.parser[o.strictMode?"strict":"loose"].exec(str),uri={},i=14;
while(i--)uri[o.key[i]]=m[i]||"";uri[o.q.name]={};uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){if($1)uri[o.q.name][$1]=$2});return uri}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function absolutePath(path){var e=document.createElement("span");e.innerHTML='<a href="'+path+'" />';return e.firstChild.href}function FakeMessageEvent(worker){extend(this,Event);Event.constructor.call(this);this.currentTarget=worker;this.srcElement=worker;this.target=worker;this.timestamp=(new Date).getTime()}
FakeMessageEvent.prototype={initMessageEvent:function(type,canBubble,cancelable,data,origin,lastEventId,source,ports){this.initMessageEventNS("",type,canBubble,cancelable,data,origin,lastEventId,source,ports)},initMessageEventNS:function(namespaceURI,type,canBubble,cancelable,data,origin,lastEventId,source,ports){this.namespaceURI=namespaceURI;this.type=type;this.canBubble=canBubble;this.cancelable=cancelable;this.data=data;this.origin=origin;this.lastEventId=lastEventId;this.source=source;this.ports=
ports}};function FakeErrorEvent(worker){extend(this,Event);Event.constructor.call(this);this.currentTarget=worker;this.srcElement=worker;this.target=worker;this.timestamp=(new Date).getTime()}FakeErrorEvent.prototype={initErrorEvent:function(type,canBubble,cancelable,message,filename,lineno){this.initErrorEventNS("",type,canBubble,cancelable,message,filename,lineno)},initErrorEventNS:function(namespaceURI,type,canBubble,cancelable,message,filename,lineno){this.namespaceURI=namespaceURI;this.type=
type;this.canBubble=canBubble;this.cancelable=cancelable;this.message=message;this.filename=filename;this.lineno=lineno}};var nativeWorker=global["Worker"];var FakeWorker=function(url){var self=this;this._listenerNamespaces={};this._eventQueues={};__syncXhrGet(url,function(xhr){try{self._workerContext=new FakeWorkerContext(url,xhr.responseText,self)}catch(e){throw e;}})};FakeWorker.prototype={isFake:true,addEventListener:function(type,listener,useCapture){this.addEventListenerNS("",type,listener,
useCapture)},addEventListenerNS:function(namespaceURI,type,listener,useCapture){var namespace=this._listenerNamespaces[namespaceURI];if(!namespace)this._listenerNamespaces[namespaceURI]=namespace={};var listeners=namespace[type];if(!listeners)namespace[type]=listeners=[];listeners.push(listener)},removeEventListener:function(type,listener,useCapture){this.removeEventListener("",type,listener,useCapture)},removeEventListenerNS:function(namespaceURI,eventName,fn,useCapture){var namespace=this._listenerNamespaces[namespaceURI];
if(namespace){var listeners=namespace[type];if(listeners)for(var i=0;i<listeners.length;i++)if(listeners[i]===listener)delete listeners[i]}},dispatchEvent:function(event){if(typeof this["on"+event.type]=="function")this["on"+event.type].call(this,event);var namespace=this._listenerNamespaces[event.namespaceURI];if(namespace){var listeners=namespace[event.type];if(listeners)for(var i=0;i<listeners.length;i++)listeners[i].call(this,event)}return true},postMessage:function(msg){var self=this;var workerContext=
this._workerContext;if(typeof workerContext.onmessage=="function"){var event=new FakeMessageEvent(self);event.initMessageEvent("message",false,false,msg,"","",null,null);setTimeout(function(){try{workerContext.onmessage.call(workerContext,event)}catch(e){var errorEvent=new FakeErrorEvent(self);var lineno=e.line||e.lineNumber;errorEvent.initErrorEvent("error",false,false,e.message,workerContext.location.filename,lineno);self.dispatchEvent(errorEvent);throw e;}},0)}},terminate:function(){this._workerContext.close()}};
function FakeWorkerLocation(url){var absolute=absolutePath(url);var parsed=parseUri(absolute);this.href=absolute;this.protocol=parsed.protocol+":";this.host=parsed.port?parsed.host+":"+parsed.port:parsed.host;this.hostname=parsed.host;this.port=parsed.port;this.pathname=parsed.path;this.search=parsed.query?"?"+parsed.query:"";this.hash=parsed.anchor?"#"+parsed.anchor:"";this.filename=parsed.file}FakeWorkerLocation.prototype={toString:function(){return this.href}};function FakeWorkerContext(url,source,
worker){var postMessage=this.postMessage=function(msg){var event=new FakeMessageEvent(worker);event.initMessageEvent("message",false,false,msg,"","",null,null);setTimeout(function(){worker.dispatchEvent(event)},0)};var setTimeout=this.setTimeout=global.setTimeout;var clearTimeout=this.clearTimeout=global.clearTimeout;var setInterval=this.setInterval=global.setInterval;var clearInterval=this.clearInterval=global.clearInterval;var XMLHttpRequest=this.XMLHttpRequest=global.XMLHttpRequest;var openDatabase=
this.openDatabase=global.openDatabase;var openDatabaseSync=this.openDatabaseSync=global.openDatabaseSync;var WebSocket=this.WebSocket=global.WebSocket;var EventSource=this.EventSource=global.EventSource;var MessageChannel=this.MessageChannel=global.MessageChannel;var Worker=this.Worker=FakeWorker;var location=this.location=new FakeWorkerLocation(url);var close=this.close=function(){this.closing=true};var navigator=this.navigator=global.navigator;var self=this.self=this;var importScripts=this.importScripts=
function(){for(var i=0;i<arguments.length;i++)__syncXhrGet(arguments[i],function(xhr){eval(xhr.responseText)})};eval(source);try{if(typeof onmessage=="function")this.onmessage=onmessage}catch(e){}}var ret={nativeWorker:nativeWorker,install:function(){global["Worker"]=FakeWorker},uninstall:function(){global["Worker"]=nativeWorker}};if(typeof Worker==="undefined"||browser.opera)ret.install();return ret}(this);(function(exports){exports.utils=exports.utils||{};if(!String.fromCodePoint)(function(){var defineProperty=function(){var result;try{var object={};var $defineProperty=Object.defineProperty;result=$defineProperty(object,object,object)&&$defineProperty}catch(error){}return result}();var stringFromCharCode=String.fromCharCode;var floor=Math.floor;var fromCodePoint=function(){var MAX_SIZE=16384;var codeUnits=[];var highSurrogate;var lowSurrogate;var index=-1;var length=arguments.length;if(!length)return"";
var result="";while(++index<length){var codePoint=Number(arguments[index]);if(!isFinite(codePoint)||codePoint<0||codePoint>1114111||floor(codePoint)!==codePoint)throw RangeError("Invalid code point: "+codePoint);if(codePoint<=65535)codeUnits.push(codePoint);else{codePoint-=65536;highSurrogate=(codePoint>>10)+55296;lowSurrogate=codePoint%1024+56320;codeUnits.push(highSurrogate,lowSurrogate)}if(index+1===length||codeUnits.length>MAX_SIZE){result+=stringFromCharCode.apply(null,codeUnits);codeUnits.length=
0}}return result};if(defineProperty)defineProperty(String,"fromCodePoint",{"value":fromCodePoint,"configurable":true,"writable":true});else String.fromCodePoint=fromCodePoint})();exports.console=exports.console||{log:function(){},warn:function(){},error:function(){},assert:function(){}};console.assert=function(condition,message){if(!condition)if(exports._trnDebugMode)throw new Error("Assertion failed: "+message);else console.warn("Assertion failed: "+message)};exports.$log=exports.$out=function(){Array.prototype.forEach.call(arguments,
function(e){console.log(e)})};var ie=function(){var ua=navigator.userAgent.toLowerCase();var match=/(msie) ([\w.]+)/.exec(ua)||/(trident)(?:.*? rv:([\w.]+)|)/.exec(ua);return match?parseInt(match[2],10):match}();exports.utils.ie=ie;var ieWebView=function(){return exports.utils.ie&&exports.navigator.userAgent.toLowerCase().indexOf("webview")>-1}();exports.utils.ieWebView=ieWebView;var ieWebViewLocal=function(){return exports.utils.ieWebView&&window.location.href.indexOf("ms-appx-web://")===0}();exports.utils.ieWebViewLocal=
ieWebViewLocal;exports.utils.isEdge=navigator.userAgent.match(/Edge/i)?true:false;exports.busyLoop=function(step,finished,sync){var start=Date.now();function nextSlice(){while(step())if(Date.now()-start>100&&!sync){start=Date.now();setTimeout(nextSlice,0);return}finished()}nextSlice()};exports.utils.mouseUpEventBug=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?true:false;exports.utils.isChrome=function(){var opera=window.navigator.userAgent.match(/OPR/);var maxthon=window.navigator.userAgent.match(/Maxthon/);
var edge=window.navigator.userAgent.match(/Edge/);return window.navigator.userAgent.match(/Chrome\/(.*?) /)&&!opera&&!maxthon&&!edge}();var chromeVersion=function(){var match=window.navigator.userAgent.match(/Chrome\/(.*?) /);return match?parseInt(match[1],10):match}();exports.utils.chromeHasSubzero=exports.utils.isChrome&&chromeVersion>=56;exports.utils.isSafari=window.navigator.userAgent.match(/Safari/)&&!exports.utils.isChrome;exports.utils.disableFormCharacterProcessing=window.navigator.userAgent.indexOf("Android")>
-1;var multiplierOverride;var getCanvasMultiplier=function(){return function(){if(!_.isUndefined(multiplierOverride))return multiplierOverride;return window.devicePixelRatio||1}}();exports.utils.getCanvasMultiplier=getCanvasMultiplier;exports.utils.setCanvasMultiplier=function(value){multiplierOverride=value};exports.utils.unsetCanvasMultiplier=function(){multiplierOverride=undefined};if(window.CanvasPixelArray)window.CanvasPixelArray.prototype.set=function(arr){var l=this.length,i=0;for(;i<l;i+=
4){this[i]=arr[i];this[i+1]=arr[i+1];this[i+2]=arr[i+2];this[i+3]=255}};if(!window.Uint8ClampedArray)window.Uint8ClampedArray=window.Uint8Array;var canvasClipBug=function(){function basicClipIssue(){var canvas=document.createElement("canvas");canvas.style.width="1px";canvas.style.height="1px";var ctx=canvas.getContext("2d");ctx.fillStyle="#FFFFFF";ctx.fillRect(0,0,1,1);ctx.beginPath();ctx.rect(0,0,1,1);ctx.clip();ctx.fillStyle="#000000";ctx.fillRect(0,0,1,1);var val=ctx.getImageData(0,0,1,1).data[0];
return val===255}function nonIntegerValueIssue(){var canvas=document.createElement("canvas");canvas.style.width="5px";canvas.style.height="5px";var ctx=canvas.getContext("2d");ctx.rect(0,0,4.5,4.5);ctx.clip();ctx.fillStyle="#FFFFFF";ctx.fillRect(0,0,5,5);ctx.clearRect(0,0,5,5);var val=ctx.getImageData(1,1,1,1).data[3];return val!==0}return basicClipIssue()||nonIntegerValueIssue()}();exports.utils.canvasClipBug=canvasClipBug;var typedArrayApply=function(){if(exports.Uint8Array)try{var testArray=new exports.Uint8Array(new ArrayBuffer(1));
String.fromCharCode.apply(null,testArray);return true}catch(e){return false}else return false}();exports.utils.typedArrayApply=typedArrayApply;exports.utils.hasObjectURL=!!(exports.URL&&exports.URL.createObjectURL);if(!Document.prototype.createAttributeNS)Document.prototype.createAttributeNS=function(namespaceURI,qualifiedName){var dummy=this.createElement("dummy");dummy.setAttributeNS(namespaceURI,qualifiedName,"");var attr=dummy.attributes[0];dummy.removeAttributeNode(attr);return attr};if(!Element.prototype.setAttributeNodeNS)Element.prototype.setAttributeNodeNS=
Element.prototype.setAttributeNode;exports.utils.xmlSerializerNamespaceSupported=function(){var body=document.createElementNS("http://www.w3.org/1999/xhtml","body");var attr=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:spec");attr.nodeValue="2.0.2";body.setAttributeNodeNS(attr);attr=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion");attr.nodeValue="Acrobat:10.1.3";body.setAttributeNodeNS(attr);var serializer=new XMLSerializer;var annotstr=
serializer.serializeToString(body);function passTest(actual){return actual.indexOf(' xmlns="http://www.w3.org/1999/xhtml"')>0&&actual.indexOf(' xfa:spec="2.0.2"')>0&&actual.indexOf(' xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/"')>0&&actual.indexOf(' xfa:APIVersion="Acrobat:10.1.3"')>0}var result=passTest(annotstr);var $body=$("<body>").attr({"xmlns":"http://www.w3.org/1999/xhtml","xmlns:xfa":"http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion":"Acrobat:10.1.3","xfa:spec":"2.0.2"});annotstr=
serializer.serializeToString($body[0]);exports.utils.xmlSerializerJQueryNamespaceSupported=passTest(annotstr);return result}();window.matchMedia||(window.matchMedia=function(){var styleMedia=window.styleMedia||window.media;if(!styleMedia){var style=document.createElement("style"),script=document.getElementsByTagName("script")[0],info=null;style.type="text/css";style.id="matchmediajs-test";script.parentNode.insertBefore(style,script);info="getComputedStyle"in window&&window.getComputedStyle(style,
null)||style.currentStyle;styleMedia={matchMedium:function(media){var text="@media "+media+"{ #matchmediajs-test { width: 1px; } }";if(style.styleSheet)style.styleSheet.cssText=text;else style.textContent=text;return info.width==="1px"}}}return function(media){return{matches:styleMedia.matchMedium(media||"all"),media:media||"all"}}}());(function(){if(window.matchMedia&&window.matchMedia("all").addListener)return false;var localMatchMedia=window.matchMedia,hasMediaQueries=localMatchMedia("only all").matches,
isListening=false,timeoutID=0,queries=[],handleChange=function(){clearTimeout(timeoutID);timeoutID=setTimeout(function(){for(var i=0,il=queries.length;i<il;i++){var mql=queries[i].mql,listeners=queries[i].listeners||[],matches=localMatchMedia(mql.media).matches;if(matches!==mql.matches){mql.matches=matches;for(var j=0,jl=listeners.length;j<jl;j++)listeners[j].call(window,mql)}}},30)};window.matchMedia=function(media){var mql=localMatchMedia(media),listeners=[],index=0;mql.addListener=function(listener){if(!hasMediaQueries)return;
if(!isListening){isListening=true;window.addEventListener("resize",handleChange,true)}if(index===0)index=queries.push({mql:mql,listeners:listeners});listeners.push(listener)};mql.removeListener=function(listener){for(var i=0,il=listeners.length;i<il;i++)if(listeners[i]===listener)listeners.splice(i,1)};return mql}})();exports.utils.specialBlendSupportedTest=function(){var canvas=document.createElement("canvas");canvas.width=1;canvas.height=1;var ctx=canvas.getContext("2d");ctx.fillStyle="#000";ctx.fillRect(0,
0,1,1);ctx.globalCompositeOperation="multiply";ctx.fillStyle="#fff";ctx.fillRect(0,0,1,1);var result=ctx.getImageData(0,0,1,1).data[0]===0;exports.utils.specialBlendSupported=result;return result}();var vendors=["webkit","moz"];for(var i=0;i<vendors.length&&!window.requestAnimationFrame;++i){var vp=vendors[i];window.requestAnimationFrame=window[vp+"RequestAnimationFrame"];window.cancelAnimationFrame=window[vp+"CancelAnimationFrame"]||window[vp+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||
!window.requestAnimationFrame||!window.cancelAnimationFrame){var lastTime=0;window.requestAnimationFrame=function(callback){var now=Date.now();var nextTime=Math.max(lastTime+16,now);return setTimeout(function(){callback(lastTime=nextTime)},nextTime-now)};window.cancelAnimationFrame=clearTimeout}exports.utils.hasClass=function(element,cls){return(" "+element.className+" ").indexOf(" "+cls+" ")>-1};exports.utils.eventHandler={on:function(event,handler){this.applyWithArgs($(this).on,arguments);return this},
off:function(event,handler){this.applyWithArgs($(this).off,arguments);return this},trigger:function(event,params){this.applyWithArgs($(this).triggerHandler,arguments);return this},applyWithArgs:function(func,args){func.apply($(this),Array.prototype.slice.call(args))}};exports.utils.isEditableElement=function(ele){return ele.is("input:text")||ele.is("textarea")};var debug=exports._trnDebugMode;var warn=function(msg){if(debug)console.warn(msg)};var log=function(msg){if(debug)console.log(msg)};var error=
function(msg){if(debug)console.error(msg);throw new Error(msg);};exports.utils.warn=warn;exports.utils.log=log;exports.utils.error=error;if(!exports.server)exports.server={log:function(){},error:function(){},capture:function(){}};var arrprint=function(array,msg){var str="[";for(var i=0;i<array.length;i++){str+=array[i];if(i>=array.length-1)break;str+=", "}str+="]";if(!_.isUndefined(msg))str+=" "+msg;console.log(str)};exports.utils.arrprint=arrprint;var logvar=function(varname,variable){if(_.isArray(varname)&&
_.isArray(variable)&&varname.length===variable.length){var varlist="";for(var i=0;i<varname.length;i++)varlist=varlist+varname[i]+": "+variable[i]+" ";console.log(varlist)}else console.log(varname+": "+variable)};exports.utils.logvar=logvar;var fCmp=function(f1,f2){var eps=1E-6;return Math.abs(f1-f2)<eps};exports.utils.fCmp=fCmp;var documentReady=function(callback){if(document.readyState==="complete")callback();else if(document.addEventListener)exports.addEventListener("load",function(){callback()},
false);else if(document.attachEvent)exports.attachEvent("onload",function(){callback()})};exports.utils.documentReady=documentReady;exports.runEval=function(str,c,t){c.clo=undefined;t.clo=undefined;eval(str);str=null};if(typeof Object.defineProperties==="undefined"){Object.defineProperty=function(prototype,name,property){if(property.get)prototype.__defineGetter__(name,property.get);if(property.set)prototype.__defineSetter__(name,property.set)};Object.defineProperties=function(prototype,properties){for(var name in properties)if(properties.hasOwnProperty(name)){var property=
properties[name];Object.defineProperty(prototype,name,property)}}}var canvasProto=CanvasRenderingContext2D.prototype;Object.defineProperties(canvasProto,{w:{set:function(val){this.lineWidth=val}},c:{set:function(val){this.lineCap=val}},s:{set:function(val){this.strokeStyle=val}},f:{set:function(val){this.fillStyle=val}},a:{set:function(val){this.globalAlpha=val}},n:{set:function(val){this.font=val}},i:{set:function(val){this.miterLimit=val}},j:{set:function(val){this.lineJoin=val}},g:{set:function(val){this.globalCompositeOperation=
val}}});_(canvasProto).extend({S:function(){if(typeof this.saves==="undefined")this.saves=0;this.saves++;this.save()},r:function(){this.saves--;this.restore()},t:canvasProto.transform,T:canvasProto.translate,ro:canvasProto.rotate,L:canvasProto.createLinearGradient,R:canvasProto.createRadialGradient,P:canvasProto.createPattern,b:canvasProto.beginPath,z:canvasProto.closePath,F:canvasProto.fill,X:canvasProto.stroke,C:canvasProto.clip,M:canvasProto.moveTo,m:canvasProto.measureText,l:canvasProto.lineTo,
q:canvasProto.quadraticCurveTo,B:canvasProto.bezierCurveTo,x:canvasProto.fillText,fillTextCustom:function(text,x,y){},xc:function(text,x,y){},tm:function(mapping){},cgb:function(){},cge:function(){},xw:function(text,x,y,skip_last){this.fillText(text,x,y)},xcw:function(text,x,y,skip_last){},I:function(img){if(typeof img!=="undefined")this.drawImage.apply(this,arguments)},Z:canvasProto.setTransform,d:canvasProto.getImageData,D:canvasProto.putImageData,e:canvasProto.scale,cr:function(x,y,w,h){this.beginPath();
this.rect(x,y,w,h);this.clip()}});Object.defineProperty(TextMetrics.prototype,"W",{get:function(){return this.width}});var CanvasGradientPrototype;if(typeof exports.CanvasGradient==="undefined")CanvasGradientPrototype=document.createElement("canvas").getContext("2d").createLinearGradient(0,0,0,0).__proto__;else CanvasGradientPrototype=CanvasGradient.prototype;_(CanvasGradientPrototype).extend({A:CanvasGradientPrototype.addColorStop});exports.utils.isRectIntersecting=function(rect1,rect2){if(rect1.x1<=
rect2.x2&&rect1.x2>=rect2.x1&&rect1.y1<=rect2.y2&&rect1.y2>=rect2.y1)return true;return false};exports.utils.containsRect=function(rect1,rect2){if(rect1.x1<=rect2.x1&&rect1.x2>=rect2.x2&&rect1.y1<=rect2.y1&&rect1.y2>=rect2.y2)return true;return false};exports.utils.getRectIntersection=function(rect1,rect2){var rect={x1:0,y1:0,x2:0,y2:0};if(exports.utils.isRectIntersecting(rect1,rect2)===true){rect.x1=Math.max(rect1.x1,rect2.x1);rect.y1=Math.max(rect1.y1,rect2.y1);rect.x2=Math.min(rect1.x2,rect2.x2);
rect.y2=Math.min(rect1.y2,rect2.y2)}return rect};exports.utils.normalizeRect=function(pt1,pt2){var x1=pt1.x;var x2=pt2.x;var y1=pt1.y;var y2=pt2.y;if(pt1.x>pt2.x){x2=pt1.x;x1=pt2.x}if(pt1.y>pt2.y){y2=pt1.y;y1=pt2.y}return{x1:x1,y1:y1,x2:x2,y2:y2}};exports.utils.getRotationOffsets=function(rotation,w,h){var dx=0,dy=0;rotation=Number(rotation);switch(rotation){case 90:dy=w;break;case 180:dx=w;dy=h;break;case 270:dx=h;break}return{dx:dx,dy:dy}};exports.json2xml=function(o,tab){var toXml=function(v,name,
ind){var xml="";if(v instanceof Array)for(var i=0,n=v.length;i<n;i++)xml+=ind+toXml(v[i],name,ind+"\t")+"\n";else if(typeof v=="object"){var hasChild=false;xml+=ind+"<"+name;for(var m in v)if(m.charAt(0)=="@")xml+=" "+m.substr(1)+'="'+v[m].toString()+'"';else hasChild=true;xml+=hasChild?">":"/>";if(hasChild){for(var m in v)if(m=="#text")xml+=v[m];else if(m=="#cdata")xml+="<![CDATA["+v[m]+"]]\x3e";else if(m.charAt(0)!="@")xml+=toXml(v[m],m,ind+"\t");xml+=(xml.charAt(xml.length-1)=="\n"?ind:"")+"</"+
name+">"}}else xml+=ind+"<"+name+">"+v.toString()+"</"+name+">";return xml},xml="";for(var m in o)xml+=toXml(o[m],m,"");return tab?xml.replace(/\t/g,tab):xml.replace(/\t|\n/g,"")};exports.roundToPrecision=function(number,precision){var factor=Math.pow(10,precision);var tempNumber=number*factor;var roundedTempNumber=Math.round(tempNumber);return roundedTempNumber/factor};exports.xml2json=function(xml,tab){var X={toObj:function(xml){var o={};if(xml.nodeType==1){if(xml.attributes.length)for(var i=0;i<
xml.attributes.length;i++)o["@"+xml.attributes[i].nodeName]=(xml.attributes[i].nodeValue||"").toString();if(xml.firstChild){var textChild=0,cdataChild=0,hasElementChild=false;for(var n=xml.firstChild;n;n=n.nextSibling)if(n.nodeType==1)hasElementChild=true;else if(n.nodeType==3&&n.nodeValue.match(/[^ \f\n\r\t\v]/))textChild++;else if(n.nodeType==4)cdataChild++;if(hasElementChild)if(textChild<2&&cdataChild<2){X.removeWhite(xml);for(var n=xml.firstChild;n;n=n.nextSibling)if(n.nodeType==3)o["#text"]=
X.escape(n.nodeValue);else if(n.nodeType==4)o["#cdata"]=X.escape(n.nodeValue);else if(o[n.nodeName])if(o[n.nodeName]instanceof Array)o[n.nodeName][o[n.nodeName].length]=X.toObj(n);else o[n.nodeName]=[o[n.nodeName],X.toObj(n)];else o[n.nodeName]=X.toObj(n)}else if(!xml.attributes.length)o=X.escape(X.innerXml(xml));else o["#text"]=X.escape(X.innerXml(xml));else if(textChild)if(!xml.attributes.length)o=X.escape(X.innerXml(xml));else o["#text"]=X.escape(X.innerXml(xml));else if(cdataChild)if(cdataChild>
1)o=X.escape(X.innerXml(xml));else for(var n=xml.firstChild;n;n=n.nextSibling)o["#cdata"]=X.escape(n.nodeValue)}if(!xml.attributes.length&&!xml.firstChild)o=null}else if(xml.nodeType==9)o=X.toObj(xml.documentElement);else alert("unhandled node type: "+xml.nodeType);return o},toJson:function(o,name,ind){var json=name?'"'+name+'"':"";if(o instanceof Array){for(var i=0,n=o.length;i<n;i++)o[i]=X.toJson(o[i],"",ind+"\t");json+=(name?":[":"[")+(o.length>1?"\n"+ind+"\t"+o.join(",\n"+ind+"\t")+"\n"+ind:o.join(""))+
"]"}else if(o==null)json+=(name&&":")+"null";else if(typeof o=="object"){var arr=[];for(var m in o)arr[arr.length]=X.toJson(o[m],m,ind+"\t");json+=(name?":{":"{")+(arr.length>1?"\n"+ind+"\t"+arr.join(",\n"+ind+"\t")+"\n"+ind:arr.join(""))+"}"}else if(typeof o=="string")json+=(name&&":")+'"'+o.toString()+'"';else json+=(name&&":")+o.toString();return json},innerXml:function(node){var s="";if("innerHTML"in node)s=node.innerHTML;else{var asXml=function(n){var s="";if(n.nodeType==1){s+="<"+n.nodeName;
for(var i=0;i<n.attributes.length;i++)s+=" "+n.attributes[i].nodeName+'="'+(n.attributes[i].nodeValue||"").toString()+'"';if(n.firstChild){s+=">";for(var c=n.firstChild;c;c=c.nextSibling)s+=asXml(c);s+="</"+n.nodeName+">"}else s+="/>"}else if(n.nodeType==3)s+=n.nodeValue;else if(n.nodeType==4)s+="<![CDATA["+n.nodeValue+"]]\x3e";return s};for(var c=node.firstChild;c;c=c.nextSibling)s+=asXml(c)}return s},escape:function(txt){return txt.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,
"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();for(var n=e.firstChild;n;)if(n.nodeType==3)if(!n.nodeValue.match(/[^ \f\n\r\t\v]/)){var nxt=n.nextSibling;e.removeChild(n);n=nxt}else n=n.nextSibling;else if(n.nodeType==1){X.removeWhite(n);n=n.nextSibling}else n=n.nextSibling;return e}};if(xml.nodeType==9)xml=xml.documentElement;var json=X.toJson(X.toObj(X.removeWhite(xml)),xml.nodeName,"\t");return"{\n"+tab+(tab?json.replace(/\t/g,tab):json.replace(/\t|\n/g,""))+"\n}"}})(window);function XMLWriter(a,b){if(a)this.encoding=a;if(b)this.version=b}
(function(){XMLWriter.prototype={encoding:"ISO-8859-1",version:"1.0",formatting:"indented",indentChar:"\t",indentation:1,newLine:"\n",writeStartDocument:function(a){this.close();this.stack=[];this.standalone=a},writeEndDocument:function(){this.active=this.root;this.stack=[]},writeDocType:function(a){this.doctype=a},writeStartElement:function(c,d){if(d)c=d+":"+c;var a=this,b=a.active,e={n:c,a:{},c:[]};if(b){b.c.push(e);this.stack.push(b)}else a.root=e;a.active=e},writeEndElement:function(){this.active=
this.stack.pop()||this.root},writeAttributeString:function(a,b){if(this.active)this.active.a[a]=b},writeString:function(a){if(this.active)this.active.c.push(a)},writeElementString:function(a,b,c){this.writeStartElement(a,c);this.writeString(b);this.writeEndElement()},writeCDATA:function(a){this.writeString("<![CDATA["+a+"]]\x3e")},writeComment:function(a){this.writeString("\x3c!-- "+a+" --\x3e")},flush:function(){var a=this,b="",c="",d=a.indentation,e=a.formatting.toLowerCase()=="indented",f='<?xml version="'+
a.version+'" encoding="'+a.encoding+'"';if(a.stack&&a.stack[0])a.writeEndDocument();if(a.standalone!==undefined)f+=' standalone="'+!!a.standalone+'"';f+=" ?>";f=[f];if(a.doctype&&a.root)f.push("<!DOCTYPE "+a.root.n+" "+a.doctype+">");if(e)while(d--)b+=a.indentChar;if(a.root)k(a.root,c,b,f);return f.join(e?a.newLine:"")},close:function(){var a=this;if(a.root)j(a.root);a.active=a.root=a.stack=null},getDocument:window.ActiveXObject?function(){var a=new ActiveXObject("Microsoft.XMLDOM");a.async=!1;a.loadXML(this.flush());
return a}:function(){return(new DOMParser).parseFromString(this.flush(),"text/xml")}};function j(a){var l=a.c.length;while(l--)if(typeof a.c[l]=="object")j(a.c[l]);a.n=a.a=a.c=null}function k(a,b,c,d){var e=b+"<"+a.n,f=a.c.length,g,h,i=0;for(g in a.a)e+=" "+g+'="'+a.a[g]+'"';e+=f?">":" />";d.push(e);if(f){do{h=a.c[i++];if(typeof h=="string")if(f==1)return d.push(d.pop()+h+"</"+a.n+">");else d.push(b+c+h);else if(typeof h=="object")k(h,b+c,c,d)}while(i<f);d.push(b+"</"+a.n+">")}}})();function X2JS(){var VERSION="1.0.5";var DOMNodeTypes={ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9};function getNodeLocalName(node){var nodeLocalName=node.localName;if(nodeLocalName==null)nodeLocalName=node.baseName;if(nodeLocalName==null||nodeLocalName=="")nodeLocalName=node.nodeName;return nodeLocalName}function getNodePrefix(node){return node.prefix}function parseDOMChildren(node){if(node.nodeType==DOMNodeTypes.DOCUMENT_NODE){var result=new Object;var child=node.getElementsByTagName("xfdf")[0];var childName=
"xfdf";result[childName]=parseDOMChildren(child);return result}else if(node.nodeType==DOMNodeTypes.ELEMENT_NODE){var result=new Object;result.__cnt=0;var nodeChildren=node.childNodes;for(var cidx=0;cidx<nodeChildren.length;cidx++){var child=nodeChildren.item(cidx);var childName=getNodeLocalName(child);result.__cnt++;var childJsonObj=parseDOMChildren(child);if(result[childName]==null)result[childName]=childJsonObj;else{if(result[childName]!=null)if(!(result[childName]instanceof Array)){var tmpObj=
result[childName];result[childName]=new Array;result[childName][0]=tmpObj}var aridx=0;while(result[childName][aridx]!=null)aridx++;result[childName][aridx]=childJsonObj}if(result["__children"]==null)result["__children"]=new Array;result["__children"].push({"key":childName,"value":childJsonObj})}for(var aidx=0;aidx<node.attributes.length;aidx++){var attr=node.attributes.item(aidx);result.__cnt++;result["_"+attr.name]=attr.value}var nodePrefix=getNodePrefix(node);if(nodePrefix!=null&&nodePrefix!=""){result.__cnt++;
result.__prefix=nodePrefix}if(result.__cnt==1&&result["#text"]!=null)result=result["#text"];if(result["#text"]!=null){result.__text=result["#text"];result["#text"]=null;result.toString=function(){return this.__text}}return result}else if(node.nodeType==DOMNodeTypes.TEXT_NODE)return node.nodeValue}function startTag(jsonObj,element,attrList,closed){var resultStr="<"+(jsonObj.__prefix!=null?jsonObj.__prefix+":":"")+element;if(attrList!=null)for(var aidx=0;aidx<attrList.length;aidx++){var attrName=attrList[aidx];
var attrVal=jsonObj[attrName];resultStr+=" "+attrName.substr(1)+"='"+attrVal+"'"}if(!closed)resultStr+=">";else resultStr+="/>";return resultStr}function endTag(jsonObj,elementName){return"</"+(jsonObj.__prefix!=null?jsonObj.__prefix+":":"")+elementName+">\n"}function endsWith(str,suffix){return str.indexOf(suffix,str.length-suffix.length)!==-1}function parseJSONTextObject(jsonTxtObj){var result="";if(jsonTxtObj.__text!=null)result+=jsonTxtObj.__text;else result+=jsonTxtObj.toString();return result}
function parseJSONObject(jsonObj){var result="";for(var it in jsonObj){if(endsWith(it.toString(),"_asArray")||it.toString().indexOf("_")==0)continue;var subObj=jsonObj[it];if(typeof subObj=="function"||subObj==null)continue;var attrList=[];for(var ait in subObj)if(ait.toString().indexOf("__")==-1&&ait.toString().indexOf("_")==0)attrList.push(ait);if(subObj!=null&&subObj instanceof Object&&subObj.__text==null)if(subObj instanceof Array){var arrayOfObjects=true;if(subObj.length>0)arrayOfObjects=subObj[0]instanceof
Object;else result+=startTag(subObj,it,attrList,true);for(var arIdx=0;arIdx<subObj.length;arIdx++)if(arrayOfObjects)result+=parseJSONObject(subObj[arIdx]);else{result+=startTag(subObj,it,attrList,false);result+=parseJSONTextObject(subObj[arIdx]);result+=endTag(subObj,it)}}else{result+=startTag(subObj,it,attrList,false);result+=parseJSONObject(subObj);result+=endTag(subObj,it)}else{result+=startTag(subObj,it,attrList,false);result+=parseJSONTextObject(subObj);result+=endTag(subObj,it)}}return result}
this.parseXmlString=function(xmlDocStr){var xmlDoc;if(window.DOMParser){var parser=new DOMParser;xmlDoc=parser.parseFromString(xmlDocStr,"text/xml")}else{if(xmlDocStr.indexOf("<?")==0)xmlDocStr=xmlDocStr.substr(xmlDocStr.indexOf("?>")+2);xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlDocStr)}return xmlDoc};this.xml2json=function(xmlDoc){return parseDOMChildren(xmlDoc)};this.xml_str2json=function(xmlDocStr){var xmlDoc=this.parseXmlString(xmlDocStr);return this.xml2json(xmlDoc)};
this.json2xml_str=function(jsonObj){return parseJSONObject(jsonObj)};this.json2xml=function(jsonObj){var xmlDocStr=this.json2xml_str(jsonObj);return this.parseXmlString(xmlDocStr)}}var x2js=new X2JS;var idbModules={};
(function(idbModules){function callback(fn,context,event,func){event.target=context;typeof context[fn]==="function"&&context[fn].apply(context,[event]);typeof func==="function"&&func()}function throwDOMException(name,message,error){var e=new DOMException.constructor(0,message);e.name=name;e.message=message;e.stack=arguments.callee.caller;idbModules.DEBUG&&console.log(name,message,error,e);throw e;}var StringList=function(){this.length=0;this._items=[]};StringList.prototype={contains:function(str){return-1!==this._items.indexOf(str)},
item:function(key){return this._items[key]},indexOf:function(str){return this._items.indexOf(str)},push:function(item){this._items.push(item);this.length+=1},splice:function(){this._items.splice.apply(this._items,arguments);this.length=this._items.length}};idbModules.util={"throwDOMException":throwDOMException,"callback":callback,"quote":function(arg){return"'"+arg+"'"},"StringList":StringList}})(idbModules);
(function(idbModules){var Sca=function(){return{"encode":function(val){return JSON.stringify(val)},"decode":function(val){return JSON.parse(val)}}}();idbModules.Sca=Sca})(idbModules);
(function(idbModules){var collations=["","number","string","boolean","object","undefined"];var getGenericEncoder=function(){return{"encode":function(key){return collations.indexOf(typeof key)+"-"+JSON.stringify(key)},"decode":function(key){if(typeof key==="undefined")return undefined;else return JSON.parse(key.substring(2))}}};var types={"number":getGenericEncoder("number"),"boolean":getGenericEncoder(),"object":getGenericEncoder(),"string":{"encode":function(key){return collations.indexOf("string")+
"-"+key},"decode":function(key){return""+key.substring(2)}},"undefined":{"encode":function(key){return collations.indexOf("undefined")+"-undefined"},"decode":function(key){return undefined}}};var Key=function(){return{encode:function(key){return types[typeof key].encode(key)},decode:function(key){return types[collations[key.substring(0,1)]].decode(key)}}}();idbModules.Key=Key})(idbModules);
(function(idbModules,undefined){var Event=function(type,debug){return{"type":type,debug:debug,bubbles:false,cancelable:false,eventPhase:0,timeStamp:new Date}};idbModules.Event=Event})(idbModules);
(function(idbModules){var IDBRequest=function(){this.onsuccess=this.onerror=this.result=this.error=this.source=this.transaction=null;this.readyState="pending"};var IDBOpenRequest=function(){this.onblocked=this.onupgradeneeded=null};IDBOpenRequest.prototype=IDBRequest;idbModules.IDBRequest=IDBRequest;idbModules.IDBOpenRequest=IDBOpenRequest})(idbModules);
(function(idbModules,undefined){var IDBKeyRange=function(lower,upper,lowerOpen,upperOpen){this.lower=lower;this.upper=upper;this.lowerOpen=lowerOpen;this.upperOpen=upperOpen};IDBKeyRange.only=function(value){return new IDBKeyRange(value,value,true,true)};IDBKeyRange.lowerBound=function(value,open){return new IDBKeyRange(value,undefined,open,undefined)};IDBKeyRange.upperBound=function(value){return new IDBKeyRange(undefined,value,undefined,open)};IDBKeyRange.bound=function(lower,upper,lowerOpen,upperOpen){return new IDBKeyRange(lower,
upper,lowerOpen,upperOpen)};idbModules.IDBKeyRange=IDBKeyRange})(idbModules);
(function(idbModules,undefined){function IDBCursor(range,direction,idbObjectStore,cursorRequest,keyColumnName,valueColumnName){this.__range=range;this.source=this.__idbObjectStore=idbObjectStore;this.__req=cursorRequest;this.key=undefined;this.direction=direction;this.__keyColumnName=keyColumnName;this.__valueColumnName=valueColumnName;if(!this.source.transaction.__active)idbModules.util.throwDOMException("TransactionInactiveError - The transaction this IDBObjectStore belongs to is not active.");this.__offset=
-1;this.__lastKeyContinued=undefined;this["continue"]()}IDBCursor.prototype.__find=function(key,tx,success,error){var me=this;var sql=["SELECT * FROM ",idbModules.util.quote(me.__idbObjectStore.name)];var sqlValues=[];sql.push("WHERE ",me.__keyColumnName," NOT NULL");if(me.__range&&(me.__range.lower||me.__range.upper)){sql.push("AND");if(me.__range.lower){sql.push(me.__keyColumnName+(me.__range.lowerOpen?" >=":" >")+" ?");sqlValues.push(idbModules.Key.encode(me.__range.lower))}me.__range.lower&&me.__range.upper&&
sql.push("AND");if(me.__range.upper){sql.push(me.__keyColumnName+(me.__range.upperOpen?" <= ":" < ")+" ?");sqlValues.push(idbModules.Key.encode(me.__range.upper))}}if(typeof key!=="undefined"){me.__lastKeyContinued=key;me.__offset=0}if(me.__lastKeyContinued!==undefined){sql.push("AND "+me.__keyColumnName+" >= ?");sqlValues.push(idbModules.Key.encode(me.__lastKeyContinued))}sql.push("ORDER BY ",me.__keyColumnName);sql.push("LIMIT 1 OFFSET "+me.__offset);idbModules.DEBUG&&console.log(sql.join(" "),
sqlValues);tx.executeSql(sql.join(" "),sqlValues,function(tx,data){if(data.rows.length===1){var key=idbModules.Key.decode(data.rows.item(0)[me.__keyColumnName]);var val=me.__valueColumnName==="value"?idbModules.Sca.decode(data.rows.item(0)[me.__valueColumnName]):idbModules.Key.decode(data.rows.item(0)[me.__valueColumnName]);success(key,val)}else{idbModules.DEBUG&&console.log("Reached end of cursors");success(undefined,undefined)}},function(tx,data){idbModules.DEBUG&&console.log("Could not execute Cursor.continue");
error(data)})};IDBCursor.prototype["continue"]=function(key){var me=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__offset++;me.__find(key,tx,function(key,val){me.key=key;me.value=val;success(typeof me.key!=="undefined"?me:undefined,me.__req)},function(data){error(data)})})};IDBCursor.prototype.advance=function(count){if(count<=0)idbModules.util.throwDOMException("Type Error - Count is invalid - 0 or negative",count);var me=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,
args,success,error){me.__offset+=count;me.__find(undefined,tx,function(key,value){me.key=key;me.value=value;success(typeof me.key!=="undefined"?me:undefined,me.__req)},function(data){error(data)})})};IDBCursor.prototype.update=function(valueToUpdate){var me=this;return this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__find(undefined,tx,function(key,value){var sql="UPDATE "+idbModules.util.quote(me.__idbObjectStore.name)+" SET value = ? WHERE key = ?";idbModules.DEBUG&&
console.log(sql,valueToUpdate,key);tx.executeSql(sql,[idbModules.Sca.encode(valueToUpdate),idbModules.Key.encode(key)],function(tx,data){if(data.rowsAffected===1)success(key);else error("No rowns with key found"+key)},function(tx,data){error(data)})},function(data){error(data)})})};IDBCursor.prototype["delete"]=function(){var me=this;return this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__find(undefined,tx,function(key,value){var sql="DELETE FROM  "+idbModules.util.quote(me.__idbObjectStore.name)+
" WHERE key = ?";idbModules.DEBUG&&console.log(sql,key);tx.executeSql(sql,[idbModules.Key.encode(key)],function(tx,data){if(data.rowsAffected===1)success(undefined);else error("No rowns with key found"+key)},function(tx,data){error(data)})},function(data){error(data)})})};idbModules.IDBCursor=IDBCursor})(idbModules);
(function(idbModules,undefined){function IDBIndex(indexName,idbObjectStore){this.indexName=indexName;this.__idbObjectStore=this.source=idbObjectStore}IDBIndex.prototype.__createIndex=function(indexName,keyPath,optionalParameters){var me=this;var transaction=me.__idbObjectStore.transaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){me.__idbObjectStore.__getStoreProps(tx,function(){function error(){idbModules.util.throwDOMException(0,"Could not create new index",arguments)}
if(transaction.mode!==2)idbModules.util.throwDOMException(0,"Invalid State error, not a version transaction",me.transaction);var idxList=JSON.parse(me.__idbObjectStore.__storeProps.indexList);if(typeof idxList[indexName]!=="undefined")idbModules.util.throwDOMException(0,"Index already exists on store",idxList);var columnName=indexName;idxList[indexName]={"columnName":columnName,"keyPath":keyPath,"optionalParams":optionalParameters};me.__idbObjectStore.__storeProps.indexList=JSON.stringify(idxList);
var sql=["ALTER TABLE",idbModules.util.quote(me.__idbObjectStore.name),"ADD",columnName,"BLOB"].join(" ");idbModules.DEBUG&&console.log(sql);tx.executeSql(sql,[],function(tx,data){tx.executeSql("SELECT * FROM "+idbModules.util.quote(me.__idbObjectStore.name),[],function(tx,data){(function initIndexForRow(i){if(i<data.rows.length)try{var value=idbModules.Sca.decode(data.rows.item(i).value);var indexKey=eval("value['"+keyPath+"']");tx.executeSql("UPDATE "+idbModules.util.quote(me.__idbObjectStore.name)+
" set "+columnName+" = ? where key = ?",[idbModules.Key.encode(indexKey),data.rows.item(i).key],function(tx,data){initIndexForRow(i+1)},error)}catch(e){initIndexForRow(i+1)}else{idbModules.DEBUG&&console.log("Updating the indexes in table",me.__idbObjectStore.__storeProps);tx.executeSql("UPDATE __sys__ set indexList = ? where name = ?",[me.__idbObjectStore.__storeProps.indexList,me.__idbObjectStore.name],function(){me.__idbObjectStore.__setReadyState("createIndex",true);success(me)},error)}})(0)},
error)},error)},"createObjectStore")})};IDBIndex.prototype.openCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this.source,cursorRequest,this.indexName,"value");return cursorRequest};IDBIndex.prototype.openKeyCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this.source,cursorRequest,this.indexName,"key");return cursorRequest};IDBIndex.prototype.__fetchIndexData=
function(key,opType){var me=this;return me.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){var sql=["SELECT * FROM ",idbModules.util.quote(me.__idbObjectStore.name)," WHERE",me.indexName,"NOT NULL"];var sqlValues=[];if(typeof key!=="undefined"){sql.push("AND",me.indexName," = ?");sqlValues.push(idbModules.Key.encode(key))}idbModules.DEBUG&&console.log("Trying to fetch data for Index",sql.join(" "),sqlValues);tx.executeSql(sql.join(" "),sqlValues,function(tx,data){var d;
if(typeof opType==="count")d=data.rows.length;else if(data.rows.length===0)d=undefined;else if(opType==="key")d=idbModules.Key.decode(data.rows.item(0).key);else d=idbModules.Sca.decode(data.rows.item(0).value);success(d)},error)})};IDBIndex.prototype.get=function(key){return this.__fetchIndexData(key,"value")};IDBIndex.prototype.getKey=function(key){return this.__fetchIndexData(key,"key")};IDBIndex.prototype.count=function(key){return this.__fetchIndexData(key,"count")};idbModules.IDBIndex=IDBIndex})(idbModules);
(function(idbModules){var IDBObjectStore=function(name,idbTransaction,ready){this.name=name;this.transaction=idbTransaction;this.__ready={};this.__setReadyState("createObjectStore",typeof ready==="undefined"?true:ready);this.indexNames=new idbModules.util.StringList};IDBObjectStore.prototype.__setReadyState=function(key,val){this.__ready[key]=val};IDBObjectStore.prototype.__waitForReady=function(callback,key){var ready=true;if(typeof key!=="undefined")ready=typeof this.__ready[key]==="undefined"?
true:this.__ready[key];else for(var x in this.__ready)if(!this.__ready[x])ready=false;if(ready)callback();else{idbModules.DEBUG&&console.log("Waiting for to be ready",key);var me=this;window.setTimeout(function(){me.__waitForReady(callback,key)},100)}};IDBObjectStore.prototype.__getStoreProps=function(tx,callback,waitOnProperty){var me=this;this.__waitForReady(function(){if(me.__storeProps){idbModules.DEBUG&&console.log("Store properties - cached",me.__storeProps);callback(me.__storeProps)}else tx.executeSql("SELECT * FROM __sys__ where name = ?",
[me.name],function(tx,data){if(data.rows.length!==1)callback();else{me.__storeProps={"name":data.rows.item(0).name,"indexList":data.rows.item(0).indexList,"autoInc":data.rows.item(0).autoInc,"keyPath":data.rows.item(0).keyPath};idbModules.DEBUG&&console.log("Store properties",me.__storeProps);callback(me.__storeProps)}},function(){callback()})},waitOnProperty)};IDBObjectStore.prototype.__deriveKey=function(tx,value,key,callback){function getNextAutoIncKey(){tx.executeSql("SELECT * FROM sqlite_sequence where name like ?",
[me.name],function(tx,data){if(data.rows.length!==1)callback(0);else callback(data.rows.item(0).seq)},function(tx,error){idbModules.util.throwDOMException(0,"Data Error - Could not get the auto increment value for key",error)})}var me=this;me.__getStoreProps(tx,function(props){if(!props)idbModules.util.throwDOMException(0,"Data Error - Could not locate defination for this table",props);if(props.keyPath){if(typeof key!=="undefined")idbModules.util.throwDOMException(0,"Data Error - The object store uses in-line keys and the key parameter was provided",
props);if(value)try{var primaryKey=eval("value['"+props.keyPath+"']");if(!primaryKey)if(props.autoInc==="true")getNextAutoIncKey();else idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath");else callback(primaryKey)}catch(e){idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath",e)}else idbModules.util.throwDOMException(0,"Data Error - KeyPath was specified, but value was not")}else if(typeof key!=="undefined")callback(key);else if(props.autoInc===
"false")idbModules.util.throwDOMException(0,"Data Error - The object store uses out-of-line keys and has no key generator and the key parameter was not provided. ",props);else getNextAutoIncKey()})};IDBObjectStore.prototype.__insertData=function(tx,value,primaryKey,success,error){var paramMap={};if(typeof primaryKey!=="undefined")paramMap.key=idbModules.Key.encode(primaryKey);var indexes=JSON.parse(this.__storeProps.indexList);for(var key in indexes)try{paramMap[indexes[key].columnName]=idbModules.Key.encode(eval("value['"+
indexes[key].keyPath+"']"))}catch(e){error(e)}var sqlStart=["INSERT INTO ",idbModules.util.quote(this.name),"("];var sqlEnd=[" VALUES ("];var sqlValues=[];for(key in paramMap){sqlStart.push(key+",");sqlEnd.push("?,");sqlValues.push(paramMap[key])}sqlStart.push("value )");sqlEnd.push("?)");sqlValues.push(idbModules.Sca.encode(value));var sql=sqlStart.join(" ")+sqlEnd.join(" ");idbModules.DEBUG&&console.log("SQL for adding",sql,sqlValues);tx.executeSql(sql,sqlValues,function(tx,data){success(primaryKey)},
function(tx,err){error(err)})};IDBObjectStore.prototype.add=function(value,key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__deriveKey(tx,value,key,function(primaryKey){me.__insertData(tx,value,primaryKey,success,error)})})};IDBObjectStore.prototype.put=function(value,key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__deriveKey(tx,value,key,function(primaryKey){var sql="DELETE FROM "+idbModules.util.quote(me.name)+
" where key = ?";tx.executeSql(sql,[idbModules.Key.encode(primaryKey)],function(tx,data){idbModules.DEBUG&&console.log("Did the row with the",primaryKey,"exist? ",data.rowsAffected);me.__insertData(tx,value,primaryKey,success,error)},function(tx,err){error(err)})})})};IDBObjectStore.prototype.get=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){var primaryKey=idbModules.Key.encode(key);idbModules.DEBUG&&console.log("Fetching",
me.name,primaryKey);tx.executeSql("SELECT * FROM "+idbModules.util.quote(me.name)+" where key = ?",[primaryKey],function(tx,data){idbModules.DEBUG&&console.log("Fetched data",data);try{if(0===data.rows.length)return success();success(idbModules.Sca.decode(data.rows.item(0).value))}catch(e){idbModules.DEBUG&&console.log(e);success(undefined)}},function(tx,err){error(err)})})})};IDBObjectStore.prototype["delete"]=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,
success,error){me.__waitForReady(function(){var primaryKey=idbModules.Key.encode(key);idbModules.DEBUG&&console.log("Fetching",me.name,primaryKey);tx.executeSql("DELETE FROM "+idbModules.util.quote(me.name)+" where key = ?",[primaryKey],function(tx,data){idbModules.DEBUG&&console.log("Deleted from database",data.rowsAffected);success()},function(tx,err){error(err)})})})};IDBObjectStore.prototype.clear=function(){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){tx.executeSql("DELETE FROM "+
idbModules.util.quote(me.name),[],function(tx,data){idbModules.DEBUG&&console.log("Cleared all records from database",data.rowsAffected);success()},function(tx,err){error(err)})})})};IDBObjectStore.prototype.count=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){var sql="SELECT * FROM "+idbModules.util.quote(me.name)+(typeof key!=="undefined"?" WHERE key = ?":"");var sqlValues=[];typeof key!=="undefined"&&sqlValues.push(idbModules.Key.encode(key));
tx.executeSql(sql,sqlValues,function(tx,data){success(data.rows.length)},function(tx,err){error(err)})})})};IDBObjectStore.prototype.openCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this,cursorRequest,"key","value");return cursorRequest};IDBObjectStore.prototype.index=function(indexName){var index=new idbModules.IDBIndex(indexName,this);return index};IDBObjectStore.prototype.createIndex=function(indexName,keyPath,
optionalParameters){var me=this;optionalParameters=optionalParameters||{};me.__setReadyState("createIndex",false);var result=new idbModules.IDBIndex(indexName,me);me.__waitForReady(function(){result.__createIndex(indexName,keyPath,optionalParameters)},"createObjectStore");me.indexNames.push(indexName);return result};IDBObjectStore.prototype.deleteIndex=function(indexName){var result=new idbModules.IDBIndex(indexName,this,false);result.__deleteIndex(indexName);return result};idbModules.IDBObjectStore=
IDBObjectStore})(idbModules);
(function(idbModules){var READ=0;var READ_WRITE=1;var VERSION_TRANSACTION=2;var IDBTransaction=function(storeNames,mode,db){if(typeof mode==="number"){this.mode=mode;mode!==2&&idbModules.DEBUG&&console.log("Mode should be a string, but was specified as ",mode)}else if(typeof mode==="string")switch(mode){case "readonly":this.mode=READ_WRITE;break;case "readwrite":this.mode=READ;break;default:this.mode=READ;break}this.storeNames=typeof storeNames==="string"?[storeNames]:storeNames;for(var i=0;i<this.storeNames.length;i++)if(!db.objectStoreNames.contains(this.storeNames[i]))idbModules.util.throwDOMException(0,
"The operation failed because the requested database object could not be found. For example, an object store did not exist but was being opened.",this.storeNames[i]);this.__active=true;this.__running=false;this.__requests=[];this.__aborted=false;this.db=db;this.error=null;this.onabort=this.onerror=this.oncomplete=null;var me=this};IDBTransaction.prototype.__executeRequests=function(){if(this.__running&&this.mode!==VERSION_TRANSACTION){idbModules.DEBUG&&console.log("Looks like the request set is already running",
this.mode);return}this.__running=true;var me=this;window.setTimeout(function(){if(me.mode!==2&&!me.__active)idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",me.__active);me.db.__db.transaction(function(tx){me.__tx=tx;var q=null,i=0;function success(result,req){if(req)q.req=req;q.req.readyState="done";q.req.result=result;delete q.req.error;var e=idbModules.Event("success");idbModules.util.callback("onsuccess",q.req,
e);i++;executeRequest()}function error(errorVal){q.req.readyState="done";q.req.error="DOMError";var e=idbModules.Event("error",arguments);idbModules.util.callback("onerror",q.req,e);i++;executeRequest()}try{function executeRequest(){if(i>=me.__requests.length){me.__active=false;me.__requests=[];return}q=me.__requests[i];q.op(tx,q.args,success,error)}executeRequest()}catch(e){idbModules.DEBUG&&console.log("An exception occured in transaction",arguments);typeof me.onerror==="function"&&me.onerror()}},
function(){idbModules.DEBUG&&console.log("An error in transaction",arguments);typeof me.onerror==="function"&&me.onerror()},function(){idbModules.DEBUG&&console.log("Transaction completed",arguments);typeof me.oncomplete==="function"&&me.oncomplete()})},1)};IDBTransaction.prototype.__addToTransactionQueue=function(callback,args){if(!this.__active&&this.mode!==VERSION_TRANSACTION)idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished.",
this.__mode);var request=new idbModules.IDBRequest;request.source=this.db;this.__requests.push({"op":callback,"args":args,"req":request});this.__executeRequests();return request};IDBTransaction.prototype.objectStore=function(objectStoreName){return new idbModules.IDBObjectStore(objectStoreName,this)};IDBTransaction.prototype.abort=function(){!this.__active&&idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",this.__active)};
IDBTransaction.prototype.READ_ONLY=0;IDBTransaction.prototype.READ_WRITE=1;IDBTransaction.prototype.VERSION_CHANGE=2;idbModules.IDBTransaction=IDBTransaction})(idbModules);
(function(idbModules){var IDBDatabase=function(db,name,version,storeProperties){this.__db=db;this.version=version;this.__storeProperties=storeProperties;this.objectStoreNames=new idbModules.util.StringList;for(var i=0;i<storeProperties.rows.length;i++)this.objectStoreNames.push(storeProperties.rows.item(i).name);this.name=name;this.onabort=this.onerror=this.onversionchange=null};IDBDatabase.prototype.createObjectStore=function(storeName,createOptions){var me=this;createOptions=createOptions||{};createOptions.keyPath=
createOptions.keyPath||null;var result=new idbModules.IDBObjectStore(storeName,me.__versionTransaction,false);var transaction=me.__versionTransaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){function error(){idbModules.util.throwDOMException(0,"Could not create new object store",arguments)}if(!me.__versionTransaction)idbModules.util.throwDOMException(0,"Invalid State error",me.transaction);var sql=["CREATE TABLE",idbModules.util.quote(storeName),"(key BLOB",createOptions.autoIncrement?
", inc INTEGER PRIMARY KEY AUTOINCREMENT":"PRIMARY KEY",", value BLOB)"].join(" ");idbModules.DEBUG&&console.log(sql);tx.executeSql(sql,[],function(tx,data){tx.executeSql("INSERT INTO __sys__ VALUES (?,?,?,?)",[storeName,createOptions.keyPath,createOptions.autoIncrement?true:false,"{}"],function(){result.__setReadyState("createObjectStore",true);success(result)},error)},error)});me.objectStoreNames.push(storeName);return result};IDBDatabase.prototype.deleteObjectStore=function(storeName){var error=
function(){idbModules.util.throwDOMException(0,"Could not delete ObjectStore",arguments)};var me=this;!me.objectStoreNames.contains(storeName)&&error("Object Store does not exist");me.objectStoreNames.splice(me.objectStoreNames.indexOf(storeName),1);var transaction=me.__versionTransaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){if(!me.__versionTransaction)idbModules.util.throwDOMException(0,"Invalid State error",me.transaction);me.__db.transaction(function(tx){tx.executeSql("SELECT * FROM __sys__ where name = ?",
[storeName],function(tx,data){if(data.rows.length>0)tx.executeSql("DROP TABLE "+idbModules.util.quote(storeName),[],function(){tx.executeSql("DELETE FROM __sys__ WHERE name = ?",[storeName],function(){},error)},error)})})})};IDBDatabase.prototype.close=function(){};IDBDatabase.prototype.transaction=function(storeNames,mode){var transaction=new idbModules.IDBTransaction(storeNames,mode||1,this);return transaction};idbModules.IDBDatabase=IDBDatabase})(idbModules);
(function(idbModules){var DEFAULT_DB_SIZE=4*1024*1024;if(!window.openDatabase)return;try{var sysdb=window.openDatabase("__sysdb__",1,"System Database",DEFAULT_DB_SIZE)}catch(err){window.openDatabase=undefined;return}sysdb.transaction(function(tx){tx.executeSql("SELECT * FROM dbVersions",[],function(t,data){},function(){sysdb.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS dbVersions (name VARCHAR(255), version INT);",[],function(){},function(){idbModules.util.throwDOMException("Could not create table __sysdb__ to save DB versions")})})})},
function(){idbModules.DEBUG&&console.log("Error in sysdb transaction - when selecting from dbVersions",arguments)});var shimIndexedDB={open:function(name,version){try{window.openDatabase("__test__",1,"Test Database",26*1024*1024)}catch(err){return}var req=new idbModules.IDBOpenRequest;var calledDbCreateError=false;function dbCreateError(){if(calledDbCreateError)return;var e=idbModules.Event("error",arguments);req.readyState="done";req.error="DOMError";idbModules.util.callback("onerror",req,e);calledDbCreateError=
true}function openDB(oldVersion){var db=window.openDatabase(name,1,name,DEFAULT_DB_SIZE);req.readyState="done";if(typeof version==="undefined")version=oldVersion||1;if(version<=0||oldVersion>version)idbModules.util.throwDOMException(0,"An attempt was made to open a database using a lower version than the existing version.",version);db.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS __sys__ (name VARCHAR(255), keyPath VARCHAR(255), autoInc BOOLEAN, indexList BLOB)",[],function(){tx.executeSql("SELECT * FROM __sys__",
[],function(tx,data){var e=idbModules.Event("success");req.source=req.result=new idbModules.IDBDatabase(db,name,version,data);if(oldVersion<version)sysdb.transaction(function(systx){systx.executeSql("UPDATE dbVersions set version = ? where name = ?",[version,name],function(){var e=idbModules.Event("upgradeneeded");e.oldVersion=oldVersion;e.newVersion=version;req.transaction=req.result.__versionTransaction=new idbModules.IDBTransaction([],2,req.source);idbModules.util.callback("onupgradeneeded",req,
e,function(){var e=idbModules.Event("success");idbModules.util.callback("onsuccess",req,e)})},dbCreateError)},dbCreateError);else idbModules.util.callback("onsuccess",req,e)},dbCreateError)},dbCreateError)},dbCreateError)}sysdb.transaction(function(tx){tx.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0)tx.executeSql("INSERT INTO dbVersions VALUES (?,?)",[name,version||1],function(){openDB(0)},dbCreateError);else openDB(data.rows.item(0).version)},
dbCreateError)},dbCreateError);return req},"deleteDatabase":function(name){var req=new idbModules.IDBOpenRequest;var calledDBError=false;function dbError(msg){if(calledDBError)return;req.readyState="done";req.error="DOMError";var e=idbModules.Event("error");e.message=msg;e.debug=arguments;idbModules.util.callback("onerror",req,e);calledDBError=true}var version=null;function deleteFromDbVersions(){sysdb.transaction(function(systx){systx.executeSql("DELETE FROM dbVersions where name = ? ",[name],function(){req.result=
undefined;var e=idbModules.Event("success");e.newVersion=null;e.oldVersion=version;idbModules.util.callback("onsuccess",req,e)},dbError)},dbError)}sysdb.transaction(function(systx){systx.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0){req.result=undefined;var e=idbModules.Event("success");e.newVersion=null;e.oldVersion=version;idbModules.util.callback("onsuccess",req,e);return}version=data.rows.item(0).version;var db=window.openDatabase(name,
1,name,DEFAULT_DB_SIZE);db.transaction(function(tx){tx.executeSql("SELECT * FROM __sys__",[],function(tx,data){var tables=data.rows;(function deleteTables(i){if(i>=tables.length)tx.executeSql("DROP TABLE __sys__",[],function(){deleteFromDbVersions()},dbError);else tx.executeSql("DROP TABLE "+idbModules.util.quote(tables.item(i).name),[],function(){deleteTables(i+1)},function(){deleteTables(i+1)})})(0)},function(e){deleteFromDbVersions()})},dbError)})},dbError);return req},"cmp":function(key1,key2){return idbModules.Key.encode(key1)>
idbModules.Key.encode(key2)?1:key1===key2?0:-1}};idbModules.shimIndexedDB=shimIndexedDB})(idbModules);
(function(window,idbModules){if(typeof window.openDatabase!=="undefined"){window.shimIndexedDB=idbModules.shimIndexedDB;if(window.shimIndexedDB){window.shimIndexedDB.__useShim=function(){window._indexedDB=idbModules.shimIndexedDB;window._IDBDatabase=idbModules.IDBDatabase;window._IDBTransaction=idbModules.IDBTransaction;window._IDBCursor=idbModules.IDBCursor;window._IDBKeyRange=idbModules.IDBKeyRange};window.shimIndexedDB.__debug=function(val){idbModules.DEBUG=val}}}window.indexedDB=window.indexedDB||
window.webkitIndexedDB||window.mozIndexedDB||window.oIndexedDB||window.msIndexedDB;if((typeof window.indexedDB==="undefined"||window.indexedDB===null)&&typeof window.openDatabase!=="undefined")window.shimIndexedDB.__useShim();else if(typeof window.openDatabase!=="undefined"){window.IDBDatabase=window.IDBDatabase||window.webkitIDBDatabase;window.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction;window.IDBCursor=window.IDBCursor||window.webkitIDBCursor;window.IDBKeyRange=window.IDBKeyRange||
window.webkitIDBKeyRange;if(!window.IDBTransaction)window.IDBTransaction={};window.IDBTransaction.READ_ONLY=window.IDBTransaction.READ_ONLY||"readonly";window.IDBTransaction.READ_WRITE=window.IDBTransaction.READ_WRITE||"readwrite"}})(window,idbModules);var createPromiseCapability=function(){var capability={};capability.promise=new Promise(function(resolve,reject){capability.resolve=resolve;capability.reject=reject});return capability};(typeof window==="undefined"?this:window).createPromiseCapability=createPromiseCapability;
(function PromiseClosure(exports){if(exports.Promise){if(typeof exports.Promise.all!=="function")exports.Promise.all=function(iterable){var count=0,results=[],resolve,reject;var promise=new exports.Promise(function(resolve_,reject_){resolve=resolve_;reject=reject_});iterable.forEach(function(p,i){count++;p.then(function(result){results[i]=result;count--;if(count===0)resolve(results)},reject)});if(count===0)resolve(results);return promise};if(typeof exports.Promise.resolve!=="function")exports.Promise.resolve=
function(value){return new exports.Promise(function(resolve){resolve(value)})};if(typeof exports.Promise.reject!=="function")exports.Promise.reject=function(reason){return new exports.Promise(function(resolve,reject){reject(reason)})};if(typeof exports.Promise.prototype["catch"]!=="function")exports.Promise.prototype["catch"]=function(onReject){return exports.Promise.prototype.then(undefined,onReject)};return}var STATUS_PENDING=0;var STATUS_RESOLVED=1;var STATUS_REJECTED=2;var REJECTION_TIMEOUT=500;
var asap=typeof setImmediate==="function"&&setImmediate||function(fn){setTimeout(fn,1)};var HandlerManager={handlers:[],running:false,unhandledRejections:[],pendingRejectionCheck:false,scheduleHandlers:function scheduleHandlers(promise){if(promise._status===STATUS_PENDING)return;this.handlers=this.handlers.concat(promise._handlers);promise._handlers=[];if(this.running)return;this.running=true;asap(this.runHandlers.bind(this),0)},runHandlers:function runHandlers(){var RUN_TIMEOUT=1;var timeoutAt=Date.now()+
RUN_TIMEOUT;while(this.handlers.length>0){var handler=this.handlers.shift();var nextStatus=handler.thisPromise._status;var nextValue=handler.thisPromise._value;try{if(nextStatus===STATUS_RESOLVED){if(typeof handler.onResolve==="function")nextValue=handler.onResolve(nextValue)}else if(typeof handler.onReject==="function"){nextValue=handler.onReject(nextValue);nextStatus=STATUS_RESOLVED;if(handler.thisPromise._unhandledRejection)this.removeUnhandeledRejection(handler.thisPromise)}}catch(ex){nextStatus=
STATUS_REJECTED;nextValue=ex}handler.nextPromise._updateStatus(nextStatus,nextValue);if(Date.now()>=timeoutAt)break}if(this.handlers.length>0){asap(this.runHandlers.bind(this),0);return}this.running=false},addUnhandledRejection:function addUnhandledRejection(promise){this.unhandledRejections.push({promise:promise,time:Date.now()});this.scheduleRejectionCheck()},removeUnhandeledRejection:function removeUnhandeledRejection(promise){promise._unhandledRejection=false;for(var i=0;i<this.unhandledRejections.length;i++)if(this.unhandledRejections[i].promise===
promise){this.unhandledRejections.splice(i);i--}},scheduleRejectionCheck:function scheduleRejectionCheck(){if(this.pendingRejectionCheck)return;this.pendingRejectionCheck=true;setTimeout(function rejectionCheck(){this.pendingRejectionCheck=false;var now=Date.now();for(var i=0;i<this.unhandledRejections.length;i++)if(now-this.unhandledRejections[i].time>REJECTION_TIMEOUT){var unhandled=this.unhandledRejections[i].promise._value;var msg="Unhandled rejection: "+unhandled;if(unhandled.stack)msg+="\n"+
unhandled.stack;warn(msg);this.unhandledRejections.splice(i);i--}if(this.unhandledRejections.length)this.scheduleRejectionCheck()}.bind(this),REJECTION_TIMEOUT)}};function Promise(resolver){this._status=STATUS_PENDING;this._handlers=[];try{resolver.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(e){this._reject(e)}}Promise.all=function Promise_all(promises){var resolveAll,rejectAll;var deferred=new Promise(function(resolve,reject){resolveAll=resolve;rejectAll=reject});var unresolved=
promises.length;var results=[];if(unresolved===0){resolveAll(results);return deferred}function reject(reason){if(deferred._status===STATUS_REJECTED)return;results=[];rejectAll(reason)}for(var i=0,ii=promises.length;i<ii;++i){var promise=promises[i];var resolve=function(i){return function(value){if(deferred._status===STATUS_REJECTED)return;results[i]=value;unresolved--;if(unresolved===0)resolveAll(results)}}(i);if(Promise.isPromise(promise))promise.then(resolve,reject);else resolve(promise)}return deferred};
Promise.isPromise=function Promise_isPromise(value){return value&&typeof value.then==="function"};Promise.resolve=function Promise_resolve(value){return new Promise(function(resolve){resolve(value)})};Promise.reject=function Promise_reject(reason){return new Promise(function(resolve,reject){reject(reason)})};Promise.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function Promise__updateStatus(status,value){if(this._status===STATUS_RESOLVED||this._status===
STATUS_REJECTED)return;if(status===STATUS_RESOLVED&&Promise.isPromise(value)){value.then(this._updateStatus.bind(this,STATUS_RESOLVED),this._updateStatus.bind(this,STATUS_REJECTED));return}this._status=status;this._value=value;if(status===STATUS_REJECTED&&this._handlers.length===0){this._unhandledRejection=true;HandlerManager.addUnhandledRejection(this)}HandlerManager.scheduleHandlers(this)},_resolve:function Promise_resolve(value){this._updateStatus(STATUS_RESOLVED,value)},_reject:function Promise_reject(reason){this._updateStatus(STATUS_REJECTED,
reason)},then:function Promise_then(onResolve,onReject){var nextPromise=new Promise(function(resolve,reject){this.resolve=resolve;this.reject=reject});this._handlers.push({thisPromise:this,onResolve:onResolve,onReject:onReject,nextPromise:nextPromise});HandlerManager.scheduleHandlers(this);return nextPromise},"catch":function Promise_catch(onReject){return this.then(undefined,onReject)}};exports.Promise=Promise})(typeof window==="undefined"?this:window);(function(){if(typeof window!=="undefined"){var forge=window.forge=window.forge||{};forge.aes={}}else if(typeof module!=="undefined"&&module.exports){var forge={util:require("./util")};module.exports=forge.aes={}}else if(typeof self!=="undefined"){var forge=self.forge=self.forge||{};forge.aes={}}var init=false;var Nb=4;var sbox;var isbox;var rcon;var mix;var imix;var initialize=function(){init=true;rcon=[0,1,2,4,8,16,32,64,128,27,54];var xtime=new Array(256);for(var i=0;i<128;++i){xtime[i]=i<<1;xtime[i+
128]=i+128<<1^283}sbox=new Array(256);isbox=new Array(256);mix=new Array(4);imix=new Array(4);for(var i=0;i<4;++i){mix[i]=new Array(256);imix[i]=new Array(256)}var e=0,ei=0,e2,e4,e8,sx,sx2,me,ime;for(var i=0;i<256;++i){sx=ei^ei<<1^ei<<2^ei<<3^ei<<4;sx=sx>>8^sx&255^99;sbox[e]=sx;isbox[sx]=e;sx2=xtime[sx];e2=xtime[e];e4=xtime[e2];e8=xtime[e4];me=sx2<<24^sx<<16^sx<<8^(sx^sx2);ime=(e2^e4^e8)<<24^(e^e8)<<16^(e^e4^e8)<<8^(e^e2^e8);for(var n=0;n<4;++n){mix[n][e]=me;imix[n][sx]=ime;me=me<<24|me>>>8;ime=ime<<
24|ime>>>8}if(e===0)e=ei=1;else{e=e2^xtime[xtime[xtime[e2^e8]]];ei^=xtime[xtime[ei]]}}};var expandKey=function(key,decrypt){var w=key.slice(0);var temp,iNk=1;var Nk=w.length;var Nr1=Nk+6+1;var end=Nb*Nr1;for(var i=Nk;i<end;++i){temp=w[i-1];if(i%Nk===0){temp=sbox[temp>>>16&255]<<24^sbox[temp>>>8&255]<<16^sbox[temp&255]<<8^sbox[temp>>>24]^rcon[iNk]<<24;iNk++}else if(Nk>6&&i%Nk==4)temp=sbox[temp>>>24]<<24^sbox[temp>>>16&255]<<16^sbox[temp>>>8&255]<<8^sbox[temp&255];w[i]=w[i-Nk]^temp}if(decrypt){var tmp;
var m0=imix[0];var m1=imix[1];var m2=imix[2];var m3=imix[3];var wnew=w.slice(0);var end=w.length;for(var i=0,wi=end-Nb;i<end;i+=Nb,wi-=Nb)if(i===0||i===end-Nb){wnew[i]=w[wi];wnew[i+1]=w[wi+3];wnew[i+2]=w[wi+2];wnew[i+3]=w[wi+1]}else for(var n=0;n<Nb;++n){tmp=w[wi+n];wnew[i+(3&-n)]=m0[sbox[tmp>>>24]]^m1[sbox[tmp>>>16&255]]^m2[sbox[tmp>>>8&255]]^m3[sbox[tmp&255]]}w=wnew}return w};var _updateBlock=function(w,input,output,decrypt){var Nr=w.length/4-1;var m0,m1,m2,m3,sub;if(decrypt){m0=imix[0];m1=imix[1];
m2=imix[2];m3=imix[3];sub=isbox}else{m0=mix[0];m1=mix[1];m2=mix[2];m3=mix[3];sub=sbox}var a,b,c,d,a2,b2,c2;a=input[0]^w[0];b=input[decrypt?3:1]^w[1];c=input[2]^w[2];d=input[decrypt?1:3]^w[3];var i=3;for(var round=1;round<Nr;++round){a2=m0[a>>>24]^m1[b>>>16&255]^m2[c>>>8&255]^m3[d&255]^w[++i];b2=m0[b>>>24]^m1[c>>>16&255]^m2[d>>>8&255]^m3[a&255]^w[++i];c2=m0[c>>>24]^m1[d>>>16&255]^m2[a>>>8&255]^m3[b&255]^w[++i];d=m0[d>>>24]^m1[a>>>16&255]^m2[b>>>8&255]^m3[c&255]^w[++i];a=a2;b=b2;c=c2}output[0]=sub[a>>>
24]<<24^sub[b>>>16&255]<<16^sub[c>>>8&255]<<8^sub[d&255]^w[++i];output[decrypt?3:1]=sub[b>>>24]<<24^sub[c>>>16&255]<<16^sub[d>>>8&255]<<8^sub[a&255]^w[++i];output[2]=sub[c>>>24]<<24^sub[d>>>16&255]<<16^sub[a>>>8&255]<<8^sub[b&255]^w[++i];output[decrypt?1:3]=sub[d>>>24]<<24^sub[a>>>16&255]<<16^sub[b>>>8&255]<<8^sub[c&255]^w[++i]};var _createCipher=function(key,iv,output,decrypt){var cipher=null;if(!init)initialize();if(key.constructor==String&&(key.length==16||key.length==24||key.length==32))key=forge.util.createBuffer(key);
else if(key.constructor==Array&&(key.length==16||key.length==24||key.length==32)){var tmp=key;var key=forge.util.createBuffer();for(var i=0;i<tmp.length;++i)key.putByte(tmp[i])}if(key.constructor!=Array){var tmp=key;key=[];var len=tmp.length();if(len==16||len==24||len==32){len=len>>>2;for(var i=0;i<len;++i)key.push(tmp.getInt32())}}if(key.constructor==Array&&(key.length==4||key.length==6||key.length==8)){var _w=expandKey(key,decrypt);var _blockSize=Nb<<2;var _input;var _output;var _inBlock;var _outBlock;
var _prev;var _finish;cipher={output:null};cipher.update=function(input){if(!_finish)_input.putBuffer(input);var threshold=decrypt&&!_finish?_blockSize<<1:_blockSize;while(_input.length()>=threshold){if(decrypt)for(var i=0;i<Nb;++i)_inBlock[i]=_input.getInt32();else for(var i=0;i<Nb;++i)_inBlock[i]=_prev[i]^_input.getInt32();_updateBlock(_w,_inBlock,_outBlock,decrypt);if(decrypt){for(var i=0;i<Nb;++i)_output.putInt32(_prev[i]^_outBlock[i]);_prev=_inBlock.slice(0)}else{for(var i=0;i<Nb;++i)_output.putInt32(_outBlock[i]);
_prev=_outBlock}}};cipher.finish=function(pad){var rval=true;if(!decrypt)if(pad)rval=pad(_blockSize,_input,decrypt);else{var padding=_input.length()==_blockSize?_blockSize:_blockSize-_input.length();_input.fillWithByte(padding,padding)}if(rval){_finish=true;cipher.update()}if(decrypt){rval=_input.length()===0;if(rval)if(pad)rval=pad(_blockSize,_output,decrypt);else{var len=_output.length();var count=_output.at(len-1);if(count>Nb<<2)rval=false;else _output.truncate(count)}}return rval};cipher.start=
function(iv,output){iv=iv||_prev.slice(0);if(iv.constructor==String&&iv.length==16)iv=forge.util.createBuffer(iv);else if(iv.constructor==Array&&iv.length==16){var tmp=iv;var iv=forge.util.createBuffer();for(var i=0;i<16;++i)iv.putByte(tmp[i])}if(iv.constructor!=Array){var tmp=iv;iv=new Array(4);iv[0]=tmp.getInt32();iv[1]=tmp.getInt32();iv[2]=tmp.getInt32();iv[3]=tmp.getInt32()}_input=forge.util.createBuffer();_output=output||forge.util.createBuffer();_prev=iv.slice(0);_inBlock=new Array(Nb);_outBlock=
new Array(Nb);_finish=false;cipher.output=_output};if(iv!==null)cipher.start(iv,output)}return cipher};forge.aes.startEncrypting=function(key,iv,output){return _createCipher(key,iv,output,false)};forge.aes.createEncryptionCipher=function(key){return _createCipher(key,null,null,false)};forge.aes.startDecrypting=function(key,iv,output){return _createCipher(key,iv,output,true)};forge.aes.createDecryptionCipher=function(key){return _createCipher(key,null,null,true)};forge.aes._expandKey=function(key,
decrypt){if(!init)initialize();return expandKey(key,decrypt)};forge.aes._updateBlock=_updateBlock})();(function(){if(typeof window!=="undefined"){var forge=window.forge=window.forge||{};forge.util={}}else if(typeof module!=="undefined"&&module.exports){var forge={};module.exports=forge.util={}}else if(typeof self!=="undefined"){var forge=self.forge=self.forge||{};forge.util={}}var util=forge.util;util.ByteBuffer=function(b){this.data=b||"";this.read=0};util.ByteBuffer.prototype.length=function(){return this.data.length-this.read};util.ByteBuffer.prototype.isEmpty=function(){return this.data.length-
this.read===0};util.ByteBuffer.prototype.putByte=function(b){this.data+=String.fromCharCode(b)};util.ByteBuffer.prototype.fillWithByte=function(b,n){b=String.fromCharCode(b);var d=this.data;while(n>0){if(n&1)d+=b;n>>>=1;if(n>0)b+=b}this.data=d};util.ByteBuffer.prototype.putBytes=function(bytes){this.data+=bytes};util.ByteBuffer.prototype.putString=function(str){this.data+=util.encodeUtf8(str)};util.ByteBuffer.prototype.putInt16=function(i){this.data+=String.fromCharCode(i>>8&255)+String.fromCharCode(i&
255)};util.ByteBuffer.prototype.putInt24=function(i){this.data+=String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};util.ByteBuffer.prototype.putInt32=function(i){this.data+=String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};util.ByteBuffer.prototype.putInt16Le=function(i){this.data+=String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)};util.ByteBuffer.prototype.putInt24Le=function(i){this.data+=
String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)};util.ByteBuffer.prototype.putInt32Le=function(i){this.data+=String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>24&255)};util.ByteBuffer.prototype.putInt=function(i,n){do{n-=8;this.data+=String.fromCharCode(i>>n&255)}while(n>0)};util.ByteBuffer.prototype.putBuffer=function(buffer){this.data+=buffer.getBytes()};util.ByteBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};
util.ByteBuffer.prototype.getInt16=function(){var rval=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);this.read+=2;return rval};util.ByteBuffer.prototype.getInt24=function(){var rval=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);this.read+=3;return rval};util.ByteBuffer.prototype.getInt32=function(){var rval=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<
8^this.data.charCodeAt(this.read+3);this.read+=4;return rval};util.ByteBuffer.prototype.getInt16Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;this.read+=2;return rval};util.ByteBuffer.prototype.getInt24Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;this.read+=3;return rval};util.ByteBuffer.prototype.getInt32Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+
1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return rval};util.ByteBuffer.prototype.getInt=function(n){var rval=0;do{rval=(rval<<n)+this.data.charCodeAt(this.read++);n-=8}while(n>0);return rval};util.ByteBuffer.prototype.getBytes=function(count){var rval;if(count){count=Math.min(this.length(),count);rval=this.data.slice(this.read,this.read+count);this.read+=count}else if(count===0)rval="";else{rval=this.read===0?this.data:this.data.slice(this.read);
this.clear()}return rval};util.ByteBuffer.prototype.bytes=function(count){return typeof count==="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+count)};util.ByteBuffer.prototype.at=function(i){return this.data.charCodeAt(this.read+i)};util.ByteBuffer.prototype.setAt=function(i,b){this.data=this.data.substr(0,this.read+i)+String.fromCharCode(b)+this.data.substr(this.read+i+1)};util.ByteBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};util.ByteBuffer.prototype.copy=
function(){var c=util.createBuffer(this.data);c.read=this.read;return c};util.ByteBuffer.prototype.compact=function(){if(this.read>0){this.data=this.data.slice(this.read);this.read=0}};util.ByteBuffer.prototype.clear=function(){this.data="";this.read=0};util.ByteBuffer.prototype.truncate=function(count){var len=Math.max(0,this.length()-count);this.data=this.data.substr(this.read,len);this.read=0};util.ByteBuffer.prototype.toHex=function(){var rval="";for(var i=this.read;i<this.data.length;++i){var b=
this.data.charCodeAt(i);if(b<16)rval+="0";rval+=b.toString(16)}return rval};util.ByteBuffer.prototype.toString=function(){return util.decodeUtf8(this.bytes())};util.createBuffer=function(input,encoding){encoding=encoding||"raw";if(input!==undefined&&encoding==="utf8")input=util.encodeUtf8(input);return new util.ByteBuffer(input)};util.fillString=function(c,n){var s="";while(n>0){if(n&1)s+=c;n>>>=1;if(n>0)c+=c}return s};util.xorBytes=function(s1,s2,n){var s3="";var b="";var t="";var i=0;var c=0;for(;n>
0;--n,++i){b=s1.charCodeAt(i)^s2.charCodeAt(i);if(c>=10){s3+=t;t="";c=0}t+=String.fromCharCode(b);++c}s3+=t;return s3};util.hexToBytes=function(hex){var rval="";var i=0;if(hex.length&1==1){i=1;rval+=String.fromCharCode(parseInt(hex[0],16))}for(;i<hex.length;i+=2)rval+=String.fromCharCode(parseInt(hex.substr(i,2),16));return rval};util.bytesToHex=function(bytes){return util.createBuffer(bytes).toHex()};util.int32ToBytes=function(i){return String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+
String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};var _base64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var _base64Idx=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];util.encode64=function(input,maxline){var line="";var output="";var chr1,chr2,chr3;var i=0;while(i<input.length){chr1=
input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);line+=_base64.charAt(chr1>>2);line+=_base64.charAt((chr1&3)<<4|chr2>>4);if(isNaN(chr2))line+="==";else{line+=_base64.charAt((chr2&15)<<2|chr3>>6);line+=isNaN(chr3)?"=":_base64.charAt(chr3&63)}if(maxline&&line.length>maxline){output+=line.substr(0,maxline)+"\r\n";line=line.substr(maxline)}}output+=line;return output};util.decode64=function(input){input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");var output="";var enc1,enc2,enc3,
enc4;var i=0;while(i<input.length){enc1=_base64Idx[input.charCodeAt(i++)-43];enc2=_base64Idx[input.charCodeAt(i++)-43];enc3=_base64Idx[input.charCodeAt(i++)-43];enc4=_base64Idx[input.charCodeAt(i++)-43];output+=String.fromCharCode(enc1<<2|enc2>>4);if(enc3!==64){output+=String.fromCharCode((enc2&15)<<4|enc3>>2);if(enc4!==64)output+=String.fromCharCode((enc3&3)<<6|enc4)}}return output};util.encodeUtf8=function(str){return unescape(encodeURIComponent(str))};util.decodeUtf8=function(str){return decodeURIComponent(escape(str))};
util.deflate=function(api,bytes,raw){bytes=util.decode64(api.deflate(util.encode64(bytes)).rval);if(raw){var start=2;var flg=bytes.charCodeAt(1);if(flg&32)start=6;bytes=bytes.substring(start,bytes.length-4)}return bytes};util.inflate=function(api,bytes,raw){var rval=api.inflate(util.encode64(bytes)).rval;return rval===null?null:util.decode64(rval)};var _setStorageObject=function(api,id,obj){if(!api)throw{message:"WebStorage not available."};var rval;if(obj===null)rval=api.removeItem(id);else{obj=
util.encode64(JSON.stringify(obj));rval=api.setItem(id,obj)}if(typeof rval!=="undefined"&&rval.rval!==true)throw rval.error;};var _getStorageObject=function(api,id){if(!api)throw{message:"WebStorage not available."};var rval=api.getItem(id);if(api.init)if(rval.rval===null){if(rval.error)throw rval.error;rval=null}else rval=rval.rval;if(rval!==null)rval=JSON.parse(util.decode64(rval));return rval};var _setItem=function(api,id,key,data){var obj=_getStorageObject(api,id);if(obj===null)obj={};obj[key]=
data;_setStorageObject(api,id,obj)};var _getItem=function(api,id,key){var rval=_getStorageObject(api,id);if(rval!==null)rval=key in rval?rval[key]:null;return rval};var _removeItem=function(api,id,key){var obj=_getStorageObject(api,id);if(obj!==null&&key in obj){delete obj[key];var empty=true;for(var prop in tmp){empty=false;break}if(empty)obj=null;_setStorageObject(api,id,obj)}};var _clearItems=function(api,id){_setStorageObject(api,id,null)};var _callStorageFunction=function(func,args,location){var rval=
null;if(typeof location==="undefined")location=["web","flash"];var type;var done=false;var exception=null;for(var idx in location){type=location[idx];try{if(type==="flash"||type==="both")if(args[0]===null)throw{message:"Flash local storage not available."};else{rval=func.apply(this,args);done=type==="flash"}if(type==="web"||type==="both"){args[0]=localStorage;rval=func.apply(this,args);done=true}}catch(ex){exception=ex}if(done)break}if(!done)throw exception;return rval};util.setItem=function(api,
id,key,data,location){_callStorageFunction(_setItem,arguments,location)};util.getItem=function(api,id,key,location){return _callStorageFunction(_getItem,arguments,location)};util.removeItem=function(api,id,key,location){_callStorageFunction(_removeItem,arguments,location)};util.clearItems=function(api,id,location){_callStorageFunction(_clearItems,arguments,location)};util.parseUrl=function(str){var regex=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;regex.lastIndex=0;var m=regex.exec(str);var url=m===
null?null:{full:str,scheme:m[1],host:m[2],port:m[3],path:m[4]};if(url){url.fullHost=url.host;if(url.port)if(url.port!==80&&url.scheme==="http")url.fullHost+=":"+url.port;else{if(url.port!==443&&url.scheme==="https")url.fullHost+=":"+url.port}else if(url.scheme==="http")url.port=80;else if(url.scheme==="https")url.port=443;url.full=url.scheme+"://"+url.fullHost}return url};var _queryVariables=null;util.getQueryVariables=function(query){var parse=function(q){var rval={};var kvpairs=q.split("&");for(var i=
0;i<kvpairs.length;i++){var pos=kvpairs[i].indexOf("=");var key;var val;if(pos>0){key=kvpairs[i].substring(0,pos);val=kvpairs[i].substring(pos+1)}else{key=kvpairs[i];val=null}if(!(key in rval))rval[key]=[];if(val!==null)rval[key].push(unescape(val))}return rval};var rval;if(typeof query==="undefined"){if(_queryVariables===null)if(typeof window==="undefined")_queryVariables={};else _queryVariables=parse(window.location.search.substring(1));rval=_queryVariables}else rval=parse(query);return rval};util.parseFragment=
function(fragment){var fp=fragment;var fq="";var pos=fragment.indexOf("?");if(pos>0){fp=fragment.substring(0,pos);fq=fragment.substring(pos+1)}var path=fp.split("/");if(path.length>0&&path[0]=="")path.shift();var query=fq==""?{}:util.getQueryVariables(fq);return{pathString:fp,queryString:fq,path:path,query:query}};util.makeRequest=function(reqString){var frag=util.parseFragment(reqString);var req={path:frag.pathString,query:frag.queryString,getPath:function(i){return typeof i==="undefined"?frag.path:
frag.path[i]},getQuery:function(k,i){var rval;if(typeof k==="undefined")rval=frag.query;else{rval=frag.query[k];if(rval&&typeof i!=="undefined")rval=rval[i]}return rval},getQueryLast:function(k,_default){var rval;var vals=req.getQuery(k);if(vals)rval=vals[vals.length-1];else rval=_default;return rval}};return req};util.makeLink=function(path,query,fragment){path=jQuery.isArray(path)?path.join("/"):path;var qstr=jQuery.param(query||{});fragment=fragment||"";return path+(qstr.length>0?"?"+qstr:"")+
(fragment.length>0?"#"+fragment:"")};util.setPath=function(object,keys,value){if(typeof object==="object"&&object!==null){var i=0;var len=keys.length;while(i<len){var next=keys[i++];if(i==len)object[next]=value;else{var hasNext=next in object;if(!hasNext||hasNext&&typeof object[next]!=="object"||hasNext&&object[next]===null)object[next]={};object=object[next]}}}};util.getPath=function(object,keys,_default){var i=0;var len=keys.length;var hasNext=true;while(hasNext&&i<len&&typeof object==="object"&&
object!==null){var next=keys[i++];hasNext=next in object;if(hasNext)object=object[next]}return hasNext?object:_default};util.deletePath=function(object,keys){if(typeof object==="object"&&object!==null){var i=0;var len=keys.length;while(i<len){var next=keys[i++];if(i==len)delete object[next];else{if(!(next in object)||typeof object[next]!=="object"||object[next]===null)break;object=object[next]}}}};util.isEmpty=function(obj){for(var prop in obj)if(obj.hasOwnProperty(prop))return false;return true};
util.format=function(format){var re=/%./g;var match;var part;var argi=0;var parts=[];var last=0;while(match=re.exec(format)){part=format.substring(last,re.lastIndex-2);if(part.length>0)parts.push(part);last=re.lastIndex;var code=match[0][1];switch(code){case "s":case "o":if(argi<arguments.length)parts.push(arguments[argi++ +1]);else parts.push("<?>");break;case "%":parts.push("%");break;default:parts.push("<%"+code+"?>")}}parts.push(format.substring(last));return parts.join("")};util.formatNumber=
function(number,decimals,dec_point,thousands_sep){var n=number,c=isNaN(decimals=Math.abs(decimals))?2:decimals;var d=dec_point===undefined?",":dec_point;var t=thousands_sep===undefined?".":thousands_sep,s=n<0?"-":"";var i=parseInt(n=Math.abs(+n||0).toFixed(c),10)+"";var j=i.length>3?i.length%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):"")};util.formatSize=function(size){if(size>=1073741824)size=util.formatNumber(size/1073741824,
2,".","")+" GiB";else if(size>=1048576)size=util.formatNumber(size/1048576,2,".","")+" MiB";else if(size>=1024)size=util.formatNumber(size/1024,0)+" KiB";else size=util.formatNumber(size,0)+" bytes";return size}})();(function(){function a(e,t){if(!t||typeof t=="function")return e;for(var n in t)e[n]=t[n];return e}function f(e,t,n){var r,i=0,s=e.length,o=s===undefined||typeof e=="function";if(n)if(o)for(r in e){if(t.apply(e[r],n)===!1)break}else for(;i<s;){if(t.apply(e[i++],n)===!1)break}else if(o)for(r in e){if(t.call(e[r],r,e[r])===!1)break}else for(;i<s;)if(t.call(e[i],i,e[i++])===!1)break;return e}function l(e){var t=function(e){if(window.XMLHttpRequest)return e(null,new XMLHttpRequest);if(window.ActiveXObject)try{return e(null,
new ActiveXObject("Msxml2.XMLHTTP"))}catch(t){return e(null,new ActiveXObject("Microsoft.XMLHTTP"))}return e(new Error)},n=function(e){if(typeof e=="string")return e;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},r=function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(r&63|128)):
(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(r&63|128))}return t},i=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e=r(e);var n="",i,s,o,u,a,f,l,c=0;do i=e.charCodeAt(c++),s=e.charCodeAt(c++),o=e.charCodeAt(c++),u=i>>2,a=(i&3)<<4|s>>4,f=(s&15)<<2|o>>6,l=o&63,isNaN(s)?f=l=64:isNaN(o)&&(l=64),n+=t.charAt(u)+t.charAt(a)+t.charAt(f)+t.charAt(l),i=s=o="",u=a=f=l="";while(c<e.length);return n},s=function(){var e=arguments[0];
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e},o=function(e,r,i,u){typeof i=="function"&&(u=i,i={}),i.cache=i.cache||!1,i.data=i.data||{},i.headers=i.headers||{},i.jsonp=i.jsonp||!1,i.async=i.async===undefined?!0:i.async;var a=s({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},o.headers,i.headers),f;a["content-type"]==="application/json"?f=JSON.stringify(i.data):f=n(i.data);if(e==="GET"){var l=[];f&&(l.push(f),
f=null),i.cache||l.push("_="+(new Date).getTime()),i.jsonp&&(l.push("callback="+i.jsonp),l.push("jsonp="+i.jsonp)),l=l.join("&"),l.length>1&&(r.indexOf("?")>-1?r+="&"+l:r+="?"+l);if(i.jsonp){var c=document.getElementsByTagName("head")[0],h=document.createElement("script");h.type="text/javascript",h.src=r,c.appendChild(h);return}}t(function(t,n){if(t)return u(t);n.open(e,r,i.async);for(var s in a)a.hasOwnProperty(s)&&n.setRequestHeader(s,a[s]);n.onreadystatechange=function(){if(n.readyState===4){var e=
n.responseText||"";if(!u)return;u(n.status,{text:function(){return e},json:function(){return JSON.parse(e)}})}},n.send(f)})},u={authBasic:function(e,t){o.headers.Authorization="Basic "+i(e+":"+t)},connect:function(e,t,n){return o("CONNECT",e,t,n)},del:function(e,t,n){return o("DELETE",e,t,n)},get:function(e,t,n){return o("GET",e,t,n)},head:function(e,t,n){return o("HEAD",e,t,n)},headers:function(e){o.headers=e||{}},isAllowed:function(e,t,n){this.options(e,function(e,r){n(r.text().indexOf(t)!==-1)})},
options:function(e,t,n){return o("OPTIONS",e,t,n)},patch:function(e,t,n){return o("PATCH",e,t,n)},post:function(e,t,n){return o("POST",e,t,n)},put:function(e,t,n){return o("PUT",e,t,n)},trace:function(e,t,n){return o("TRACE",e,t,n)}},a=e.type?e.type.toLowerCase():"get";u[a](e.url,e,function(t,n){t===200?e.success(n.json(),t,null):e.error(n.text(),t,null)})}function d(e,s){typeof e=="function"&&(s=e,e={}),e=e||{},p.extend(u,e),typeof u.ns=="string"&&(u.ns={namespaces:[u.ns],defaultNs:u.ns}),u.interpolationPrefixEscaped=
p.regexEscape(u.interpolationPrefix),u.interpolationSuffixEscaped=p.regexEscape(u.interpolationSuffix),u.lng||(u.lng=p.detectLanguage()),u.lng?u.useCookie&&p.cookie.create(u.cookieName,u.lng,u.cookieExpirationTime):(u.lng=u.fallbackLng,u.useCookie&&p.cookie.remove(u.cookieName)),o=p.toLanguages(u.lng),i=o[0],p.log("currentLng set to: "+i),_.setCurrentLng(i),t&&u.setJqueryExt&&S();var a;t&&t.Deferred&&(a=t.Deferred());if(u.resStore){r=u.resStore,s&&s(L),a&&a.resolve();if(a)return a.promise();return}var f=
p.toLanguages(u.lng);typeof u.preload=="string"&&(u.preload=[u.preload]);for(var l=0,c=u.preload.length;l<c;l++){var h=p.toLanguages(u.preload[l]);for(var d=0,v=h.length;d<v;d++)f.indexOf(h[d])<0&&f.push(h[d])}n.sync.load(f,u,function(e,t){r=t,s&&s(L),a&&a.resolve()});if(a)return a.promise()}function v(e,t){typeof e=="string"&&(e=[e]);for(var n=0,r=e.length;n<r;n++)u.preload.indexOf(e[n])<0&&u.preload.push(e[n]);return d(t)}function m(e,t,n){typeof t!="string"&&(n=t,t=u.ns.defaultNs),r[e]=r[e]||{},
r[e][t]=r[e][t]||{},p.extend(r[e][t],n)}function g(e){u.ns.defaultNs=e}function y(e,t){b([e],t)}function b(e,t){var i={dynamicLoad:u.dynamicLoad,resGetPath:u.resGetPath,getAsync:u.getAsync,ns:{namespaces:e,defaultNs:""}},s=p.toLanguages(u.lng);typeof u.preload=="string"&&(u.preload=[u.preload]);for(var o=0,a=u.preload.length;o<a;o++){var f=p.toLanguages(u.preload[o]);for(var l=0,c=f.length;l<c;l++)s.indexOf(f[l])<0&&s.push(f[l])}var h=[];for(var d=0,v=s.length;d<v;d++){var m=!1,g=r[s[d]];if(g)for(var y=
0,b=e.length;y<b;y++)g[e[y]]||(m=!0);else m=!0;m&&h.push(s[d])}h.length?n.sync._fetch(h,i,function(i,s){var o=e.length*h.length;p.each(e,function(e,i){p.each(h,function(e,a){r[a]=r[a]||{},r[a][i]=s[a][i],o--,o===0&&t&&(u.useLocalStorage&&n.sync._storeLocal(r),t())})})}):t&&t()}function w(e,t){return d({lng:e},t)}function E(){return i}function S(){function e(e,n,r){if(n.length===0)return;var i="text";if(n.indexOf("[")===0){var s=n.split("]");n=s[1],i=s[0].substr(1,s[0].length-1)}n.indexOf(";")===n.length-
1&&(n=n.substr(0,n.length-2));var o;i==="html"?(o=u.defaultValueFromContent?t.extend({defaultValue:e.html()},r):r,e.html(t.t(n,o))):i==="text"?(o=u.defaultValueFromContent?t.extend({defaultValue:e.text()},r):r,e.text(t.t(n,o))):(o=u.defaultValueFromContent?t.extend({defaultValue:e.attr(i)},r):r,e.attr(i,t.t(n,o)))}function n(n,r){var i=n.attr(u.selectorAttr);if(!i)return;var s=n,o=n.data("i18n-target");o&&(s=n.find(o)||n),!r&&u.useDataAttrOptions===!0&&(r=n.data("i18n-options")),r=r||{};if(i.indexOf(";")<=
i.length-1){var a=i.split(";");t.each(a,function(t,n){e(s,n,r)})}else e(s,k,r);u.useDataAttrOptions===!0&&n.data("i18n-options",r)}t.t=t.t||L,t.fn.i18n=function(e){return this.each(function(){n(t(this),e);var r=t(this).find("["+u.selectorAttr+"]");r.each(function(){n(t(this),e)})})}}function x(e,t,n,r){r=r||t;if(e.indexOf(r.interpolationPrefix||u.interpolationPrefix)<0)return e;var i=r.interpolationPrefix?p.regexEscape(r.interpolationPrefix):u.interpolationPrefixEscaped,s=r.interpolationSuffix?p.regexEscape(r.interpolationSuffix):
u.interpolationSuffixEscaped;return p.each(t,function(t,o){typeof o=="object"&&o!==null?e=x(e,o,n?n+u.keyseparator+t:t,r):e=e.replace(new RegExp([i,n?n+u.keyseparator+t:t,s].join(""),"g"),o)}),e}function T(e,t){var n=",",r="{",i="}",o=p.extend({},t);delete o.postProcess;while(e.indexOf(u.reusePrefix)!=-1){s++;if(s>u.maxRecursion)break;var a=e.indexOf(u.reusePrefix),f=e.indexOf(u.reuseSuffix,a)+u.reuseSuffix.length,l=e.substring(a,f),c=l.replace(u.reusePrefix,"").replace(u.reuseSuffix,"");if(c.indexOf(n)!=
-1){var h=c.indexOf(n);if(c.indexOf(r,h)!=-1&&c.indexOf(i,h)!=-1){var d=c.indexOf(r,h),v=c.indexOf(i,d)+i.length;try{o=p.extend(o,JSON.parse(c.substring(d,v))),c=c.substring(0,h)}catch(m){}}}var g=A(c,o);e=e.replace(l,g)}return e}function N(e){return e.context&&typeof e.context=="string"}function C(e){return e.count!==undefined&&typeof e.count!="string"&&e.count!==1}function L(e,t){return s=0,A(e,t)}function A(e,t){t=t||{};if(!r)return f;var s,a,f=t.defaultValue||e,l=o;if(t.lng){l=p.toLanguages(t.lng);
if(!r[l[0]]){var c=u.getAsync;u.getAsync=!1,n.sync.load(l,u,function(e,t){p.extend(r,t),u.getAsync=c})}}var h=t.ns||u.ns.defaultNs;if(e.indexOf(u.nsseparator)>-1){var d=e.split(u.nsseparator);h=d[0],e=d[1]}if(N(t)){s=p.extend({},t),delete s.context,s.defaultValue=u.contextNotFound;var v=h+u.nsseparator+e+"_"+t.context;a=L(v,s);if(a!=u.contextNotFound)return x(a,{context:t.context})}if(C(t)){s=p.extend({},t),delete s.count,s.defaultValue=u.pluralNotFound;var m=h+u.nsseparator+e+u.pluralSuffix,g=_.get(i,
t.count);g>=0?m=m+"_"+g:g===1&&(m=h+u.nsseparator+e),a=L(m,s);if(a!=u.pluralNotFound)return x(a,{count:t.count})}var y,b=e.split(u.keyseparator);for(var w=0,E=l.length;w<E;w++){if(y)break;var S=l[w],k=0,O=r[S]&&r[S][h];while(b[k])O=O&&O[b[k]],k++;if(O!==undefined){if(typeof O=="string")O=x(O,t),O=T(O,t);else if(Object.prototype.toString.apply(O)==="[object Array]"&&!u.returnObjectTrees&&!t.returnObjectTrees)O=O.join("\n"),O=x(O,t),O=T(O,t);else if(!u.returnObjectTrees&&!t.returnObjectTrees)O="key '"+
h+":"+e+" ("+S+")' "+"returned a object instead of string.",p.log(O);else{var P={};for(var H in O)P[H]=A(h+u.nsseparator+e+u.keyseparator+H,t);O=P}y=O}}y===undefined&&u.fallbackToDefaultNS&&(y=A(e,t)),y===undefined&&u.sendMissing&&(t.lng?M.postMissing(l[0],h,e,f,l):M.postMissing(u.lng,h,e,f,l));var B=t.postProcess||u.postProcess;return y!==undefined&&B&&D[B]&&(y=D[B](y,e,t)),y===undefined&&(f=x(f,t),f=T(f,t)),y!==undefined?y:f}function O(){var e,t=[];typeof window!="undefined"&&(function(){var e=
window.location.search.substring(1),n=e.split("&");for(var r=0;r<n.length;r++){var i=n[r].indexOf("=");if(i>0){var s=n[r].substring(0,i),o=n[r].substring(i+1);t[s]=o}}}(),t[u.detectLngQS]&&(e=t[u.detectLngQS]));if(!e&&typeof document!="undefined"&&u.useCookie){var n=p.cookie.read(u.cookieName);n&&(e=n)}return!e&&typeof navigator!="undefined"&&(e=navigator.language?navigator.language:navigator.userLanguage),e}Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(this==null)throw new TypeError;
var t=Object(this),n=t.length>>>0;if(n===0)return-1;var r=0;arguments.length>0&&(r=Number(arguments[1]),r!=r?r=0:r!=0&&r!=Infinity&&r!=-Infinity&&(r=(r>0||-1)*Math.floor(Math.abs(r))));if(r>=n)return-1;var i=r>=0?r:Math.max(n-Math.abs(r),0);for(;i<n;i++)if(i in t&&t[i]===e)return i;return-1});var e=this,t=e.jQuery,n={},r={},i,s=0,o=[];typeof module!="undefined"&&module.exports?module.exports=n:(t&&(t.i18n=t.i18n||n),e.i18n=e.i18n||n);var u={lng:undefined,load:"all",preload:[],lowerCaseLng:!1,returnObjectTrees:!1,
fallbackLng:"dev",detectLngQS:"setLng",ns:"translation",fallbackToDefaultNS:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!0,postAsync:!0,resStore:undefined,useLocalStorage:!1,localStorageExpirationTime:6048E5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",interpolationPrefix:"__",interpolationSuffix:"__",reusePrefix:"$t(",reuseSuffix:")",pluralSuffix:"_plural",
pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),setJqueryExt:!0,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:undefined,useCookie:!0,cookieName:"i18next",postProcess:undefined},c={create:function(e,t,n){var r;if(n){var i=new Date;i.setTime(i.getTime()+n*60*1E3),r="; expires="+i.toGMTString()}else r="";document.cookie=e+"="+t+r+"; path=/"},read:function(e){var t=e+"=",n=document.cookie.split(";");for(var r=
0;r<n.length;r++){var i=n[r];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}},h={create:function(e,t,n){},read:function(e){return null},remove:function(e){}},p={extend:t?t.extend:a,each:t?t.each:f,ajax:t?t.ajax:l,cookie:typeof document!="undefined"?c:h,detectLanguage:O,log:function(e){u.debug&&typeof console!="undefined"&&console.log(e)},toLanguages:function(e){var t=[];if(typeof e=="string"&&
e.indexOf("-")>-1){var n=e.split("-");e=u.lowerCaseLng?n[0].toLowerCase()+"-"+n[1].toLowerCase():n[0].toLowerCase()+"-"+n[1].toUpperCase(),u.load!=="unspecific"&&t.push(e),u.load!=="current"&&t.push(n[0])}else t.push(e);return t.indexOf(u.fallbackLng)===-1&&u.fallbackLng&&t.push(u.fallbackLng),t},regexEscape:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},M={load:function(e,t,n){t.useLocalStorage?M._loadLocal(e,t,function(r,i){var s=[];for(var o=0,u=e.length;o<u;o++)i[e[o]]||
s.push(e[o]);s.length>0?M._fetch(s,t,function(e,t){p.extend(i,t),M._storeLocal(t),n(null,i)}):n(null,i)}):M._fetch(e,t,function(e,t){n(null,t)})},_loadLocal:function(e,t,n){var r={},i=(new Date).getTime();if(window.localStorage){var s=e.length;p.each(e,function(e,o){var u=window.localStorage.getItem("res_"+o);u&&(u=JSON.parse(u),u.i18nStamp&&u.i18nStamp+t.localStorageExpirationTime>i&&(r[o]=u)),s--,s===0&&n(null,r)})}},_storeLocal:function(e){if(window.localStorage)for(var t in e)e[t].i18nStamp=(new Date).getTime(),
window.localStorage.setItem("res_"+t,JSON.stringify(e[t]));return},_fetch:function(e,t,n){var r=t.ns,i={};if(!t.dynamicLoad){var s=r.namespaces.length*e.length,o;p.each(r.namespaces,function(r,u){p.each(e,function(e,r){var a=function(e,t){e&&(o=o||[],o.push(e)),i[r]=i[r]||{},i[r][u]=t,s--,s===0&&n(o,i)};typeof t.customLoad=="function"?t.customLoad(r,u,t,a):M._fetchOne(r,u,t,a)})})}else{var u=x(t.resGetPath,{lng:e.join("+"),ns:r.namespaces.join("+")});p.ajax({url:u,success:function(e,t,r){p.log("loaded: "+
u),n(null,e)},error:function(e,t,r){p.log("failed loading: "+u),n("failed loading resource.json error: "+r)},dataType:"json",async:t.getAsync})}},_fetchOne:function(e,t,n,r){var i=x(n.resGetPath,{lng:e,ns:t});p.ajax({url:i,success:function(e,t,n){p.log("loaded: "+i),r(null,e)},error:function(e,t,n){p.log("failed loading: "+i),r(n,{})},dataType:"json",async:n.getAsync})},postMissing:function(e,t,n,i,s){var o={};o[n]=i;var a=[];if(u.sendMissingTo==="fallback")a.push({lng:u.fallbackLng,url:x(u.resPostPath,
{lng:u.fallbackLng,ns:t})});else if(u.sendMissingTo==="current")a.push({lng:e,url:x(u.resPostPath,{lng:e,ns:t})});else if(u.sendMissingTo==="all")for(var f=0,l=s.length;f<l;f++)a.push({lng:s[f],url:x(u.resPostPath,{lng:s[f],ns:t})});for(var c=0,h=a.length;c<h;c++){var d=a[c];p.ajax({url:d.url,type:u.sendType,data:o,success:function(e,s,o){p.log("posted missing key '"+n+"' to: "+d.url);var u=n.split("."),a=0,f=r[d.lng][t];while(u[a])a===u.length-1?f=f[u[a]]=i:f=f[u[a]]=f[u[a]]||{},a++},error:function(e,
t,r){p.log("failed posting missing key '"+n+"' to: "+d.url)},dataType:"json",async:u.postAsync})}}},_={rules:{ach:{name:"Acholi",numbers:[1,2],plurals:function(e){return Number(e>1)}},af:{name:"Afrikaans",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ak:{name:"Akan",numbers:[1,2],plurals:function(e){return Number(e>1)}},am:{name:"Amharic",numbers:[1,2],plurals:function(e){return Number(e>1)}},an:{name:"Aragonese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ar:{name:"Arabic",
numbers:[0,1,2,3,11,100],plurals:function(e){return Number(e===0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)}},arn:{name:"Mapudungun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ast:{name:"Asturian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ay:{name:"Aymar\u00e1",numbers:[1],plurals:function(e){return 0}},az:{name:"Azerbaijani",numbers:[1,2],plurals:function(e){return Number(e!=1)}},be:{name:"Belarusian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&
e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},bg:{name:"Bulgarian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},bn:{name:"Bengali",numbers:[1,2],plurals:function(e){return Number(e!=1)}},bo:{name:"Tibetan",numbers:[1],plurals:function(e){return 0}},br:{name:"Breton",numbers:[1,2],plurals:function(e){return Number(e>1)}},bs:{name:"Bosnian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},ca:{name:"Catalan",
numbers:[1,2],plurals:function(e){return Number(e!=1)}},cgg:{name:"Chiga",numbers:[1],plurals:function(e){return 0}},cs:{name:"Czech",numbers:[1,2,5],plurals:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)}},csb:{name:"Kashubian",numbers:[1,2,5],plurals:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},cy:{name:"Welsh",numbers:[1,2,3,8],plurals:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)}},da:{name:"Danish",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},de:{name:"German",numbers:[1,2],plurals:function(e){return Number(e!=1)}},dz:{name:"Dzongkha",numbers:[1],plurals:function(e){return 0}},el:{name:"Greek",numbers:[1,2],plurals:function(e){return Number(e!=1)}},en:{name:"English",numbers:[1,2],plurals:function(e){return Number(e!=1)}},eo:{name:"Esperanto",numbers:[1,2],plurals:function(e){return Number(e!=1)}},es:{name:"Spanish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},es_ar:{name:"Argentinean Spanish",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},et:{name:"Estonian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},eu:{name:"Basque",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fa:{name:"Persian",numbers:[1],plurals:function(e){return 0}},fi:{name:"Finnish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fil:{name:"Filipino",numbers:[1,2],plurals:function(e){return Number(e>1)}},fo:{name:"Faroese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fr:{name:"French",numbers:[1,2],plurals:function(e){return Number(e>
1)}},fur:{name:"Friulian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fy:{name:"Frisian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ga:{name:"Irish",numbers:[1,2,3,7,11],plurals:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)}},gd:{name:"Scottish Gaelic",numbers:[1,2,3,20],plurals:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)}},gl:{name:"Galician",numbers:[1,2],plurals:function(e){return Number(e!=1)}},gu:{name:"Gujarati",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},gun:{name:"Gun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ha:{name:"Hausa",numbers:[1,2],plurals:function(e){return Number(e!=1)}},he:{name:"Hebrew",numbers:[1,2],plurals:function(e){return Number(e!=1)}},hi:{name:"Hindi",numbers:[1,2],plurals:function(e){return Number(e!=1)}},hr:{name:"Croatian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},hu:{name:"Hungarian",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},hy:{name:"Armenian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ia:{name:"Interlingua",numbers:[1,2],plurals:function(e){return Number(e!=1)}},id:{name:"Indonesian",numbers:[1],plurals:function(e){return 0}},is:{name:"Icelandic",numbers:[1,2],plurals:function(e){return Number(e%10!=1||e%100==11)}},it:{name:"Italian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ja:{name:"Japanese",numbers:[1],plurals:function(e){return 0}},jbo:{name:"Lojban",numbers:[1],plurals:function(e){return 0}},
jv:{name:"Javanese",numbers:[0,1],plurals:function(e){return Number(e!==0)}},ka:{name:"Georgian",numbers:[1],plurals:function(e){return 0}},kk:{name:"Kazakh",numbers:[1],plurals:function(e){return 0}},km:{name:"Khmer",numbers:[1],plurals:function(e){return 0}},kn:{name:"Kannada",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ko:{name:"Korean",numbers:[1],plurals:function(e){return 0}},ku:{name:"Kurdish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},kw:{name:"Cornish",numbers:[1,
2,3,4],plurals:function(e){return Number(e==1?0:e==2?1:e==3?2:3)}},ky:{name:"Kyrgyz",numbers:[1],plurals:function(e){return 0}},lb:{name:"Letzeburgesch",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ln:{name:"Lingala",numbers:[1,2],plurals:function(e){return Number(e>1)}},lo:{name:"Lao",numbers:[1],plurals:function(e){return 0}},lt:{name:"Lithuanian",numbers:[1,2,10],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)}},lv:{name:"Latvian",numbers:[0,
1,2],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)}},mai:{name:"Maithili",numbers:[1,2],plurals:function(e){return Number(e!=1)}},mfe:{name:"Mauritian Creole",numbers:[1,2],plurals:function(e){return Number(e>1)}},mg:{name:"Malagasy",numbers:[1,2],plurals:function(e){return Number(e>1)}},mi:{name:"Maori",numbers:[1,2],plurals:function(e){return Number(e>1)}},mk:{name:"Macedonian",numbers:[1,2],plurals:function(e){return Number(e==1||e%10==1?0:1)}},ml:{name:"Malayalam",numbers:[1,
2],plurals:function(e){return Number(e!=1)}},mn:{name:"Mongolian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},mnk:{name:"Mandinka",numbers:[0,1,2],plurals:function(e){return Number(e==1?1:2)}},mr:{name:"Marathi",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ms:{name:"Malay",numbers:[1],plurals:function(e){return 0}},mt:{name:"Maltese",numbers:[1,2,11,20],plurals:function(e){return Number(e==1?0:e===0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)}},nah:{name:"Nahuatl",numbers:[1,
2],plurals:function(e){return Number(e!=1)}},nap:{name:"Neapolitan",numbers:[1,2],plurals:function(e){return Number(e!=1)}},nb:{name:"Norwegian Bokmal",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ne:{name:"Nepali",numbers:[1,2],plurals:function(e){return Number(e!=1)}},nl:{name:"Dutch",numbers:[1,2],plurals:function(e){return Number(e!=1)}},nn:{name:"Norwegian Nynorsk",numbers:[1,2],plurals:function(e){return Number(e!=1)}},no:{name:"Norwegian",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},nso:{name:"Northern Sotho",numbers:[1,2],plurals:function(e){return Number(e!=1)}},oc:{name:"Occitan",numbers:[1,2],plurals:function(e){return Number(e>1)}},or:{name:"Oriya",numbers:[2,1],plurals:function(e){return Number(e!=1)}},pa:{name:"Punjabi",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pap:{name:"Papiamento",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pl:{name:"Polish",numbers:[1,2,5],plurals:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?
1:2)}},pms:{name:"Piemontese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ps:{name:"Pashto",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pt:{name:"Portuguese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pt_br:{name:"Brazilian Portuguese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},rm:{name:"Romansh",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ro:{name:"Romanian",numbers:[1,2,20],plurals:function(e){return Number(e==1?0:e===0||e%100>0&&e%100<
20?1:2)}},ru:{name:"Russian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},sah:{name:"Yakut",numbers:[1],plurals:function(e){return 0}},sco:{name:"Scots",numbers:[1,2],plurals:function(e){return Number(e!=1)}},se:{name:"Northern Sami",numbers:[1,2],plurals:function(e){return Number(e!=1)}},si:{name:"Sinhala",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sk:{name:"Slovak",numbers:[1,2,5],plurals:function(e){return Number(e==
1?0:e>=2&&e<=4?1:2)}},sl:{name:"Slovenian",numbers:[5,1,2,3],plurals:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}},so:{name:"Somali",numbers:[1,2],plurals:function(e){return Number(e!=1)}},son:{name:"Songhay",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sq:{name:"Albanian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sr:{name:"Serbian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:
2)}},su:{name:"Sundanese",numbers:[1],plurals:function(e){return 0}},sv:{name:"Swedish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sw:{name:"Swahili",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ta:{name:"Tamil",numbers:[1,2],plurals:function(e){return Number(e!=1)}},te:{name:"Telugu",numbers:[1,2],plurals:function(e){return Number(e!=1)}},tg:{name:"Tajik",numbers:[1,2],plurals:function(e){return Number(e>1)}},th:{name:"Thai",numbers:[1],plurals:function(e){return 0}},ti:{name:"Tigrinya",
numbers:[1,2],plurals:function(e){return Number(e>1)}},tk:{name:"Turkmen",numbers:[1,2],plurals:function(e){return Number(e!=1)}},tr:{name:"Turkish",numbers:[1,2],plurals:function(e){return Number(e>1)}},tt:{name:"Tatar",numbers:[1],plurals:function(e){return 0}},ug:{name:"Uyghur",numbers:[1],plurals:function(e){return 0}},uk:{name:"Ukrainian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},ur:{name:"Urdu",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},uz:{name:"Uzbek",numbers:[1,2],plurals:function(e){return Number(e>1)}},vi:{name:"Vietnamese",numbers:[1],plurals:function(e){return 0}},wa:{name:"Walloon",numbers:[1,2],plurals:function(e){return Number(e>1)}},wo:{name:"Wolof",numbers:[1],plurals:function(e){return 0}},yo:{name:"Yoruba",numbers:[1,2],plurals:function(e){return Number(e!=1)}},zh:{name:"Chinese",numbers:[1],plurals:function(e){return 0}}},addRule:function(e,t){_.rules[e]=t},setCurrentLng:function(e){if(!_.currentRule||_.currentRule.lng!==
e){var t=e.split("-");_.currentRule={lng:e,rule:_.rules[t[0]]}}},get:function(e,t){function r(t,n){var r;_.currentRule&&_.currentRule.lng===e?r=_.currentRule.rule:r=_.rules[t];if(r){var i=r.plurals(n),s=r.numbers[i];return r.numbers.length===2&&r.numbers[0]===1&&(s===2?s=-1:s===1&&(s=1)),s}return n===1?"1":"-1"}var n=e.split("-");return r(n[0],t)}},D={},P=function(e,t){D[e]=t},H=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=[];t>
0;n[--t]=e);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,r){var i=1,s=n.length,o="",u,a=[],f,l,c,h,p,d;for(f=0;f<s;f++){o=e(n[f]);if(o==="string")a.push(n[f]);else if(o==="array"){c=n[f];if(c[2]){u=r[i];for(l=0;l<c[2].length;l++){if(!u.hasOwnProperty(c[2][l]))throw H('[sprintf] property "%s" does not exist',c[2][l]);u=u[c[2][l]]}}else c[1]?
u=r[c[1]]:u=r[i++];if(/[^s]/.test(c[8])&&e(u)!="number")throw H("[sprintf] expecting number but found %s",e(u));switch(c[8]){case "b":u=u.toString(2);break;case "c":u=String.fromCharCode(u);break;case "d":u=parseInt(u,10);break;case "e":u=c[7]?u.toExponential(c[7]):u.toExponential();break;case "f":u=c[7]?parseFloat(u).toFixed(c[7]):parseFloat(u);break;case "o":u=u.toString(8);break;case "s":u=(u=String(u))&&c[7]?u.substring(0,c[7]):u;break;case "u":u=Math.abs(u);break;case "x":u=u.toString(16);break;
case "X":u=u.toString(16).toUpperCase()}u=/[def]/.test(c[8])&&c[3]&&u>=0?"+"+u:u,p=c[4]?c[4]=="0"?"0":c[4].charAt(1):" ",d=c[6]-String(u).length,h=c[6]?t(p,d):"",a.push(c[5]?u+h:h+u)}}return a.join("")},n.cache={},n.parse=function(e){var t=e,n=[],r=[],i=0;while(t){if((n=/^[^\x25]+/.exec(t))!==null)r.push(n[0]);else if((n=/^\x25{2}/.exec(t))!==null)r.push("%");else{if((n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t))===null)throw"[sprintf] huh?";if(n[2]){i|=
1;var s=[],o=n[2],u=[];if((u=/^([a-z_][a-z_\d]*)/i.exec(o))===null)throw"[sprintf] huh?";s.push(u[1]);while((o=o.substring(u[0].length))!=="")if((u=/^\.([a-z_][a-z_\d]*)/i.exec(o))!==null)s.push(u[1]);else{if((u=/^\[(\d+)\]/.exec(o))===null)throw"[sprintf] huh?";s.push(u[1])}n[2]=s}else i|=2;if(i===3)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";r.push(n)}t=t.substring(n[0].length)}return r},n}(),B=function(e,t){return t.unshift(e),H.apply(null,t)};P("sprintf",function(e,
t,n){return n.sprintf?Object.prototype.toString.apply(n.sprintf)==="[object Array]"?B(e,n.sprintf):typeof n.sprintf=="object"?H(e,n.sprintf):e:e}),n.init=d,n.setLng=w,n.preload=v,n.addResourceBundle=m,n.loadNamespace=y,n.loadNamespaces=b,n.setDefaultNamespace=g,n.t=L,n.translate=L,n.detectLanguage=p.detectLanguage,n.pluralExtensions=_,n.sync=M,n.functions=p,n.lng=E,n.addPostProcessor=P,n.options=u})();(function(){function getSqDist(p1,p2){var dx=p1.x-p2.x,dy=p1.y-p2.y;return dx*dx+dy*dy}function getSqSegDist(p,p1,p2){var x=p1.x,y=p1.y,dx=p2.x-x,dy=p2.y-y;if(dx!==0||dy!==0){var t=((p.x-x)*dx+(p.y-y)*dy)/(dx*dx+dy*dy);if(t>1){x=p2.x;y=p2.y}else if(t>0){x+=dx*t;y+=dy*t}}dx=p.x-x;dy=p.y-y;return dx*dx+dy*dy}function simplifyRadialDist(points,sqTolerance){var prevPoint=points[0],newPoints=[prevPoint],point;for(var i=1,len=points.length;i<len;i++){point=points[i];if(getSqDist(point,prevPoint)>sqTolerance){newPoints.push(point);
prevPoint=point}}if(prevPoint!==point)newPoints.push(point);return newPoints}function simplifyDouglasPeucker(points,sqTolerance){var len=points.length,MarkerArray=typeof Uint8Array!=="undefined"?Uint8Array:Array,markers=new MarkerArray(len),first=0,last=len-1,stack=[],newPoints=[],i,maxSqDist,sqDist,index;markers[first]=markers[last]=1;while(last){maxSqDist=0;for(i=first+1;i<last;i++){sqDist=getSqSegDist(points[i],points[first],points[last]);if(sqDist>maxSqDist){index=i;maxSqDist=sqDist}}if(maxSqDist>
sqTolerance){markers[index]=1;stack.push(first,index,index,last)}last=stack.pop();first=stack.pop()}for(i=0;i<len;i++)if(markers[i])newPoints.push(points[i]);return newPoints}function simplify(points,tolerance,highestQuality){if(points.length<=1)return points;var sqTolerance=tolerance!==undefined?tolerance*tolerance:1;points=highestQuality?points:simplifyRadialDist(points,sqTolerance);points=simplifyDouglasPeucker(points,sqTolerance);return points}window.simplify=simplify})();!function(e,t){var n,a,o,i="._tap",c="._tapActive",r="tap",u="clientX clientY screenX screenY pageX pageY".split(" "),s={count:0,event:0},g=function(e,n){var a=n.originalEvent,o=t.Event(a);o.type=e;for(var i=0,c=u.length;c>i;i++)o[u[i]]=n[u[i]];return o},p=function(e){if(e.isTrigger)return!1;var n=s.event,a=Math.abs(e.pageX-n.pageX),o=Math.abs(e.pageY-n.pageY),i=Math.max(a,o);return e.timeStamp-n.timeStamp<t.tap.TIME_DELTA&&i<t.tap.POSITION_DELTA&&(!n.touches||1===s.count)&&T.isTracking},l=function(e){if(!o)return!1;
var n=Math.abs(e.pageX-o.pageX),a=Math.abs(e.pageY-o.pageY),i=Math.max(n,a);return Math.abs(e.timeStamp-o.timeStamp)<750&&i<t.tap.POSITION_DELTA},h=function(e){if(0===e.type.indexOf("touch")){e.touches=e.originalEvent.changedTouches;for(var t=e.touches[0],n=0,a=u.length;a>n;n++)e[u[n]]=t[u[n]]}e.timeStamp=Date.now?Date.now():+new Date},T={isEnabled:!1,isTracking:!1,enable:function(){T.isEnabled||$.event.special.tap||(T.isEnabled=!0,n=t(e.body).on("touchstart"+i,T.onStart).on("mousedown"+i,T.onStart).on("click"+
i,T.onClick))},disable:function(){T.isEnabled&&(T.isEnabled=!1,n.off(i))},onStart:function(e){e.isTrigger||(h(e),(!t.tap.LEFT_BUTTON_ONLY||e.touches||1===e.which)&&(e.touches&&(s.count=e.touches.length),T.isTracking&&T.onCancel(e),(e.touches||!l(e))&&(T.isTracking=!0,s.event=e,e.touches?(o=e,n.on("touchend"+i+c,T.onEnd).on("touchcancel"+i+c,T.onCancel)):n.on("mouseup"+i+c,T.onEnd))))},onEnd:function(e){var n;e.isTrigger||(h(e),p(e)&&(n=g(r,e),a=n,t(s.event.target).trigger(n)),T.onCancel(e))},onCancel:function(e){e&&
"touchcancel"===e.type&&e.preventDefault(),T.isTracking=!1,n.off(c)},onClick:function(e){return!e.isTrigger&&a&&a.isDefaultPrevented()&&a.target===e.target&&a.pageX===e.pageX&&a.pageY===e.pageY&&e.timeStamp-a.timeStamp<750?(a=null,!1):void 0}};t(e).ready(T.enable),t.tap={POSITION_DELTA:10,TIME_DELTA:400,LEFT_BUTTON_ONLY:!0}}(document,jQuery);!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){function a(){return Dc.apply(null,arguments)}function b(a){Dc=a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,
b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return za(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&
!b.invalidMonth&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(0/0);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=
typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=j(b)),"undefined"!=typeof b._locale&&(a._locale=b._locale),Fc.length>0)for(c in Fc)d=Fc[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function n(b){m(this,b),this._d=new Date(+b._d),Gc===!1&&(Gc=!0,a.updateOffset(this),Gc=!1)}function o(a){return a instanceof n||null!=a&&null!=
a._isAMomentObject}function p(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function q(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&p(a[d])!==p(b[d]))&&g++;return g+f}function r(){}function s(a){return a?a.toLowerCase().replace("_","-"):a}function t(a){for(var b,c,d,e,f=0;f<a.length;){for(e=s(a[f]).split("-"),b=e.length,c=s(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=u(e.slice(0,b).join("-")))return d;
if(c&&c.length>=b&&q(e,c,!0)>=b-1)break;b--}f++}return null}function u(a){var b=null;if(!Hc[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Ec._abbr,require("./locale/"+a),v(b)}catch(c){}return Hc[a]}function v(a,b){var c;return a&&(c="undefined"==typeof b?x(a):w(a,b),c&&(Ec=c)),Ec._abbr}function w(a,b){return null!==b?(b.abbr=a,Hc[a]||(Hc[a]=new r),Hc[a].set(b),v(a),Hc[a]):(delete Hc[a],null)}function x(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Ec;if(!c(a)){if(b=
u(a))return b;a=[a]}return t(a)}function y(a,b){var c=a.toLowerCase();Ic[c]=Ic[c+"s"]=Ic[b]=a}function z(a){return"string"==typeof a?Ic[a]||Ic[a.toLowerCase()]:void 0}function A(a){var b,c,d={};for(c in a)f(a,c)&&(b=z(c),b&&(d[b]=a[c]));return d}function B(b,c){return function(d){return null!=d?(D(this,b,d),a.updateOffset(this,c),this):C(this,b)}}function C(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function D(a,b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function E(a,b){var c;if("object"==
typeof a)for(c in a)this.set(c,a[c]);else if(a=z(a),"function"==typeof this[a])return this[a](b);return this}function F(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function G(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Mc[a]=e),b&&(Mc[b[0]]=function(){return F(e.apply(this,arguments),b[1],b[2])}),c&&(Mc[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function H(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,
""):a.replace(/\\/g,"")}function I(a){var b,c,d=a.match(Jc);for(b=0,c=d.length;c>b;b++)Mc[d[b]]?d[b]=Mc[d[b]]:d[b]=H(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function J(a,b){return a.isValid()?(b=K(b,a.localeData()),Lc[b]||(Lc[b]=I(b)),Lc[b](a)):a.localeData().invalidDate()}function K(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Kc.lastIndex=0;d>=0&&Kc.test(a);)a=a.replace(Kc,c),Kc.lastIndex=0,d-=1;return a}function L(a,
b,c){_c[a]="function"==typeof b?b:function(a){return a&&c?c:b}}function M(a,b){return f(_c,a)?_c[a](b._strict,b._locale):new RegExp(N(a))}function N(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function O(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=p(a)}),c=0;c<a.length;c++)ad[a[c]]=d}function P(a,b){O(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,
d,e)})}function Q(a,b,c){null!=b&&f(ad,a)&&ad[a](b,c._a,c,a)}function R(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function S(a){return this._months[a.month()]}function T(a){return this._monthsShort[a.month()]}function U(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2E3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=
new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function V(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),R(a.year(),b)),a._d["set"+
(a._isUTC?"UTC":"")+"Month"](b,c),a)}function W(b){return null!=b?(V(this,b),a.updateOffset(this,!0),this):C(this,"Month")}function X(){return R(this.year(),this.month())}function Y(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[cd]<0||c[cd]>11?cd:c[dd]<1||c[dd]>R(c[bd],c[cd])?dd:c[ed]<0||c[ed]>24||24===c[ed]&&(0!==c[fd]||0!==c[gd]||0!==c[hd])?ed:c[fd]<0||c[fd]>59?fd:c[gd]<0||c[gd]>59?gd:c[hd]<0||c[hd]>999?hd:-1,j(a)._overflowDayOfYear&&(bd>b||b>dd)&&(b=dd),j(a).overflow=b),a}function Z(b){a.suppressDeprecationWarnings===
!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function $(a,b){var c=!0,d=a+"\n"+(new Error).stack;return g(function(){return c&&(Z(d),c=!1),b.apply(this,arguments)},b)}function _(a,b){kd[a]||(Z(b),kd[a]=!0)}function aa(a){var b,c,d=a._i,e=ld.exec(d);if(e){for(j(a).iso=!0,b=0,c=md.length;c>b;b++)if(md[b][1].exec(d)){a._f=md[b][0]+(e[6]||" ");break}for(b=0,c=nd.length;c>b;b++)if(nd[b][1].exec(d)){a._f+=nd[b][0];break}d.match(Yc)&&(a._f+="Z"),ta(a)}else a._isValid=
!1}function ba(b){var c=od.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(aa(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ca(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function da(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ea(a){return fa(a)?366:365}function fa(a){return a%4===0&&a%100!==0||a%400===0}function ga(){return fa(this.year())}function ha(a,b,c){var d,
e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=Aa(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ia(a){return ha(a,this._week.dow,this._week.doy).week}function ja(){return this._week.dow}function ka(){return this._week.doy}function la(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function ma(a){var b=ha(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function na(a,b,c,d,e){var f,g,h=da(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=
c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:ea(a-1)+g}}function oa(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")}function pa(a,b,c){return null!=a?a:null!=b?b:c}function qa(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function ra(a){var b,c,d,e,f=[];if(!a._d){for(d=qa(a),a._w&&null==a._a[dd]&&null==
a._a[cd]&&sa(a),a._dayOfYear&&(e=pa(a._a[bd],d[bd]),a._dayOfYear>ea(e)&&(j(a)._overflowDayOfYear=!0),c=da(e,0,a._dayOfYear),a._a[cd]=c.getUTCMonth(),a._a[dd]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[ed]&&0===a._a[fd]&&0===a._a[gd]&&0===a._a[hd]&&(a._nextDay=!0,a._a[ed]=0),a._d=(a._useUTC?da:ca).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[ed]=24)}}function sa(a){var b,
c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=pa(b.GG,a._a[bd],ha(Aa(),1,4).year),d=pa(b.W,1),e=pa(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=pa(b.gg,a._a[bd],ha(Aa(),f,g).year),d=pa(b.w,1),null!=b.d?(e=b.d,f>e&&++d):e=null!=b.e?b.e+f:f),h=na(c,d,e,g,f),a._a[bd]=h.year,a._dayOfYear=h.dayOfYear}function ta(b){if(b._f===a.ISO_8601)return void aa(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=K(b._f,b._locale).match(Jc)||[],c=0;c<e.length;c++)f=e[c],
d=(h.match(M(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),Mc[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),Q(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[ed]<=12&&b._a[ed]>0&&(j(b).bigHour=void 0),b._a[ed]=ua(b._locale,b._a[ed],b._meridiem),ra(b),Y(b)}function ua(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,
c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function va(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(0/0));for(e=0;e<a._f.length;e++)f=0,b=m({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],ta(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function wa(a){if(!a._d){var b=A(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ra(a)}}function xa(a){var b,
e=a._i,f=a._f;return a._locale=a._locale||x(a._l),null===e||void 0===f&&""===e?l({nullInput:!0}):("string"==typeof e&&(a._i=e=a._locale.preparse(e)),o(e)?new n(Y(e)):(c(f)?va(a):f?ta(a):d(e)?a._d=e:ya(a),b=new n(Y(a)),b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b))}function ya(b){var f=b._i;void 0===f?b._d=new Date:d(f)?b._d=new Date(+f):"string"==typeof f?ba(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ra(b)):"object"==typeof f?wa(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}
function za(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,xa(f)}function Aa(a,b,c,d){return za(a,b,c,d,!1)}function Ba(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Aa();for(d=b[0],e=1;e<b.length;++e)b[e][a](d)&&(d=b[e]);return d}function Ca(){var a=[].slice.call(arguments,0);return Ba("isBefore",a)}function Da(){var a=[].slice.call(arguments,0);return Ba("isAfter",a)}function Ea(a){var b=
A(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1E3*j+6E4*i+36E5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=x(),this._bubble()}function Fa(a){return a instanceof Ea}function Ga(a,b){G(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+F(~~(a/60),2)+b+F(~~a%60,2)})}function Ha(a){var b=(a||"").match(Yc)||[],c=b[b.length-1]||[],d=(c+"").match(td)||["-",
0,0],e=+(60*d[1])+p(d[2]);return"+"===d[0]?e:-e}function Ia(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(o(b)||d(b)?+b:+Aa(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Aa(b).local();return c._isUTC?Aa(b).zone(c._offset||0):Aa(b).local()}function Ja(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Ka(b,c){var d,e=this._offset||0;return null!=b?("string"==typeof b&&(b=Ha(b)),Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Ja(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,
"m"),e!==b&&(!c||this._changeInProgress?$a(this,Va(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ja(this)}function La(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Ma(a){return this.utcOffset(0,a)}function Na(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ja(this),"m")),this}function Oa(){return this._tzm?this.utcOffset(this._tzm):
"string"==typeof this._i&&this.utcOffset(Ha(this._i)),this}function Pa(a){return a=a?Aa(a).utcOffset():0,(this.utcOffset()-a)%60===0}function Qa(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ra(){if(this._a){var a=this._isUTC?h(this._a):Aa(this._a);return this.isValid()&&q(this._a,a.toArray())>0}return!1}function Sa(){return!this._isUTC}function Ta(){return this._isUTC}function Ua(){return this._isUTC&&0===this._offset}function Va(a,
b){var c,d,e,g=a,h=null;return Fa(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=ud.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:p(h[dd])*c,h:p(h[ed])*c,m:p(h[fd])*c,s:p(h[gd])*c,ms:p(h[hd])*c}):(h=vd.exec(a))?(c="-"===h[1]?-1:1,g={y:Wa(h[2],c),M:Wa(h[3],c),d:Wa(h[4],c),h:Wa(h[5],c),m:Wa(h[6],c),s:Wa(h[7],c),w:Wa(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=Ya(Aa(g.from),Aa(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ea(g),
Fa(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function Wa(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Xa(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Ya(a,b){var c;return b=Ia(b,a),a.isBefore(b)?c=Xa(a,b):(c=Xa(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function Za(a,b){return function(c,d){var e,
f;return null===d||isNaN(+d)||(_(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Va(c,d),$a(this,e,a),this}}function $a(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&D(b,"Date",C(b,"Date")+g*d),h&&V(b,C(b,"Month")+h*d),e&&a.updateOffset(b,g||h)}function _a(a){var b=a||Aa(),c=Ia(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>
d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this,Aa(b)))}function ab(){return new n(this)}function bb(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+this>+a):(c=o(a)?+a:+Aa(a),c<+this.clone().startOf(b))}function cb(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+a>+this):(c=o(a)?+a:+Aa(a),+this.clone().endOf(b)<c)}function db(a,b,c){return this.isAfter(a,
c)&&this.isBefore(b,c)}function eb(a,b){var c;return b=z(b||"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+this===+a):(c=+Aa(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function fb(a){return 0>a?Math.ceil(a):Math.floor(a)}function gb(a,b,c){var d,e,f=Ia(a,this),g=6E4*(f.utcOffset()-this.utcOffset());return b=z(b),"year"===b||"month"===b||"quarter"===b?(e=hb(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1E3:"minute"===b?d/6E4:"hour"===b?d/36E5:"day"===
b?(d-g)/864E5:"week"===b?(d-g)/6048E5:d),c?e:fb(e)}function hb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function ib(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function jb(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():J(a,
"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):J(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function kb(b){var c=J(this,b||a.defaultFormat);return this.localeData().postformat(c)}function lb(a,b){return this.isValid()?Va({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function mb(a){return this.from(Aa(),a)}function nb(a,b){return this.isValid()?Va({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ob(a){return this.to(Aa(),a)}function pb(a){var b;
return void 0===a?this._locale._abbr:(b=x(a),null!=b&&(this._locale=b),this)}function qb(){return this._locale}function rb(a){switch(a=z(a)){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function sb(a){return a=
z(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function tb(){return+this._d-6E4*(this._offset||0)}function ub(){return Math.floor(+this/1E3)}function vb(){return this._offset?new Date(+this):this._d}function wb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function xb(){return k(this)}function yb(){return g({},j(this))}function zb(){return j(this).overflow}function Ab(a,b){G(0,[a,a.length],0,
b)}function Bb(a,b,c){return ha(Aa([a,11,31+b-c]),b,c).week}function Cb(a){var b=ha(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")}function Db(a){var b=ha(this,1,4).year;return null==a?b:this.add(a-b,"y")}function Eb(){return Bb(this.year(),1,4)}function Fb(){var a=this.localeData()._week;return Bb(this.year(),a.dow,a.doy)}function Gb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Hb(a,b){if("string"==
typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function Ib(a){return this._weekdays[a.day()]}function Jb(a){return this._weekdaysShort[a.day()]}function Kb(a){return this._weekdaysMin[a.day()]}function Lb(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=Aa([2E3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",
""),"i")),this._weekdaysParse[b].test(a))return b}function Mb(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Hb(a,this.localeData()),this.add(a-b,"d")):b}function Nb(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Ob(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Pb(a,b){G(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Qb(a,b){return b._meridiemParse}
function Rb(a){return"p"===(a+"").toLowerCase().charAt(0)}function Sb(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Tb(a){G(0,[a,3],0,"millisecond")}function Ub(){return this._isUTC?"UTC":""}function Vb(){return this._isUTC?"Coordinated Universal Time":""}function Wb(a){return Aa(1E3*a)}function Xb(){return Aa.apply(null,arguments).parseZone()}function Yb(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.call(b,c):d}function Zb(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&
(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b}function $b(){return this._invalidDate}function _b(a){return this._ordinal.replace("%d",a)}function ac(a){return a}function bc(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function cc(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)}function dc(a){var b,c;for(c in a)b=a[c],
"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ec(a,b,c,d){var e=x(),f=h().set(d,b);return e[c](f,a)}function fc(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return ec(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=ec(a,f,c,e);return g}function gc(a,b){return fc(a,b,"months",12,"month")}function hc(a,b){return fc(a,b,"monthsShort",12,"month")}function ic(a,b){return fc(a,b,"weekdays",7,"day")}
function jc(a,b){return fc(a,b,"weekdaysShort",7,"day")}function kc(a,b){return fc(a,b,"weekdaysMin",7,"day")}function lc(){var a=this._data;return this._milliseconds=Rd(this._milliseconds),this._days=Rd(this._days),this._months=Rd(this._months),a.milliseconds=Rd(a.milliseconds),a.seconds=Rd(a.seconds),a.minutes=Rd(a.minutes),a.hours=Rd(a.hours),a.months=Rd(a.months),a.years=Rd(a.years),this}function mc(a,b,c,d){var e=Va(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=
d*e._months,a._bubble()}function nc(a,b){return mc(this,a,b,1)}function oc(a,b){return mc(this,a,b,-1)}function pc(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;return g.milliseconds=d%1E3,a=fb(d/1E3),g.seconds=a%60,b=fb(a/60),g.minutes=b%60,c=fb(b/60),g.hours=c%24,e+=fb(c/24),h=fb(qc(e)),e-=fb(rc(h)),f+=fb(e/30),e%=30,h+=fb(f/12),f%=12,g.days=e,g.months=f,g.years=h,this}function qc(a){return 400*a/146097}function rc(a){return 146097*a/400}function sc(a){var b,c,d=
this._milliseconds;if(a=z(a),"month"===a||"year"===a)return b=this._days+d/864E5,c=this._months+12*qc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(rc(this._months/12)),a){case "week":return b/7+d/6048E5;case "day":return b+d/864E5;case "hour":return 24*b+d/36E5;case "minute":return 1440*b+d/6E4;case "second":return 86400*b+d/1E3;case "millisecond":return Math.floor(864E5*b)+d;default:throw new Error("Unknown unit "+a);}}function tc(){return this._milliseconds+864E5*this._days+this._months%
12*2592E6+31536E6*p(this._months/12)}function uc(a){return function(){return this.as(a)}}function vc(a){return a=z(a),this[a+"s"]()}function wc(a){return function(){return this._data[a]}}function xc(){return fb(this.days()/7)}function yc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function zc(a,b,c){var d=Va(a).abs(),e=fe(d.as("s")),f=fe(d.as("m")),g=fe(d.as("h")),h=fe(d.as("d")),i=fe(d.as("M")),j=fe(d.as("y")),k=e<ge.s&&["s",e]||1===f&&["m"]||f<ge.m&&["mm",f]||1===g&&["h"]||g<ge.h&&["hh",g]||
1===h&&["d"]||h<ge.d&&["dd",h]||1===i&&["M"]||i<ge.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,yc.apply(null,k)}function Ac(a,b){return void 0===ge[a]?!1:void 0===b?ge[a]:(ge[a]=b,!0)}function Bc(a){var b=this.localeData(),c=zc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Cc(){var a=he(this.years()),b=he(this.months()),c=he(this.days()),d=he(this.hours()),e=he(this.minutes()),f=he(this.seconds()+this.milliseconds()/1E3),g=this.asSeconds();return g?
(0>g?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}var Dc,Ec,Fc=a.momentProperties=[],Gc=!1,Hc={},Ic={},Jc=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Kc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Lc={},Mc={},Nc=/\d/,Oc=/\d\d/,Pc=/\d{3}/,Qc=/\d{4}/,Rc=/[+-]?\d{6}/,Sc=/\d\d?/,Tc=/\d{1,3}/,Uc=/\d{1,4}/,Vc=/[+-]?\d{1,6}/,
Wc=/\d+/,Xc=/[+-]?\d+/,Yc=/Z|[+-]\d\d:?\d\d/gi,Zc=/[+-]?\d+(\.\d{1,3})?/,$c=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,_c={},ad={},bd=0,cd=1,dd=2,ed=3,fd=4,gd=5,hd=6;G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),G("MMMM",0,0,function(a){return this.localeData().months(this,a)}),y("month","M"),L("M",Sc),L("MM",Sc,Oc),L("MMM",$c),L("MMMM",$c),O(["M",
"MM"],function(a,b){b[cd]=p(a)-1}),O(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[cd]=e:j(c).invalidMonth=a});var id="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),jd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),kd={};a.suppressDeprecationWarnings=!1;var ld=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
md=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],nd=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],od=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=$("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",
function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),y("year","y"),L("Y",Xc),L("YY",Sc,Oc),L("YYYY",Uc,Qc),L("YYYYY",Vc,Rc),L("YYYYYY",Vc,Rc),O(["YYYY","YYYYY","YYYYYY"],bd),O("YY",function(b,c){c[bd]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return p(a)+(p(a)>68?1900:2E3)};var pd=B("FullYear",!1);G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),
y("week","w"),y("isoWeek","W"),L("w",Sc),L("ww",Sc,Oc),L("W",Sc),L("WW",Sc,Oc),P(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=p(a)});var qd={dow:0,doy:6};G("DDD",["DDDD",3],"DDDo","dayOfYear"),y("dayOfYear","DDD"),L("DDD",Tc),L("DDDD",Pc),O(["DDD","DDDD"],function(a,b,c){c._dayOfYear=p(a)}),a.ISO_8601=function(){};var rd=$("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Aa.apply(null,arguments);return this>a?this:a}),sd=
$("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Aa.apply(null,arguments);return a>this?this:a});Ga("Z",":"),Ga("ZZ",""),L("Z",Yc),L("ZZ",Yc),O(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ha(a)});var td=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var ud=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,vd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;
Va.fn=Ea.prototype;var wd=Za(1,"add"),xd=Za(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var yd=$("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ab("gggg","weekYear"),Ab("ggggg","weekYear"),Ab("GGGG","isoWeekYear"),
Ab("GGGGG","isoWeekYear"),y("weekYear","gg"),y("isoWeekYear","GG"),L("G",Xc),L("g",Xc),L("GG",Sc,Oc),L("gg",Sc,Oc),L("GGGG",Uc,Qc),L("gggg",Uc,Qc),L("GGGGG",Vc,Rc),L("ggggg",Vc,Rc),P(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=p(a)}),P(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),G("Q",0,0,"quarter"),y("quarter","Q"),L("Q",Nc),O("Q",function(a,b){b[cd]=3*(p(a)-1)}),G("D",["DD",2],"Do","date"),y("date","D"),L("D",Sc),L("DD",Sc,Oc),L("Do",function(a,b){return a?
b._ordinalParse:b._ordinalParseLenient}),O(["D","DD"],dd),O("Do",function(a,b){b[dd]=p(a.match(Sc)[0],10)});var zd=B("Date",!0);G("d",0,"do","day"),G("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),G("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),G("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),y("day","d"),y("weekday","e"),y("isoWeekday","E"),L("d",Sc),L("e",Sc),L("E",Sc),L("dd",$c),L("ddd",
$c),L("dddd",$c),P(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:j(c).invalidWeekday=a}),P(["d","e","E"],function(a,b,c,d){b[d]=p(a)});var Ad="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Bd="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Cd="Su_Mo_Tu_We_Th_Fr_Sa".split("_");G("H",["HH",2],0,"hour"),G("h",["hh",2],0,function(){return this.hours()%12||12}),Pb("a",!0),Pb("A",!1),y("hour","h"),L("a",Qb),L("A",Qb),L("H",Sc),L("h",Sc),L("HH",Sc,Oc),
L("hh",Sc,Oc),O(["H","HH"],ed),O(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),O(["h","hh"],function(a,b,c){b[ed]=p(a),j(c).bigHour=!0});var Dd=/[ap]\.?m?\.?/i,Ed=B("Hours",!0);G("m",["mm",2],0,"minute"),y("minute","m"),L("m",Sc),L("mm",Sc,Oc),O(["m","mm"],fd);var Fd=B("Minutes",!1);G("s",["ss",2],0,"second"),y("second","s"),L("s",Sc),L("ss",Sc,Oc),O(["s","ss"],gd);var Gd=B("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/
10)}),Tb("SSS"),Tb("SSSS"),y("millisecond","ms"),L("S",Tc,Nc),L("SS",Tc,Oc),L("SSS",Tc,Pc),L("SSSS",Wc),O(["S","SS","SSS","SSSS"],function(a,b){b[hd]=p(1E3*("0."+a))});var Hd=B("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var Id=n.prototype;Id.add=wd,Id.calendar=_a,Id.clone=ab,Id.diff=gb,Id.endOf=sb,Id.format=kb,Id.from=lb,Id.fromNow=mb,Id.to=nb,Id.toNow=ob,Id.get=E,Id.invalidAt=zb,Id.isAfter=bb,Id.isBefore=cb,Id.isBetween=db,Id.isSame=eb,Id.isValid=xb,Id.lang=yd,Id.locale=pb,Id.localeData=
qb,Id.max=sd,Id.min=rd,Id.parsingFlags=yb,Id.set=E,Id.startOf=rb,Id.subtract=xd,Id.toArray=wb,Id.toDate=vb,Id.toISOString=jb,Id.toJSON=jb,Id.toString=ib,Id.unix=ub,Id.valueOf=tb,Id.year=pd,Id.isLeapYear=ga,Id.weekYear=Cb,Id.isoWeekYear=Db,Id.quarter=Id.quarters=Gb,Id.month=W,Id.daysInMonth=X,Id.week=Id.weeks=la,Id.isoWeek=Id.isoWeeks=ma,Id.weeksInYear=Fb,Id.isoWeeksInYear=Eb,Id.date=zd,Id.day=Id.days=Mb,Id.weekday=Nb,Id.isoWeekday=Ob,Id.dayOfYear=oa,Id.hour=Id.hours=Ed,Id.minute=Id.minutes=Fd,Id.second=
Id.seconds=Gd,Id.millisecond=Id.milliseconds=Hd,Id.utcOffset=Ka,Id.utc=Ma,Id.local=Na,Id.parseZone=Oa,Id.hasAlignedHourOffset=Pa,Id.isDST=Qa,Id.isDSTShifted=Ra,Id.isLocal=Sa,Id.isUtcOffset=Ta,Id.isUtc=Ua,Id.isUTC=Ua,Id.zoneAbbr=Ub,Id.zoneName=Vb,Id.dates=$("dates accessor is deprecated. Use date instead.",zd),Id.months=$("months accessor is deprecated. Use month instead",W),Id.years=$("years accessor is deprecated. Use year instead",pd),Id.zone=$("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",
La);var Jd=Id,Kd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ld={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Md="Invalid date",Nd="%d",Od=/\d{1,2}/,Pd={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},
Qd=r.prototype;Qd._calendar=Kd,Qd.calendar=Yb,Qd._longDateFormat=Ld,Qd.longDateFormat=Zb,Qd._invalidDate=Md,Qd.invalidDate=$b,Qd._ordinal=Nd,Qd.ordinal=_b,Qd._ordinalParse=Od,Qd.preparse=ac,Qd.postformat=ac,Qd._relativeTime=Pd,Qd.relativeTime=bc,Qd.pastFuture=cc,Qd.set=dc,Qd.months=S,Qd._months=id,Qd.monthsShort=T,Qd._monthsShort=jd,Qd.monthsParse=U,Qd.week=ia,Qd._week=qd,Qd.firstDayOfYear=ka,Qd.firstDayOfWeek=ja,Qd.weekdays=Ib,Qd._weekdays=Ad,Qd.weekdaysMin=Kb,Qd._weekdaysMin=Cd,Qd.weekdaysShort=
Jb,Qd._weekdaysShort=Bd,Qd.weekdaysParse=Lb,Qd.isPM=Rb,Qd._meridiemParse=Dd,Qd.meridiem=Sb,v("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===p(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=$("moment.lang is deprecated. Use moment.locale instead.",v),a.langData=$("moment.langData is deprecated. Use moment.localeData instead.",x);var Rd=Math.abs,Sd=uc("ms"),Td=uc("s"),Ud=uc("m"),Vd=uc("h"),Wd=uc("d"),Xd=uc("w"),Yd=uc("M"),Zd=uc("y"),$d=wc("milliseconds"),
_d=wc("seconds"),ae=wc("minutes"),be=wc("hours"),ce=wc("days"),de=wc("months"),ee=wc("years"),fe=Math.round,ge={s:45,m:45,h:22,d:26,M:11},he=Math.abs,ie=Ea.prototype;ie.abs=lc,ie.add=nc,ie.subtract=oc,ie.as=sc,ie.asMilliseconds=Sd,ie.asSeconds=Td,ie.asMinutes=Ud,ie.asHours=Vd,ie.asDays=Wd,ie.asWeeks=Xd,ie.asMonths=Yd,ie.asYears=Zd,ie.valueOf=tc,ie._bubble=pc,ie.get=vc,ie.milliseconds=$d,ie.seconds=_d,ie.minutes=ae,ie.hours=be,ie.days=ce,ie.weeks=xc,ie.months=de,ie.years=ee,ie.humanize=Bc,ie.toISOString=
Cc,ie.toString=Cc,ie.toJSON=Cc,ie.locale=pb,ie.localeData=qb,ie.toIsoString=$("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Cc),ie.lang=yd,G("X",0,0,"unix"),G("x",0,0,"valueOf"),L("x",Xc),L("X",Zc),O("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a,10))}),O("x",function(a,b,c){c._d=new Date(p(a))}),a.version="2.10.3",b(Aa),a.fn=Jd,a.min=Ca,a.max=Da,a.utc=h,a.unix=Wb,a.months=gc,a.isDate=d,a.locale=v,a.invalid=l,a.duration=Va,a.isMoment=o,a.weekdays=ic,a.parseZone=
Xb,a.localeData=x,a.isDuration=Fa,a.monthsShort=hc,a.weekdaysMin=kc,a.defineLocale=w,a.weekdaysShort=jc,a.normalizeUnits=z,a.relativeTimeThreshold=Ac;var je=a;return je});var ca,H=self,R=H.UM;(function(){function a(b){c?c.push(b):setTimeout(b,0)}var d={version:"0.7.2.0",isUndefined:function(b){return void 0===b},isNull:function(b){return null===b},af:function(b){return null===b||void 0===b},bQ:function(b){return null!==b&&void 0!==b}},c=[];H.attachEvent&&H.attachEvent("onload",function(){if(c){var b=c;c=null;for(var a=0,g=b.length;a<g;a++)b[a]()}});R||(H.UM=R={init:a,ready:a});for(var f in d)R[f]=d[f]})();Object.Vd="Object";Object.pi=null;Object.WO=function(a){for(var d in a)delete a[d]};
Object.or=function(a,d){return void 0!==a[d]};Object.keys?Object.UI=function(a){return Object.keys(a).length}:(Object.keys=function(a){var d=[],c;for(c in a)d.push(c);return d},Object.UI=function(a){var d=0,c;for(c in a)d++;return d});Boolean.Vd="Boolean";Boolean.parse=function(a){return"true"==a.toLowerCase()};Number.Vd="Number";Number.parse=function(a){return a&&a.length?0<=a.indexOf(".")||0<=a.indexOf("e")||a.endsWith("f")||a.endsWith("F")?parseFloat(a):parseInt(a,10):0};
Number.prototype.format=function(a){return R.af(a)||0==a.length||"i"==a?this.toString():da(this,a,!1)};Number.prototype.dC=function(a){return R.af(a)||0==a.length||"i"==a?this.toLocaleString():da(this,a,!0)};
Number.Ct=function(a,d,c,f){var b=null;c=a.indexOf(c);0<c&&(b=a.substr(c),a=a.substr(0,c));(c=a.startsWith("-"))&&(a=a.substr(1));var e=0,g=d[e];if(a.length<g)return b?a+b:a;for(var l=a.length,k="",h=!1;!h;){var m=g,p=l-m;0>p&&(g+=p,m+=p,p=0,h=!0);if(!m)break;p=a.substr(p,m);k=k.length?p+f+k:p;l-=m;e<d.length-1&&(e++,g=d[e])}c&&(k="-"+k);return b?k+b:k};
function da(a,d,c){c=c?R.pE.VN.numberFormat:R.pE.dO.numberFormat;var f="",b=-1;1<d.length&&(b=parseInt(d.substr(1)));d=d.charAt(0);switch(d){case "d":case "D":f=parseInt(Math.abs(a)).toString();-1!=b&&(f=f.length<b?String.OA(b-f.length)+f:f);0>a&&(f="-"+f);break;case "x":case "X":f=parseInt(Math.abs(a)).toString(16);"X"==d&&(f=f.toUpperCase());-1!=b&&(f=f.length<b?String.OA(b-f.length)+f:f);break;case "e":case "E":f=-1==b?a.toExponential():a.toExponential(b);"E"==d&&(f=f.toUpperCase());break;case "f":case "F":case "n":case "N":-1==
b&&(b=c.kQ);f=a.toFixed(b).toString();b&&"."!=c.lC&&(b=f.indexOf("."),f=f.substr(0,b)+c.lC+f.substr(b+1));if("n"==d||"N"==d)f=Number.Ct(f,c.mQ,c.lC,c.lQ);break;case "c":case "C":-1==b&&(b=c.iP);f=Math.abs(a).toFixed(b).toString();b&&"."!=c.aA&&(b=f.indexOf("."),f=f.substr(0,b)+c.aA+f.substr(b+1));f=Number.Ct(f,c.kP,c.aA,c.jP);f=0>a?String.format(c.lP,f):String.format(c.mP,f);break;case "p":case "P":-1==b&&(b=c.qQ),f=(100*Math.abs(a)).toFixed(b).toString(),b&&"."!=c.AC&&(b=f.indexOf("."),f=f.substr(0,
b)+c.AC+f.substr(b+1)),f=Number.Ct(f,c.sQ,c.AC,c.rQ),f=0>a?String.format(c.tQ,f):String.format(c.uQ,f)}return f}String.Vd="String";String.rE="";String.compare=function(a,d,c){c&&(a&&(a=a.toUpperCase()),d&&(d=d.toUpperCase()));a=a||"";d=d||"";return a==d?0:a<d?-1:1};String.concat=function(){return 2===arguments.length?arguments[0]+arguments[1]:Array.prototype.join.call(arguments,"")};
String.prototype.endsWith=function(a){return a.length?a.length>this.length?!1:this.substr(this.length-a.length)==a:!0};String.zA=function(a,d,c){return 0==String.compare(a,d,c)};String._format=function(a,d,c){String.Ky||(String.Ky=/(\{[^\}^\{]+\})/g);return a.replace(String.Ky,function(a,b){var e=d[parseInt(b.substr(1))+1];if(R.af(e))return"";if(e.format){var g=null,l=b.indexOf(":");0<l&&(g=b.substring(l+1,b.length-1));return c?e.dC(g):e.format(g)}return c?e.toLocaleString():e.toString()})};
String.format=function(a){return String._format(a,arguments,!1)};String.OA=function(a){for(var d="0",c=1;c<a;c++)d+="0";return d};String.prototype.$e=function(a,d){return d?a?this.substr(0,a)+d+this.substr(a):d+this:this};String.lr=function(a){return!a||!a.length};String.dC=function(a){return String._format(a,arguments,!0)};String.prototype.remove=function(a,d){return!d||a+d>this.length?this.substr(0,a):this.substr(0,a)+this.substr(a+d)};
String.prototype.startsWith=function(a){return a.length?a.length>this.length?!1:this.substr(0,a.length)==a:!0};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/\s*$/,"").replace(/^\s*/,"")});Array.Vd="Array";Array.hp=[R.Qo];ca=Array.prototype;ca.add=function(a){this.push(a)};ca.addRange=function(a){this.push.apply(this,a)};ca.clear=function(){this.length=0};ca.clone=function(){return 1===this.length?[this[0]]:Array.apply(null,this)};ca.contains=function(a){return 0<=this.indexOf(a)};
ca.dequeue=function(){return this.shift()};ca.enqueue=function(a){this.xG=!0;this.push(a)};function ea(a){return a.length?a[a.xG?0:a.length-1]:null}Array.prototype.every||(Array.prototype.every=function(a,d){for(var c=this.length,f=0;f<c;f++)if(f in this&&!a.call(d,this[f],f,this))return!1;return!0});Array.prototype.filter||(Array.prototype.filter=function(a,d){for(var c=this.length,f=[],b=0;b<c;b++)if(b in this){var e=this[b];a.call(d,e,b,this)&&f.push(e)}return f});
Array.prototype.forEach||(Array.prototype.forEach=function(a,d){for(var c=this.length,f=0;f<c;f++)f in this&&a.call(d,this[f],f,this)});Array.prototype.ud=function(){return new R.Jo(this)};Array.prototype.groupBy=function(a,d){for(var c=this.length,f=[],b={},e=0;e<c;e++)if(e in this){var g=a.call(d,this[e],e);if(!String.lr(g)){var l=b[g];l||(l=[],l.key=g,b[g]=l,f.add(l));l.add(this[e])}}return f};
Array.prototype.index=function(a,d){for(var c=this.length,f={},b=0;b<c;b++)if(b in this){var e=a.call(d,this[b],b);String.lr(e)||(f[e]=this[b])}return f};Array.prototype.indexOf||(Array.prototype.indexOf=function(a,d){var c=this.length;if(c)for(var f=d||0;f<c;f++)if(this[f]===a)return f;return-1});Array.prototype.$e=function(a,d){this.splice(a,0,d)};Array.prototype.map||(Array.prototype.map=function(a,d){for(var c=this.length,f=Array(c),b=0;b<c;b++)b in this&&(f[b]=a.call(d,this[b],b,this));return f});
Array.parse=function(a){return eval("("+a+")")};Array.prototype.remove=function(a){a=this.indexOf(a);return 0<=a?(this.splice(a,1),!0):!1};Array.prototype.removeRange=function(a,d){return this.splice(a,d)};Array.prototype.some||(Array.prototype.some=function(a,d){for(var c=this.length,f=0;f<c;f++)if(f in this&&a.call(d,this[f],f,this))return!0;return!1});Array.toArray=function(a){return Array.prototype.slice.call(a)};RegExp.Vd="RegExp";
RegExp.parse=function(a){if(a.startsWith("/")){var d=a.lastIndexOf("/");if(1<d)return new RegExp(a.substring(1,d),a.substr(d+1))}return null};Error.Vd="Error";
Error.$O=function(a,d,c){a=Error(a);if(d)for(var f in d)a[f]=d[f];c&&(a.SP=c);if(!(R.af(a.stack)||R.af(a.fileName)||R.af(a.lineNumber))){d=a.stack.split("\n");c=d[0];for(f=a.fileName+":"+a.lineNumber;!R.af(c)&&-1===c.indexOf(f);)d.shift(),c=d[0];c=d[1];isNullOrUndefined(c)||(c=c.match(/@(.*):(\d+)$/),R.af(c)||(d.shift(),a.stack=d.join("\n"),a.fileName=c[1],a.lineNumber=parseInt(c[2])))}return a};R.lf=H.lf||function(){};R.lf.Vd="Debug";
R.lf.writeln||(R.lf.writeln=function(a){H.console?H.console.debug?H.console.debug(a):H.console.log&&H.console.log(a):H.opera&&H.opera.postError&&H.opera.postError(a)});R.lf.Fy=function(a){R.lf.writeln(a);eval("debugger;")};R.lf.assert=function(a,d){a||(d="Assert failed: "+d,confirm(d+"\r\n\r\nBreak into debugger?")&&R.lf.Fy(d))};R.lf.fail=function(a){R.lf.Fy(a)};H.$a=Function;H.$a.Vd="Type";H.Wx=function(a){this.Vd=a};H.Wx.prototype={TF:!0,getName:function(){return this.Vd}};
H.$a.Ur=function(a){H.pt||(H.pt={});H.hy||(H.hy=[]);if(!H.pt[a]){for(var d=self,c=a.split("."),f=0;f<c.length;f++){var b=c[f],e=d[b];e||(d[b]=e=new H.Wx(c.slice(0,f+1).join(".")),0==f&&H.hy.add(e));d=e}H.pt[a]=d}};H.$a.prototype.Da=function(a,d,c){this.prototype.constructor=this;this.Vd=a;this.Xx=!0;this.pi=d||Object;d&&(this.gp=!0);if(c){this.hp=[];for(var f=2;f<arguments.length;f++)c=arguments[f],this.hp.add(c)}};function fa(a,d){a.Vd=d;a.cy=!0}
H.$a.prototype.Yw=function(){if(this.gp){var a=this.pi;a.gp&&a.Yw();for(var d in a.prototype){var c=a.prototype[d];this.prototype[d]||(this.prototype[d]=c)}delete this.gp}};H.$a.prototype.DL||(H.$a.prototype.DL=H.$a.prototype.Yw);function ga(a,d){return R.af(d)?!1:a==Object||d instanceof a?!0:la(a,H.$a.SI(d))}
function la(a,d){if(a==Object||a==d)return!0;if(a.Xx)for(var c=d.pi;c;){if(a==c)return!0;c=c.pi}else if(a.cy){var f=d.hp;if(f&&f.contains(a))return!0;for(c=d.pi;c;){if((f=c.hp)&&f.contains(a))return!0;c=c.pi}}return!1}H.$a.WP=function(a){return 1==a.Xx};H.$a.XP=function(a){return 1==a.RF};H.$a.YP=function(a){return 1==a.RF&&1==a.Zx};H.$a.ZP=function(a){return 1==a.cy};H.$a.$P=function(a){return 1==a.TF};H.$a.UO=function(a,d){return ga(d,a)};H.$a.CQ=function(a,d){return ga(d,a)?a:null};
H.$a.SI=function(a){var d=null;try{d=a.constructor}catch(c){}d&&d.Vd||(d=Object);return d};H.$a.wJ=function(a){if(!a)return null;H.$a.qt||(H.$a.qt={});var d=H.$a.qt[a];d||(d=eval(a),H.$a.qt[a]=d);return d};H.$a.parse=function(a){return H.$a.wJ(a)};R.Zg=function(){};R.Zg.Da("Enum");
R.Zg.parse=function(a,d){var c=a.prototype;if(a.Zx){for(var f=d.split("|"),b=0,e=!0,g=f.length-1;0<=g;g--){var l=f[g].trim(),k=!1;for(h in c)if(h===l){b|=c[h];k=!0;break}if(!k){e=!1;break}}if(e)return b}else for(var h in c)if(h===d)return c[h];throw"Invalid Enumeration Value";};
R.Zg.MO=function(a){var d=this.prototype;if(this.Zx&&0!==a){var c=[];for(f in d)d[f]&a&&(c.length&&c.add(" | "),c.add(f));if(!c.length)throw"Invalid Enumeration Value";return c.join("")}for(var f in d)if(d[f]===a)return f;throw"Invalid Enumeration Value";};R.Bc=function(){};R.Bc.Da("Delegate");R.Bc.empty=function(){};R.Bc.YF=function(a,d,c){for(var f=0;f<a.length;f+=2)if(a[f]===d&&a[f+1]===c)return!0;return!1};
R.Bc._create=function(a){function d(){if(2==a.length)return a[1].apply(a[0],arguments);for(var c=a.clone(),f=0;f<c.length;f+=2)R.Bc.YF(a,c[f],c[f+1])&&c[f+1].apply(c[f],arguments);return null}d.Df=a;return d};R.Bc.create=function(a,d){return a?R.Bc._create([a,d]):d};R.Bc.XO=function(a,d){return a?d?R.Bc._create((a.Df?a.Df:[null,a]).concat(d.Df?d.Df:[null,d])):a.Df?a:R.Bc.create(null,a):d.Df?d:R.Bc.create(null,d)};
R.Bc.remove=function(a,d){if(!a||a===d)return null;if(!d)return a;var c=a.Df,f=null,b;d.Df?(f=d.Df[0],b=d.Df[1]):b=d;for(var e=0;e<c.length;e+=2)if(c[e]===f&&c[e+1]===b){if(2==c.length)return null;c.splice(e,2);return R.Bc._create(c)}return a};R.Bc.aP=function(a,d,c){c=c||"__"+(new Date).valueOf();self[c]=d?a:function(){try{delete self[c]}catch(f){self[c]=void 0}a.apply(null,arguments)};return c};R.Bc.qP=function(a){delete self[a]};R.Bc.VO=function(a){self[a]=R.Bc.empty};R.Td=function(){};
R.Td.prototype={Xf:null,reset:null};R.Td.ud=function(a){return a?a.ud?a.ud():new R.Jo(a):null};fa(R.Td,"IEnumerator");R.Qo=function(){};R.Qo.prototype={ud:null};fa(R.Qo,"IEnumerable");R.Jo=function(a){this.oy=a;this.vp=-1;this.current=null};R.Jo.prototype={Xf:function(){this.vp++;this.current=this.oy[this.vp];return this.vp<this.oy.length},reset:function(){this.vp=-1;this.current=null}};R.Jo.Da("ArrayEnumerator",null,R.Td);R.Cx=function(){};R.Cx.prototype={pc:null};fa(R.Cx,"IDisposable");
R.Rx=function(a){this.Jp=R.af(a)?[]:[a];this.isEmpty=0==this.Jp.length};R.Rx.prototype={append:function(a){R.af(a)||(this.Jp.add(a),this.isEmpty=!1);return this},clear:function(){this.Jp=[];this.isEmpty=!0},toString:function(a){return this.Jp.join(a||"")}};R.Rx.Da("StringBuilder");R.Po=function(){};R.Po.Da("EventArgs");R.Po.rE=new R.Po;H.XMLHttpRequest||(H.XMLHttpRequest=function(){for(var a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],d=0;d<a.length;d++)try{return new ActiveXObject(a[d])}catch(c){}return null});
R.wx=function(){var a=R.wx;a.gp&&a.Yw();a.pi.apply(this);this.cancel=!1};R.wx.Da("CancelEventArgs",R.Po);R.DF=function(a,d){this.first=a;this.second=d};R.DF.Da("Tuple");R.nd=function(a){this.eu=a;this.qg=null};R.nd.prototype={Ka:function(){this.qg=R.nd.ry(this.qg);return this.eu},mb:function(a){this.eu!==a&&(this.eu=a,a=this.qg)&&(this.qg=null,R.nd.Ry(a))}};R.nd.Wt=[];R.nd.sG={pc:function(){R.nd.Wt.pop()}};R.nd.AQ=function(a){R.nd.Wt.push(a);return R.nd.sG};
R.nd.ry=function(a){var d=R.nd.Wt,c=d.length;if(c){a=a||[];for(var f=0;f<c;f++){var b=d[f];a.contains(b)||a.push(b)}return a}return null};R.nd.Ry=function(a){for(var d=0,c=a.length;d<c;d++)a[d].VP()};R.nd.Da("Observable");R.Ex=function(a){this.nh=a||[];this.qg=null};
R.Ex.prototype={add:function(a){this.nh.push(a);ma(this)},clear:function(){this.nh.clear();ma(this)},contains:function(a){return this.nh.contains(a)},ud:function(){this.qg=R.nd.ry(this.qg);return this.nh.ud()},indexOf:function(a){return this.nh.indexOf(a)},$e:function(a,d){this.nh.$e(a,d);ma(this)},remove:function(a){return this.nh.remove(a)?(ma(this),!0):!1},toArray:function(){return this.nh}};function ma(a){var d=a.qg;d&&(a.qg=null,R.nd.Ry(d))}R.Ex.Da("ObservableCollection",null,R.Qo);R.BE=function(){};
fa(R.BE,"IApplication");R.CE=function(){};fa(R.CE,"IContainer");R.GE=function(){};fa(R.GE,"IObjectFactory");R.DE=function(){};fa(R.DE,"IEventManager");R.EE=function(){};fa(R.EE,"IInitializable");self.$a.Ur("XODText");self.$a.Ur("XODTextOld");XODText.qc=function(){};XODText.Ss=function(a,d){this.Xy=a;this.cb=Array(8);this.cb[0]=d[0];this.cb[1]=d[1];this.cb[2]=d[2];this.cb[3]=d[3];this.cb[4]=d[4];this.cb[5]=d[5];this.cb[6]=d[6];this.cb[7]=d[7]};
XODText.Ss.prototype={Xy:null,cb:null,ic:function(){for(var a=Array(8),d=0;8>d;d++)a[d]=this.cb[d];return a}};XODText.fw=function(a){this.HF=this.width=a};XODText.fw.prototype={width:0,HF:0};XODText.Dr=function(){};XODText.Dr.prototype={A:function(){},addColorStop:function(){}};XODText.rm=function(a){this.Ei=[];this.vy={};var d=new XODText.Ia;d.set(1,0,0,1,0,0);this.Ei.push(d);this.zm=a};
$.extend(XODText.rm.prototype,{zm:null,dz:0,Im:0,Vt:0,canvas:{TQ:0,height:0},XI:function(a){return this.vy[a]},OO:function(a,d){var c=new XODText.Fa;c.Tf(a);d.OD(c);return c.width()},tk:function(a){if(Object.or(this.zm,a))return this.zm[a];a=a.split(" ")[1];console.assert(Object.or(this.zm,a),"Font "+a+" file not found");return this.zm[a]},pz:function(a,d){var c=new XODText.Ia,f=a.Ut,b=a.Yy;c.set(b/f,0,0,b/f,0,0);c.OD(d)},font:null,save:function(){var a=new XODText.Ia;a.il(ea(this.Ei));this.Ei.push(a)},
restore:function(){this.Ei.pop()},transform:function(a,d,c,f,b,e){var g=new XODText.Ia;g.set(a,d,c,f,b,e);ea(this.Ei).concat(g)},rotate:function(a){var d=new XODText.Ia,c=Math.cos(a);a=Math.sin(a);d.set(c,a,-a,c,0,0);ea(this.Ei).concat(d)},translate:function(a,d){this.Im=a;this.Vt=d},setLineDash:function(){},fillRect:function(){},fillText:function(a,d,c){var f=this.tk(this.font);this.op(a,d,c,f)},op:function(a,d,c,f){if(!this.pk){this.translate(d,c);d=0;for(c=a.length;d<c;){var b=a.charCodeAt(d),
e;55296<=b&&55551>=b?(e=String.fromCodePoint((b-55296<<10)+(a.charCodeAt(d+1)-56320)+65536),d+=2):(e=String.fromCodePoint(b),d++);b=this.rr&&d in this.rr?this.rr[d]:e;e=f.kv(e);this.pz(f,e);var g=e.y1;e.y1=e.y2;e.y2=g;e.x1+=this.Im;e.x2+=this.Im;e.y1+=this.Vt;e.y2+=this.Vt;this.Im+=e.width();g=Array(8);g[0]=e.x1;g[1]=e.y1;g[2]=e.x2;g[3]=e.y1;g[4]=e.x2;g[5]=e.y2;g[6]=e.x1;g[7]=e.y2;ea(this.Ei).PD(g);this.vy[this.dz]=new XODText.Ss(b,g);this.dz++}this.rr=null}},measureText:function(a){var d=this.tk(this.font);
return this.az(a,d)},az:function(a,d){var c=0;if(!this.pk)for(var f=0,b=a.length;f<b;){var e=a.charCodeAt(f);55296<=e&&55551>=e?(e=d.kv(String.fromCodePoint((e-55296<<10)+(a.charCodeAt(f+1)-56320)+65536)),f+=2):(e=d.kv(String.fromCodePoint(e)),f++);this.pz(d,e);c+=e.width()}return new XODText.fw(c)},strokeRect:function(){},lineWidth:0,lineCap:null,strokeStyle:null,fillStyle:null,globalAlpha:0,createLinearGradient:function(){return new XODText.Dr},createRadialGradient:function(){return new XODText.Dr},
createPattern:function(){},addColorStop:function(){},beginPath:function(){},closePath:function(){},fill:function(){},stroke:function(){},clip:function(){},moveTo:function(){},lineTo:function(){},quadraticCurveTo:function(){},bezierCurveTo:function(){},miterLimit:0,lineJoin:null,drawImage:function(){},setTransform:function(){},getImageData:function(){return new XODText.ImageData},putImageData:function(){},scale:function(){},S:function(){this.save()},r:function(){this.restore()},t:function(a,d,c,f,
b,e){this.transform(a,d,c,f,b,e)},ro:function(a){this.rotate(a)},T:function(a,d){this.translate(a,d)},w:0,c:null,s:null,f:null,a:0,L:function(a,d,c,f){return this.createLinearGradient(a,d,c,f)},R:function(a,d,c,f,b,e){return this.createRadialGradient(a,d,c,f,b,e)},P:function(a,d){this.createPattern(a,d)},A:function(){},b:function(){this.beginPath()},z:function(){this.closePath()},F:function(){this.fill()},X:function(){this.stroke()},cr:function(){this.strokeRect()},C:function(){this.clip()},M:function(a,
d){this.moveTo(a,d)},l:function(a,d){this.lineTo(a,d)},q:function(a,d,c,f){this.quadraticCurveTo(a,d,c,f)},B:function(a,d,c,f,b,e){this.bezierCurveTo(a,d,c,f,b,e)},n:null,x:function(a,d,c){var f=this.tk(this.font);this.op(a,d,c,f)},m:function(a){var d=this.tk(this.font);return this.az(a,d)},i:0,j:null,I:function(a,d,c){this.drawImage(a,d,c)},Z:function(a,d,c,f,b,e){this.setTransform(a,d,c,f,b,e)},d:function(a,d,c,f){return this.getImageData(a,d,c,f)},D:function(a,d,c){this.putImageData(a,d,c)},e:function(a,
d){this.scale(a,d)},tm:function(a){this.rr=a},fillTextCustom:function(a,d,c){var f=this.tk(this.font);this.op(a,d,c,f)},xc:function(a,d,c){var f=this.tk(this.font);this.op(a,d,c,f)},cgb:function(){console.assert(!this.pk,"Custom Glyphs begin offset is incorrect");this.pk=!0},cge:function(){console.assert(this.pk,"Custom Glyphs end offset is incorrect");this.pk=!1},xw:function(a,d,c){1<a.length&&(a=a.substr(0,a.length-1));this.x(a,d,c)},xcw:function(a,d,c){1<a.length&&(a=a.substr(0,a.length-1));this.xc(a,
d,c)},pk:!1});Object.defineProperties(XODText.rm.prototype,{n:{get:function(){return this.font},set:function(a){this.font=a}}});XODText.uf=function(){this.ve=[];this.Ub=[];this.za=[];this.jc=!1};
XODText.uf.prototype={clear:function(){this.La="";this.Ub.clear();this.za.clear();this.jc=!1},yb:function(){this.Ub=[];this.za=[];this.jc=!1},VG:function(a){function d(c){for(var f=c.length,b=0;b<f;b+=8){var e=a.W({x:c[b],y:c[b+1]}),g=a.W({x:c[b+2],y:c[b+3]}),d=a.W({x:c[b+4],y:c[b+5]}),k=a.W({x:c[b+6],y:c[b+7]}),h=new XODText.fb;h.kz(e.x,e.y,g.x,g.y,d.x,d.y,k.x,k.y);h=h.Qf();c[b]=h.x1;c[b+1]=h.y1;c[b+2]=h.x2;c[b+3]=h.y2;c[b+4]=h.x3;c[b+5]=h.y3;c[b+6]=h.x4;c[b+7]=h.y4}}d(this.za);this.ve.forEach(function(a){d(a.cb);
a.Va.forEach(function(a){d(a.cb);a.zf.forEach(function(b){d(b)})})})},xC:function(a){this.za=a.za;this.Ub=a.Ub;this.La=a.La;this.jc=a.jc;this.ve=function(a,c,f){function b(b,a){return b.slice(a,a+8)}function e(){var e=new XODText.ob;e.zb=a[h+1];e.bb=n;n++;var g=a[h+1];e.ka=f.slice(g,g+a[h+2]);e.Fm=g;for(var g=a[h],l=0;l<g;++l)e.zf.push(b(c,8*(e.zb+l)));p&&(p.Hm=e);return p=e}function g(b){var n=e(),c=a[h],g=a[h+3],f=a[h+4],l;if(g===f){g=Math.min(b.x1,b.x2);f=Math.max(b.x1,b.x2);l=n.zf[0];b=n.zf[c-
1];b=[l[1],l[3],l[5],l[7],b[1],b[3],b[5],b[7]];l=Math.min.apply(null,b);b=Math.max.apply(null,b);for(var p=0;p<c;++p)for(var k=n.zf[p],m=Math.min(k[0],k[2],k[4]),y=0;8>y;y+=2)k[y]=k[y]===m?g:f}else for(l=Math.min(b.y1,b.y2),b=Math.max(b.y1,b.y2),p=0;p<c;++p)for(k=n.zf[p],m=Math.min(k[1],k[3],k[5]),y=1;8>y;y+=2)k[y]=k[y]===m?b:l;c=n.cb;k=n.zf[0];p=k[2]-k[0];k=k[3]-k[1];0<p?(c[0]=g,c[1]=b,c[2]=f,c[3]=b,c[4]=f,c[5]=l,c[6]=g,c[7]=l):0>p?(c[0]=g,c[1]=l,c[2]=f,c[3]=l,c[4]=f,c[5]=b,c[6]=g,c[7]=b):0<k?(c[0]=
g,c[1]=l,c[2]=g,c[3]=b,c[4]=f,c[5]=b,c[6]=f,c[7]=l):0>k?(c[0]=f,c[1]=b,c[2]=f,c[3]=l,c[4]=g,c[5]=l,c[6]=g,c[7]=b):(c[0]=g,c[1]=b,c[2]=f,c[3]=b,c[4]=f,c[5]=l,c[6]=g,c[7]=l);h+=5;return n}function l(){var n=e();n.cb=b(a,h+3);h+=11;return n}function k(e){var n=new XODText.vb;n.bb=e;var c=0<a[h];if(c){var f=6;e=a[h];var k=n.cb,z=a.slice(h+2,h+4),E=a.slice(h+4,h+6);k[0]=z[0];k[1]=z[1];k[2]=E[0];k[3]=z[1];k[4]=E[0];k[5]=E[1];k[6]=z[0];k[7]=E[1]}else f=10,e=-a[h],n.cb=b(a,h+2);c=c?g:l;k=new XODText.Fa;n.Jc(k);
h+=f;p=null;for(f=0;f<e;++f)n.Va.push(c(k));n.ka=n.Va.map(function(b){return b.ka}).join(" ");n.Fm=n.Va[0]?n.Va[0].Fm:0;m&&(m.Gm=n);return m=n}var h=0,m=null,p=null,n=0;return function(){var b=[],e=a[h];h++;for(var n=0;n<e;++n)b.push(k(n));return b}()}(a.Ta,this.za,this.La)},rp:function(a){for(var d="",c=0,f,b,e;c<a.length;)f=a.charCodeAt(c),9==f?(d+=String.fromCharCode(10),c++):128>f?(d+=String.fromCharCode(f),c++):191<f&&224>f?(b=a.charCodeAt(c+1),d+=String.fromCharCode((f&31)<<6|b&63),c+=2):(b=
a.charCodeAt(c+1),e=a.charCodeAt(c+2),d+=String.fromCharCode((f&15)<<12|(b&63)<<6|e&63),c+=3);return d},ez:function(a,d){for(var c=new XODText.ob,f=R.Td.ud(a.split(",")),b=-1;f.Xf();){var e=f.current.split(":"),g=parseInt(e[0]),l=0;1<e.length&&(l=parseInt(e[1]));b===g&&(++g,--l);for(b=g+l;g<=b;g++)e=d.XI(g),l=e.Xy,1<l.length&&(l=l.charAt(0)),c.Vp(l,e.ic()),this.Ub.add(g),this.za.addRange(e.ic())}return c},parse:function(a,d){var c=0,f=0,b=0;do{for(var e;a.advance();)if(e=a.sa(),"F"===e)a.la();else if("P"===
e)a.la();else if("L"===e){a.la();e=new XODText.vb;e.Nm(c++);0<this.ve.length&&this.ve[this.ve.length-1].iD(e);this.ve.add(e);for(var g=R.Td.ud(a.sd().split(" "));g.Xf();){var l=g.current;if(0<e.Nf()){this.La+=" ";this.Ub.add(-1);b++;var k=Array(8);e.Bn().ic(k);this.za.addRange(k)}l=this.ez(l,d);l.Nm(f++);l.nz(b);e.Bz(l);this.La+=l.ka;b+=l.Mf()}this.La+="\n";this.Ub.add(-2);b++;console.assert(0<e.Nf(),"No words in line");0<e.Nf()&&(k=Array(8),e.Bn().ic(k),this.za.addRange(k))}else console.assert("XML parser has encountered a symbol it can't process.");
a.ua()}while(a.depth)},vH:function(a,d){for(var c=0,f=0,b=0,e=0;e<a.length;++e)for(var g=a[e],l=0;l<g.length;++l)for(var k=g[l],h=0;h<k.length;++h){var m=new XODText.vb;m.Nm(c++);0<this.ve.length&&this.ve[this.ve.length-1].iD(m);this.ve.add(m);for(var p=R.Td.ud(k[h].split(" "));p.Xf();){var n=p.current;if(0<m.Nf()){this.La+=" ";this.Ub.add(-1);b++;var q=Array(8);m.Bn().ic(q);this.za.addRange(q)}n=this.ez(n,d);n.Nm(f++);n.nz(b);m.Bz(n);this.La+=n.ka;b+=n.Mf()}this.La+="\n";this.Ub.add(-2);b++;console.assert(0<
m.Nf(),"No words in line");0<m.Nf()&&(q=Array(8),m.Bn().ic(q),this.za.addRange(q))}this.jc=!0},yw:function(a,d){try{var c=new window.qe(a);console.assert("TextData"===c.sa(),"XML parser has encountered a symbol it can't process.");"TextData"===c.sa()&&(c.la(),this.parse(c,d))}catch(f){console.warn("TextSelection has encountered an error: "+f.message);return}this.jc=!0},ready:function(){return this.jc},An:function(){return this.ve.length?this.ve[0]:new XODText.vb},ge:function(){return this.za},La:"",
Ub:null,za:null,jc:!1};XODText.vb=function(){this.Va=[];this.bb=-1;this.Ob=[];this.cb=Array(8);this.Gm=null};
XODText.vb.prototype={yb:function(){this.bb=this.bc=-1;this.Ob=[]},eb:function(a){return this.bb===a.bb},Nf:function(){return this.Va.length},ee:function(){return this.Va.length?this.Va[0]:new XODText.ob},Bn:function(){return this.Va.length?this.Va[this.Va.length-1]:new XODText.ob},BB:function(a){return 0>a||a>=this.Nf()?new XODText.ob:this.Va[a]},Gh:function(){return null==this.Gm?new XODText.vb:this.Gm},Jc:function(a){a.Cj(this.cb)},Nm:function(a){this.bb=a},Hq:function(){if(this.Ob.length)return this.Ob[0];
var a=new XODText.ja,d=new XODText.ja,c=this.ee(),f=this.Bn(),b=Array(8),e=Array(8);c.Kc(0,b);a.x=(b[0]+b[2]+b[4]+b[6])/4;a.y=(b[1]+b[3]+b[5]+b[7])/4;f.Kc(f.Mf()-1,e);d.x=(e[0]+e[2]+e[4]+e[6])/4;d.y=(e[1]+e[3]+e[5]+e[7])/4;.01>Math.abs(a.x-d.x)&&.01>Math.abs(a.y-d.y)&&this.Ob.add(0);a=Math.atan2(d.y-a.y,d.x-a.x);a*=180/3.1415926;0>a&&(a+=360);this.Ob.add(a);return 0},ka:"",va:null,bb:0,Ob:null,cb:null,Gm:null,iD:function(a){this.Gm=a},Bz:function(a){0<this.Va.length&&this.Va[this.Va.length-1].nM(a);
this.Va.add(a);var d=String.lr(this.ka),c=Array(8);a.ic(c);if(d)for(d=0;8>d;d++)this.cb[d]=c[d];else this.ka+=" ",XODText.fb.Hp(this.cb,c,!1,0);this.ka+=a.ka}};XODText.ob=function(){this.zf=[];this.bb=this.zb=-1;this.cb=Array(8);this.Hm=null};
XODText.ob.prototype={yb:function(){this.bb=this.zb=-1},eb:function(a){return this.bb===a.bb},Mf:function(){return this.zf.length},We:function(){return this.ka.length},Xe:function(){return this.Fm},nz:function(a){this.Fm=a},fe:function(){return null==this.Hm?new XODText.ob:this.Hm},Kc:function(a,d){for(var c=0;8>c;c++)d[c]=this.zf[a][c]},ic:function(a){for(var d=0;8>d;d++)a[d]=this.cb[d]},Jc:function(a){var d=new XODText.Fa;d.Cj(this.cb);a[0]=d.x1;a[1]=d.y1;a[2]=d.x2;a[3]=d.y2},Nm:function(a){this.bb=
this.zb=a},zb:0,ka:"",va:null,bb:0,Fm:0,cb:null,Hm:null,Vp:function(a,d){var c=String.lr(this.ka);this.ka+=a;for(var f=Array(8),b=0;8>b;b++)f[b]=d[b];for(b=0;b<a.length;++b)this.zf.add(f);if(c)for(b=0;8>b;b++)this.cb[b]=f[b];else XODText.fb.Hp(this.cb,f,!1,0)},nM:function(a){this.Hm=a}};XODTextOld.uf=function(){};
XODTextOld.uf.prototype={clear:function(){this.Ta.clear();this.La="";this.Ub.clear();this.za.clear();this.jc=!1},yb:function(){this.Ta=[];this.Ub=[];this.za=[];this.jc=!1},rp:function(a){for(var d="",c=0,f,b,e;c<a.length;)f=a.charCodeAt(c),9==f?(d+=String.fromCharCode(10),c++):128>f?(d+=String.fromCharCode(f),c++):191<f&&224>f?(b=a.charCodeAt(c+1),d+=String.fromCharCode((f&31)<<6|b&63),c+=2):(b=a.charCodeAt(c+1),e=a.charCodeAt(c+2),d+=String.fromCharCode((f&15)<<12|(b&63)<<6|e&63),c+=3);return d},
UJ:function(a){this.Ta=[];this.Ub=[];this.za=[];this.jc=!1;try{var d=new window.qe(a);this.La="";d.la();if(!d.advance())return;var c=d.sd();this.La=c=this.rp(c);this.Ub.clear();d.advance();for(var c=d.sd(),f=c.split(","),b=R.Td.ud(f);b.Xf();){var e=b.current;try{var g=parseInt(e.trim());this.Ub.add(g)}catch(r){}}this.Ta.clear();d.advance();for(var c=d.sd(),f=c.split(","),l=R.Td.ud(f);l.Xf();){e=l.current;try{g=parseFloat(e.trim()),this.Ta.add(g)}catch(r){}}this.za.clear();d.advance();c=d.sd();f=c.split(",");
a=[];for(var d=[],c=0,k=R.Td.ud(f);k.Xf();){e=k.current;switch(e){case "Q":c=1;break;case "R":c=2;break;case "S":c=3;break;default:c=0}if(c)a.add(0),d.add(c);else try{g=parseFloat(e.trim()),a.add(g),d.add(c)}catch(r){return}}for(var c=0,h=a.length,m,p,n,q,k=e=f=0;k<h;){var v=d[k];if(0<v)c=v,++k,3===c&&(f=a[k],e=a[k+1],k+=2);else if(1===c)for(g=0;8>g;++g)this.za.add(a[k++]);else 2===c?(m=a[k++],p=a[k++],n=a[k++],q=a[k++],this.za.add(m),this.za.add(p),this.za.add(n),this.za.add(p),this.za.add(n),this.za.add(q),
this.za.add(m),this.za.add(q)):3===c&&(m=a[k++],p=f,n=a[k++],q=e,this.za.add(m),this.za.add(p),this.za.add(n),this.za.add(p),this.za.add(n),this.za.add(q),this.za.add(m),this.za.add(q))}}catch(r){return}this.La.length&&this.La.length===this.Ub.length&&8*this.La.length===this.za.length&&(this.jc=!0)},ready:function(){return this.jc},An:function(){var a=new XODTextOld.vb;if(!this.Ta.length)return a.ke(this.Ta,-1,this.La,this.za,0),a;a.ke(this.Ta,1,this.La,this.za,1);return a},ge:function(){return this.za},
Ta:null,La:null,Ub:null,za:null,jc:!1};XODTextOld.vb=function(){};
XODTextOld.vb.prototype={yb:function(){this.bc=-1;this.bb=0;this.Ob=[]},ke:function(a,d,c,f,b){this.bc=d;this.bb=b;this.Ob=[];this.Uc=a;this.ka=c;this.va=f},eb:function(a){return this.bc===a.bc},Nf:function(){return Math.abs(this.Uc[this.bc])},Hg:function(){return 0<this.Uc[this.bc]},ee:function(){var a=new XODTextOld.ob;a.ke(this.Uc,this.bc+(this.Hg()?6:10),this.bc,this.ka,this.va,1);return a},BB:function(a){if(0>a||a>=this.Nf()){var d=new XODTextOld.ob;d.ke(this.Uc,-1,-1,this.ka,this.va,0)}else{var c=
this.Hg()?6:10,f=this.Hg()?5:11,d=new XODTextOld.ob;d.ke(this.Uc,this.bc+c+f*a,this.bc,this.ka,this.va,1+a)}return d},Gh:function(){var a=this.bc+parseInt(this.Uc[this.bc+1]);if(a>=this.Uc.length){var d=new XODTextOld.vb;d.ke(this.Uc,-1,this.ka,this.va,0)}else d=new XODTextOld.vb,d.ke(this.Uc,a,this.ka,this.va,this.bb+1);return d},Jc:function(a){if(this.Hg())a.x1=this.Uc[this.bc+2+0],a.y1=this.Uc[this.bc+2+1],a.x2=this.Uc[this.bc+2+2],a.y2=this.Uc[this.bc+2+3];else{for(var d=1.79769E308,c=XODText.qc.bh,
f=1.79769E308,b=XODText.qc.bh,e=0;4>e;++e)var g=this.Uc[this.bc+2+2*e],l=this.Uc[this.bc+2+2*e+1],d=Math.min(d,g),c=Math.max(c,g),f=Math.min(f,l),b=Math.max(b,l);a.x1=d;a.y1=f;a.x2=c;a.y2=b}},Hq:function(){if(this.Ob.length)return this.Ob[0];var a=new XODText.ja,d=new XODText.ja,c=new XODTextOld.ob;c.yb();var f=this.ee(),b=new XODTextOld.ob;b.yb();for(var e=this.ee();!e.eb(c);e=e.fe())b=e;c=Array(8);e=Array(8);f.Kc(0,c);a.x=(c[0]+c[2]+c[4]+c[6])/4;a.y=(c[1]+c[3]+c[5]+c[7])/4;b.Kc(b.Mf()-1,e);d.x=
(e[0]+e[2]+e[4]+e[6])/4;d.y=(e[1]+e[3]+e[5]+e[7])/4;.01>Math.abs(a.x-d.x)&&.01>Math.abs(a.y-d.y)&&this.Ob.add(0);a=Math.atan2(d.y-a.y,d.x-a.x);a*=180/3.1415926;0>a&&(a+=360);this.Ob.add(a);return 0},bc:0,Uc:null,ka:null,va:null,bb:0,Ob:null};XODTextOld.ob=function(){};
XODTextOld.ob.prototype={yb:function(){this.ng=this.zb=-1;this.bb=0},ke:function(a,d,c,f,b,e){this.zb=d;this.ng=c;this.Ta=a;this.ka=f;this.va=b;this.bb=e},eb:function(a){return this.zb===a.zb},Mf:function(){return parseInt(this.Ta[this.zb])},We:function(){return parseInt(this.Ta[this.zb+2])},Xe:function(){return parseInt(this.Ta[this.zb+1])},Hg:function(){return 0<this.Ta[this.ng]},fJ:function(){return Math.abs(this.Ta[this.ng])},fe:function(){var a=this.Hg(),d=a?5:11;this.zb>=this.ng+(a?6:10)+(this.fJ()-
1)*d?(a=new XODTextOld.ob,a.ke(this.Ta,-1,-1,this.ka,this.va,0)):(a=new XODTextOld.ob,a.ke(this.Ta,this.zb+d,this.ng,this.ka,this.va,this.bb+1));return a},MI:function(a){var d=this.Mf();return 0>a||a>=d?-1:parseInt(this.Ta[this.zb+1])+a},Kc:function(a,d){var c=this.MI(a);if(!(0>c)){var f=new XODTextOld.vb;f.ke(this.Ta,this.ng,this.ka,this.va,0);if(f.Hg()){var b=new XODText.Fa;f.Jc(b);f=b.y1<b.y2?b.y1:b.y2;b=b.y1>b.y2?b.y1:b.y2;c*=8;d[0]=this.va[c];d[1]=f;d[2]=this.va[c+2];d[3]=d[1];d[4]=this.va[c+
4];d[5]=b;d[6]=this.va[c+6];d[7]=d[5]}else for(c*=8,f=0;8>f;++f)d[f]=this.va[c+f]}},ic:function(a){var d=new XODTextOld.vb;d.ke(this.Ta,this.ng,this.ka,this.va,0);if(d.Hg()){var c=this.Ta[this.zb+3],f=this.Ta[this.zb+4];if(c>f){var b;b=c;c=f;f=b}b=new XODText.Fa;d.Jc(b);d=b.y1<b.y2?b.y1:b.y2;b=b.y1>b.y2?b.y1:b.y2;a[0]=c;a[1]=d;a[2]=f;a[3]=d;a[4]=f;a[5]=b;a[6]=c;a[7]=b}else for(c=this.zb+3,f=0;8>f;++f)a[f]=this.Ta[c+f]},Jc:function(a){var d=new XODTextOld.vb;d.ke(this.Ta,this.ng,this.ka,this.va,0);
if(d.Hg()){var c=this.Ta[this.zb+3],f=this.Ta[this.zb+4];if(c>f){var b;b=c;c=f;f=b}b=new XODText.Fa;d.Jc(b);d=b.y1<b.y2?b.y1:b.y2;b=b.y1>b.y2?b.y1:b.y2}else{c=1.79769E308;f=XODText.qc.bh;d=1.79769E308;b=XODText.qc.bh;for(var e=this.zb+3,g=0;4>g;++g){var l=this.Ta[e+2*g],k=this.Ta[e+2*g+1],c=Math.min(c,l),f=Math.max(f,l),d=Math.min(d,k);b=Math.max(b,k)}}a[0]=c;a[1]=d;a[2]=f;a[3]=b},zb:0,ng:0,Ta:null,ka:null,va:null,bb:0};XODText.Fa=function(){this.y2=this.x2=this.y1=this.x1=0};
XODText.Fa.prototype={Qa:function(a,d,c,f){this.x1=a;this.y1=d;this.x2=c;this.y2=f},Tf:function(a){this.x1=a.x1;this.y1=a.y1;this.x2=a.x2;this.y2=a.y2},normalize:function(){if(this.x1>this.x2){var a;a=this.x1;this.x1=this.x2;this.x2=a}this.y1>this.y2&&(a=this.y1,this.y1=this.y2,this.y2=a)},set:function(a,d,c,f){this.x1=a;this.y1=d;this.x2=c;this.y2=f},$n:function(a){return this.x2<a.x1||this.x1>a.x2||this.y2<a.y1||this.y1>a.y2},width:function(){var a=this.x2-this.x1;return 0>a?-a:a},height:function(){var a=
this.y2-this.y1;return 0>a?-a:a},Cj:function(a){for(var d=1.79769E308,c=XODText.qc.bh,f=1.79769E308,b=XODText.qc.bh,e=0;4>e;++e)var g=a[2*e],l=a[2*e+1],d=Math.min(d,g),c=Math.max(c,g),f=Math.min(f,l),b=Math.max(b,l);this.x1=d;this.y1=f;this.x2=c;this.y2=b},hr:function(a,d){var c,f,b,e,g,l,k,h;a.x1<a.x2?(c=a.x1,f=a.x2):(c=a.x2,f=a.x1);a.y1<a.y2?(b=a.y1,e=a.y2):(b=a.y2,e=a.y1);d.x1<d.x2?(g=d.x1,l=d.x2):(g=d.x2,l=d.x1);d.y1<d.y2?(k=d.y1,h=d.y2):(k=d.y2,h=d.y1);if(f<g||l<c||e<k||h<b)return this.x1=this.x2=
this.y1=this.y2=0,!1;this.x1=c<g?g:c;this.x2=f<l?f:l;this.y1=b<k?k:b;this.y2=e<h?e:h;return this.x1===this.x2||this.y1===this.y2?(this.x1=this.x2=this.y1=this.y2=0,!1):!0},TJ:function(a){this.lG(a,a)},lG:function(a,d){this.normalize();this.x1-=a;this.x2+=a;this.y1-=d;this.y2+=d},union:function(a){a.x1<this.x1&&(this.x1=a.x1);a.y1<this.y1&&(this.y1=a.y1);a.x2>this.x2&&(this.x2=a.x2);a.y2>this.y2&&(this.y2=a.y2)},contains:function(a,d){if(this.x1<this.x2){if(a<this.x1||a>this.x2)return!1}else if(a<
this.x2||a>this.x1)return!1;if(this.y1<this.y2){if(d<this.y1||d>this.y2)return!1}else if(d<this.y2||d>this.y1)return!1;return!0},x1:0,y1:0,x2:0,y2:0};XODText.ja=function(){this.y=this.x=0};XODText.ja.eb=function(a,d){return a.x===d.x&&a.y===d.y};XODText.ja.jQ=function(a,d){return a!==d};XODText.ja.qA=function(a){var d=new XODText.ja;d.x=a.x/2;d.y=a.y/2;return d};XODText.ja.multiply=function(a,d){var c=new XODText.ja;c.init(a.x*d,a.y*d);return c};
XODText.ja.nj=function(a,d){var c=new XODText.ja;c.init(a.x-d.x,a.y-d.y);return c};XODText.ja.eo=function(a,d){var c=new XODText.ja;c.init(a.x+d.x,a.y+d.y);return c};XODText.ja.distance=function(a,d){var c=a.x-d.x,f=a.y-d.y;return Math.sqrt(c*c+f*f)};
XODText.ja.prototype={x:0,y:0,init:function(a,d){this.x=a;this.y=d},fr:function(a){this.x=a.x;this.y=a.y},add:function(a){this.x+=a.x;this.y+=a.y},sub:function(a){this.x-=a.x;this.y-=a.y},normalize:function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);return a?(this.x/=a,this.y/=a,!0):!1},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Hc:function(a){return this.x*a.x+this.y*a.y}};XODText.qc.Da("XODText.doubleData");XODText.Ss.Da("XODText.Letter");XODText.fw.Da("XODText.nsIDOMTextMetrics");
XODText.Dr.Da("XODText.nsIDOMCanvasGradient");XODText.rm.Da("XODText.SelectionContext");XODText.uf.Da("XODText.SelectionInfo");XODText.vb.Da("XODText.Line");XODText.ob.Da("XODText.Word");XODText.Fa.Da("XODText.SelectionRect");XODText.ja.Da("XODText.SelectionPoint");XODText.qc.ai=1.79769E308;XODText.qc.bh=-1.79769E308;self.$a.Ur("XODText");XODText.wp=function(){};XODText.Qc=function(a,d){this.x=a;this.y=d};XODText.Qc.prototype={x:0,y:0};
XODText.fb=function(){this.Ho=this.Eo=this.Go=this.Do=this.y2=this.x2=this.y1=this.x1=0};
XODText.fb.Hp=function(a,d,c,f){var b=new XODText.ja;b.init(0,0);var e=new XODText.ja;e.init(0,0);var g=new XODText.ja;g.init(0,0);var l=new XODText.ja;l.init(0,0);for(var k=0;4>k;++k){XODText.fb.yB(b,a,k);if(!b.normalize()&&c)return!1;k?2===k?g=XODText.ja.nj(g,b):1===k?l=XODText.ja.eo(l,b):3===k&&(l=XODText.ja.nj(l,b)):g=XODText.ja.eo(g,b);for(var h=Array(8),m=0;1>m;++m){for(var p=0;8>p;++p)h[p]=d[8*m+p];XODText.fb.yB(e,h,k);if(!e.normalize()&&c)return!1;k?2===k?g=XODText.ja.nj(g,e):1===k?l=XODText.ja.eo(l,
e):3===k&&(l=XODText.ja.nj(l,e)):g=XODText.ja.eo(g,e)}if(c&&Math.abs(b.Hc(e))<XODText.fb.yH)return!1}g=XODText.ja.qA(g);l=XODText.ja.qA(l);if(!g.normalize()&&c||!l.normalize()&&c||c&&!XODText.fb.AK(a,d,g,l,f,f/10))return!1;XODText.fb.inflate(a,d,1,g,l);return!0};XODText.fb.yB=function(a,d,c){var f=(c+1)%4;a.x=d[2*f]-d[2*c];a.y=d[2*f+1]-d[2*c+1]};
XODText.fb.AK=function(a,d,c,f,b,e){var g=new XODText.ja;g.init(a[0],a[1]);var l=new XODText.ja;l.init(a[2],a[3]);var k=new XODText.ja;k.init(d[0],d[1]);var h=new XODText.ja;h.init(d[2],d[3]);var m=g.Hc(c),p=l.Hc(c),n=k.Hc(c);c=h.Hc(c);if(m>p)var q=m,m=p,p=q;n>c&&(q=n,n=c,c=q);if(n-p>b||m-c>b)return!1;g.x=a[2];g.y=a[3];l.x=a[4];l.y=a[5];k.x=d[2];k.y=d[3];h.x=d[4];h.y=d[5];m=g.Hc(f);p=l.Hc(f);n=k.Hc(f);c=h.Hc(f);m>p&&(q=m,m=p,p=q);n>c&&(q=n,n=c,c=q);return Math.abs(m-n)>e||Math.abs(p-c)>e?!1:!0};
XODText.fb.inflate=function(a,d,c,f,b){for(var e=XODText.qc.ai,g=XODText.qc.bh,l=XODText.qc.ai,k=XODText.qc.bh,h,m,p=0,n=0,q=0;4>q;++q){var v=new XODText.ja;v.init(a[2*q],a[2*q+1]);h=v.Hc(f);m=v.Hc(b);q?(e>h&&(e=h,p=v.x),g<h&&(g=h),l>m&&(l=m,n=v.y),k<m&&(k=m)):(e=g=h,l=k=m,p=v.x,n=v.y);for(v=0;v<c;++v){var r=new XODText.ja;r.init(d[8*v+2*q],d[8*v+2*q+1]);h=r.Hc(f);m=r.Hc(b);e>h&&(e=h,p=r.x);g<h&&(g=h);l>m&&(l=m,n=r.y);k<m&&(k=m)}}d=new XODText.ja;d.init(p,n);n=d.Hc(b);p=XODText.ja.multiply(f,e-d.Hc(f));
n=XODText.ja.multiply(b,l-n);d.x+=p.x+n.x;d.y+=p.y+n.y;a[0]=d.x;a[1]=d.y;e=g-e;l=k-l;a[2]=a[0]+e*f.x;a[3]=a[1]+e*f.y;a[4]=a[2]+l*b.x;a[5]=a[3]+l*b.y;a[6]=a[0]+l*b.x;a[7]=a[1]+l*b.y};
XODText.fb.prototype={_init:function(a,d,c,f,b,e,g,l){this.x1=a;this.y1=d;this.x2=c;this.y2=f;this.Do=b;this.Go=e;this.Eo=g;this.Ho=l},kz:function(a,d,c,f,b,e,g,l){this.x1=a;this.y1=d;this.x2=c;this.y2=f;this.Do=b;this.Go=e;this.Eo=g;this.Ho=l},Qf:function(){return{x1:this.x1,y1:this.y1,x2:this.x2,y2:this.y2,x3:this.Do,y3:this.Go,x4:this.Eo,y4:this.Ho}},ZI:function(){var a=this.Qf(),d=Math.min(a.x1,a.x2,a.x3,a.x4),c=Math.max(a.x1,a.x2,a.x3,a.x4),f=Math.min(a.y1,a.y2,a.y3,a.y4),b=Math.max(a.y1,a.y2,
a.y3,a.y4);a.x1=d;a.x2=c;a.x3=c;a.x4=d;a.y1=f;a.y2=f;a.y3=b;a.y4=b;return a},x1:0,y1:0,x2:0,y2:0,Do:0,Go:0,Eo:0,Ho:0};XODText.Ia=function(){};XODText.Ia.yj=function(a){var d=Math.cos(a);a=Math.sin(a);1E-7>Math.abs(a)&&(a=0);1E-7>Math.abs(d)&&(d=0);var c=new XODText.Ia;c.Qa(d,-a,a,d,0,0);return c};
XODText.Ia.prototype={m_a:0,m_b:0,m_c:0,m_d:0,m_h:0,m_v:0,il:function(a){this.m_a=a.m_a;this.m_b=a.m_b;this.m_c=a.m_c;this.m_d=a.m_d;this.m_h=a.m_h;this.m_v=a.m_v},Qa:function(a,d,c,f,b,e){this.m_a=a;this.m_b=d;this.m_c=c;this.m_d=f;this.m_h=b;this.m_v=e},set:function(a,d,c,f,b,e){this.m_a=a;this.m_b=d;this.m_c=c;this.m_d=f;this.m_h=b;this.m_v=e},inverse:function(){var a=new XODText.Ia,d=this.m_a*this.m_d-this.m_b*this.m_c;if(!d)return a;a.m_a=this.m_d/d;a.m_c=-this.m_c/d;a.m_h=(this.m_c*this.m_v-
this.m_h*this.m_d)/d;a.m_b=-this.m_b/d;a.m_d=this.m_a/d;a.m_v=-(this.m_a*this.m_v-this.m_h*this.m_b)/d;return a},W:function(a){var d=a.x;a.x=a.x*this.m_a+a.y*this.m_c+this.m_h;a.y=d*this.m_b+a.y*this.m_d+this.m_v;return a},concat:function(a){var d=this.m_a,c=this.m_b,f=this.m_c,b=this.m_d;this.m_a=a.m_a*d+a.m_b*f;this.m_b=a.m_a*c+a.m_b*b;this.m_c=a.m_c*d+a.m_d*f;this.m_d=a.m_c*c+a.m_d*b;this.m_h=a.m_h*d+a.m_v*f+this.m_h;this.m_v=a.m_h*c+a.m_v*b+this.m_v},zA:function(a){return this.m_a==a.m_a&&this.m_b==
a.m_b&&this.m_c==a.m_c&&this.m_d==a.m_d&&this.m_h==a.m_h&&this.m_v==a.m_v},PD:function(a){var d=new XODText.Qc(a[0],a[1]),c=new XODText.Qc(a[2],a[3]),f=new XODText.Qc(a[4],a[5]),b=new XODText.Qc(a[6],a[7]),d=this.W(d),c=this.W(c),f=this.W(f),b=this.W(b);a[0]=d.x;a[1]=d.y;a[2]=c.x;a[3]=c.y;a[4]=f.x;a[5]=f.y;a[6]=b.x;a[7]=b.y},OD:function(a){var d=Array(8);d[0]=a.x1;d[1]=a.y1;d[2]=a.x2;d[3]=a.y1;d[4]=a.x2;d[5]=a.y2;d[6]=a.x1;d[7]=a.y2;this.PD(d);a.Cj(d)}};XODText.Bm=function(){};
XODText.Bm.WF=function(a,d){return a.oc<d.oc||a.oc===d.oc&&a._position<d._position||a.oc===d.oc&&a._position===d._position&&a.Ci<d.Ci?-1:a.oc===d.oc&&a._position===d._position&&a.Ci===d.Ci?0:1};
XODText.Bm.prototype={_init:function(){this.Dp=[]},_add:function(a){this.Dp.add(a)},_clear:function(){this.Dp.clear()},XF:function(a,d){d.clear();for(var c=[],f=R.Td.ud(this.Dp);f.Xf();){var b=f.current;c.add(b)}c.sort(XODText.Bm.WF);for(var f="",e,g=[],l=[],k=XODText.wp.Vx,h=0;h<c.length;++h)if(b=c[h],!(0>b.oc||b.oc>=a.length||0>b._position||0>=b.Ci)){if(-1!==b.oc){g=a[b.oc].text;if(!g.ready())return!1;f=g.La;e=g.Ub;g=g.ge();if(!f.length||f.length!==e.length||8*f.length!==g.length)continue;for(var k=
XODText.wp.Vx,m=R.Td.ud(e);m.Xf();){var p=m.current;p>k&&(k=p)}l.clear();for(var n=0;n<k+1;++n)l.add(-1);for(n=0;n<e.length;++n)m=e[n],0<=m&&(l[m]=n)}e=Array(8);for(m=b._position;m<b._position+b.Ci&&!(m>k);++m)if(p=l[m],!(0>p)){for(n=0;8>n;++n)e[n]=g[8*p+n];var q=!1;if(1<=d.length&&(n=d[d.length-1],n.oc===b.oc)){var v=e[0]-e[2],r=e[1]-e[3];XODText.fb.Hp(n.Re,e,!0,Math.sqrt(v*v+r*r))&&(q=f.charAt(p),n.bu.$e(n.bu.length,q),q=!0)}q||(q=f.charAt(p),p=new XODText.Kt,p.Dm(b.oc,q,e),d.add(p))}}return 0<
d.length},Dp:null};XODText.Am=function(){};XODText.Am.prototype={Dm:function(a,d,c){this.oc=a;this._position=d;this.Ci=c},oc:0,_position:0,Ci:0};XODText.Kt=function(){};XODText.Kt.prototype={Dm:function(a,d,c){this.oc=a;this.bu=d;this.Re=Array(8);for(a=0;8>a;++a)this.Re[a]=c[a]},oc:0,bu:null,Re:null};XODText.Np=function(){this.pg=new XODText.Fa;this.Tt=new XODText.Fa};XODText.Np.prototype={pg:null,Tt:null,Fp:null,Gp:null};XODText.wb=function(){};XODText.Bb=function(){};
XODText.Dd=function(){this.Xt={};this.og=0;this.Ra=this.uk=this.Cp=this.Sc=-1;this.St=this.ph=this.Ep=this.Di=!1;this.ue=[];this.ac=[];this.Pe=[];this.Xa=this.Ga="";this.Tc=[];this.xf=[];this.vk=[];this.Qt=[];this.Ca={};this.Ca[" "]=null;this.Ca["\t"]=null;this.Ca["\n"]=null;this.Ca["."]=null;this.Ca[","]=null;this.Ca["?"]=null;this.Ca[":"]=null;this.Ca[";"]=null;this.Ca['"']=null;this.Ca["'"]=null;this.Ca["<"]=null;this.Ca[">"]=null;this.Ca["`"]=null;this.Ca["~"]=null;this.Ca["!"]=null;this.Ca["@"]=
null;this.Ca["#"]=null;this.Ca.$=null;this.Ca["%"]=null;this.Ca["^"]=null;this.Ca["&"]=null;this.Ca["("]=null;this.Ca[")"]=null;this.Ca["["]=null;this.Ca["]"]=null;this.Ca["{"]=null;this.Ca["}"]=null;this.Ca["|"]=null;this.Ca._=null;this.Ca["\\"]=null;this.Ca["-"]=null;this.Ca["="]=null;this.Ca["+"]=null;this.Ca["/"]=null;this.Ca["*"]=null};
XODText.Dd.Gf=function(a,d){for(var c=0,f=a.length-1,b=Math.floor((c+f)/2);a[b]!==d&&c<f;)d<a[b]?f=b-1:d>a[b]&&(c=b+1),b=Math.floor((c+f)/2);return a[b]!==d?!1:!0};
XODText.Dd.prototype={aH:function(a,d,c,f,b){this.Ep=!1;this.pd=a.pb();if(0>this.pd.length||0>d.length||0<=f&&f>b)return!1;this.og=c;if(!this.mz(d))return!1;a=f;d=this.pd.length;if(0>a)if(0>b)a=0,b=d-1;else return!1;else if(b<a)return!1;console.assert(0<=a&&a<=b);if(a>=d||b>=d)return!1;this.Cp=a;this.uk=b;this.Sc=this.Uf()?this.uk:this.Cp;++this.uk;this.Xa=this.Ga="";this.xf.clear();this.vk.clear();this.ue.clear();this.ac.clear();this.Ep=!0;this.Ra=-1;this.Di=!1;return!0},run:function(a){var d=-1,
c=-1,f=-1,b="",e="",g=new XODText.Bm;g._init();g._clear();if(!this.Ep||0>=this.Qe.length)return new XODText.jg(XODText.Bb.Si,f,b,e,d,c);for(var l="",k=-1,h=-1;;){if(this.Sc===this.uk)return new XODText.jg(XODText.Bb.Si,f,b,e,d,c);var m=!0;if(!this.Ga.length||this.Ra===this.Ga.length){if(!this.Uf()){if(this.Ra===this.Ga.length){if(this.TB()&&!this.Di)return this.Di=!0,f=this.Sc,new XODText.jg(XODText.Bb.yq,f,b,e,d,c);++this.Sc}if(this.Sc===this.uk)return new XODText.jg(XODText.Bb.Si,f,b,e,d,c)}else if(this.Ra===
this.Ga.length){if(this.TB()&&!this.Di)return this.Di=!0,f=this.Sc,new XODText.jg(XODText.Bb.yq,f,b,e,d,c);if(this.Sc===this.Cp)return new XODText.jg(XODText.Bb.Si,f,b,e,d,c);--this.Sc}(m=this.Et(this.Sc))?this.Uf()?(this.Ra=this.Ga.length,--this.Ra):this.Ra=0:this.Ra=0}this.Di=!1;m&&(console.assert(this.Ra!==this.Ga.length),c=this.eG(l,k,h,e,g),l=c.It,k=c.qp,h=c.pp,e=c.wt,d=c.Mp,c=c.Lp);if(m&&k!==this.Ga.length){console.assert(0<l.length);b=l;f=this.Sc;this.Uf()?(this.Ra=k)?--this.Ra:this.Ra=this.Ga.length:
this.Ra=h;if(this.Pn())for(a.clear(),l=[],g.XF(this.pd,l),g=0;g<l.length;++g)k=new XODText.fb,h=l[g],k.x1=h.Re[0],k.y1=h.Re[1],k.x2=h.Re[2],k.y2=h.Re[3],k.Do=h.Re[4],k.Go=h.Re[5],k.Eo=h.Re[6],k.Ho=h.Re[7],a.add(k);return new XODText.jg(XODText.Bb.kn,f,b,e,d,c)}this.Ra=this.Ga.length}},mz:function(a){if(0>=a.length)return!1;for(var d="",c=a.length,f=!1,b=0;b<c;++b){var e=this.Ip(a.charAt(b));" "===e?f||(d+=e,f=!0):(f=!1,d+=e)}this.Wy=d;this.Pe.clear();a="";for(b=0;b<d.length;++b)e=d.charAt(b),this.Ai(e)?
this.Pe.add(a.length-1):a+=e;this.Qe=a;this.ir()||(this.Qe=this.Qe.toLowerCase());b=this.ph;this.Qe.length?this.ph=!1:(this.Qe=d,this.Pe.clear(),this.ph=!0);this.ph!==b&&0<this.Ga.length&&!this.Et(this.Sc)&&(this.Ra=this.Ga.length);return!0},setMode:function(a){var d=this.Pn(),c=this.ir(),f=this.Uf();this.og=a;var b=this.Pn();a=this.ir();var e=this.Uf(),g=!1;c!==a&&this.mz(this.Wy);if(!(0>=this.Ga.length)){d!==b&&b&&!g&&(console.assert(0<=this.Ra&&this.Ra<=this.Ga.length),this.Et(this.Sc),g=!0);if(c!==
a&&!g){console.assert(this.Tc.length===this.Ga.length);console.assert(this.Tc.length<=this.Xa.length);d=this.Ga.length;c="";for(b=0;b<d;++b)console.assert(0<=this.Tc[b]&&this.Tc[b]<this.Xa.length),c+=this.Ip(this.Xa.charAt(this.Tc[b]));this.Ga=c;a||(this.Ga=this.Ga.toLowerCase())}if(f!==e)if(console.assert(0<=this.Ra&&this.Ra<=this.Ga.length),this.Ra!==this.Ga.length)if(e)for(b=0;2>b;++b)this.Ra&&--this.Ra;else for(b=0;2>b;++b)this.Ra!==this.Ga.length&&++this.Ra;else e?(this.Ra=this.Ga.length,--this.Ra):
this.Ra=0}},Pn:function(){return 0<(this.og&XODText.wb.vA)},$J:function(){return 0<(this.og&XODText.wb.tA)},ir:function(){return 0<(this.og&XODText.wb.uA)},hK:function(){return 0<(this.og&XODText.wb.xA)},Uf:function(){return 0<(this.og&XODText.wb.Vu)},TB:function(){return 0<(this.og&XODText.wb.wA)},eG:function(a,d,c,f,b){var e=this.QF(-1,-1);d=e.qp;c=e.pp;var g=e.Mp,l=e.Lp;if(d===this.Ga.length)return e;var k,h;a=this.aG(0,0,d,c);k=a.jz;h=a.Dy;f="";for(var m=k;m<h;++m)f+=this.Xa.charAt(m);a=f;f="";
if(this.$J()){var p=k,n=h,g=this.Xa.length,q=l=0,v=!1,r=m=!1;if(p)for(--p;p;){var u=this.Xa.charAt(p);v&&this.mg(u)&&q++;v||!r||this.mg(u)||(v=m=!0);if(30<=l||0<q){p++;break}if(this.xf.length>p&&-2===this.xf[p]){var x=this.Xa.charAt(p+1);if("A"<=x&&"Z">=x){++p;m=!0;break}}--p;l++;r=r||this.mg(u)||"\n"===u}m||(p=k);v=n;for(q=0;n!==g;){this.mg(this.Xa.charAt(n))&&(v=n-1,q++);if(10<=q||70<=l){n===g-1||this.mg(this.Xa.charAt(n+1))||(n=v);break}n++}n===g&&--n;for(m=p;m<=n;++m)g=this.Xa.charAt(m),f="\n"===
g?f+" ":f+g;g=k-p;l=h-p}if(this.Pn()){console.assert(this.Xa.length===this.xf.length);console.assert(h>=k);q=h-k;v=[];for(m=k;m<h;++m)v.$e(v.length,this.xf[m]);for(k=0;k<q&&0>v[k];)++k;for(m=h=k;k<q;)if(p=v[k],k===q-1)r=this.Sc,p=v[m],n=v[k],0>n&&(n=v[h]),console.assert(0<=r&&0<=p&&n>=p),u=new XODText.Am,u.Dm(r,p,n-p+1),b._add(u),++k;else if(-1===p)console.assert(0<=v[h]),++k;else if(-2===p){console.assert(0<=v[h]);r=this.Sc;p=v[m];n=v[h];console.assert(0<=r&&0<=p&&n>=p);u=new XODText.Am;u.Dm(r,p,
n-p+1);b._add(u);for(++k;k<q&&0>v[k];)++k;m=h=k}else 0<=p&&(console.assert(0<=v[h]),h===k||this.ZF(v,h,k)?(h=k,++k):(r=this.Sc,p=v[m],n=v[h],console.assert(0<=r&&0<=p&&n>=p),u=new XODText.Am,u.Dm(r,p,n-p+1),b._add(u),m=h=k))}e.It=a;e.qp=d;e.pp=c;e.wt=f;e.Mp=g;e.Lp=l;return e},Pt:null,xk:null,cG:function(a){return a.replace(RegExp("[-[\\]{}()*+?.,\\\\^$|#\\s]","g"),"\\$&")},yG:function(a,d,c){Object.or(this.Xt,a)?this.xk=this.Xt[a]:(this.xk=new RegExp(this.cG(a),"g"),this.Xt[a]=this.xk);this.xk.lastIndex=
c;this.Pt=this.xk.exec(d);return null!=this.Pt?this.xk.lastIndex-this.Pt[0].length:-1},QF:function(a,d){var c,f;c=this.Ra;for(f=this.Ga.length;;){var b=!1;console.assert(0<this.Qe.length);if(this.Uf()){if(c===f){a=d=f;break}a=this.Ga.lastIndexOf(this.Qe,c)}else a=this.yG(this.Qe,this.Ga,c);if(0>a){a=d=f;break}d=a+this.Qe.length;this.Uf()?(c=a,0!==c?--c:c=f):c=d;if(!this.ph)if(0<this.Pe.length)if(this.ue.length||this.ac.length){for(var e=this.ac.length,g=this.ue.length,l=a-0,k=R.Td.ud(this.Pe);k.Xf();){var h=
k.current,h=l+h;if(!XODText.Dd.Gf(this.ue,h)&&!XODText.Dd.Gf(this.ac,h)){b=!0;break}}if(b)continue;for(var k=a-0,m=d-0-1,p=h=this.Ot(this.ac,k);p!==e;++p){var n=this.ac[p];if(n>=k&&n<m&&(h=n-l,!XODText.Dd.Gf(this.Pe,h))){b=!0;break}if(n>=m)break}if(b)continue;for(p=h=this.Ot(this.ue,k);p!==g;++p){n=this.ue[p];if(n>=k&&n<m&&(h=n-l,!XODText.Dd.Gf(this.Pe,h))){b=!0;break}if(n>=m)break}if(b)continue}else continue;else if(this.ac.length)for(k=a-0,m=d-0-1,e=this.ac.length,p=h=this.Ot(this.ac,k);p!==e&&
(n=this.ac[p],n>=k&&n<m||!(n>=m));++p);if(this.hK()){if(0!==a&&(n=a-0-1,!(XODText.Dd.Gf(this.ue,n)||XODText.Dd.Gf(this.ac,n)||this.mg(this.Ga.charAt(a))||this.mg(this.Ga.charAt(a-1)))))continue;if(d!==f&&(n=d-0-1,!(XODText.Dd.Gf(this.ue,n)||XODText.Dd.Gf(this.ac,n)||this.mg(this.Ga.charAt(d-1))||this.mg(this.Ga.charAt(d)))))continue}break}return new XODText.$s("",a,d,"",-1,-1)},mg:function(a){return Object.or(this.Ca,a)?!0:this.Ap(a)||this.oG(a)},Ot:function(a,d){var c=a.indexOf(d);0>c&&(c=~c);return c},
Ip:function(a){a=a.charCodeAt(0);if(39===a||8217===a)a=39;else if(34===a||8220===a||8221===a)a=34;return String.fromCharCode(a)},Ai:function(a){var d=a;a=a.charCodeAt(0);return"-"===d||8208===a||8209===a||65293===a||173===a},nG:function(a){var d=a;a=a.charCodeAt(0);return","===d||65292===a||65294===a},oG:function(a){var d=a;a=a.charCodeAt(0);return 32<a&&48>a||57<a&&65>a||90<a&&97>a||122<a&&127>a||this.nG(d)||this.Ai(d)||173===a||1642<=a&&(1645>=a||8210<=a&&8231>=a||8240<=a&&8269>=a||8592<=a&&9215>=
a||12441<=a&&12444>=a||65281<=a&&65291>=a||65295===a||65306<=a&&65312>=a||65344===a||65371<=a&&65374>=a)?!0:!1},Ap:function(a){a=a.charCodeAt(0);return 32===a||1<=a&&31>=a||160===a||8192<=a&&(8207>=a||8232<=a&&8239>=a||8298<=a&&8303>=a)?!0:!1},Et:function(a){if(0>a||a>=this.pd.length)return!1;this.Xa=this.Ga="";this.Tc.clear();this.ue.clear();this.ac.clear();var d=this.Pn(),c=[],f=[];if(d){var b=this.pd[a].text;if(!b.ready())return!1;a=b.La;c=b.Ub;f=b.ge();this.xf.clear();this.St&&this.Qt.clear()}else{b=
this.pd[a].text;if(!b.ready())return!1;a=b.La}if(0>=a.length)return!1;for(var b="",e=a.length,g=-1,l=0;l<e;++l){var k=a.charAt(l),h=-1;d&&(h=c[l]);if("\n"===k){for(k=l-1;0<=k&&" "===a.charAt(k);)--k;if(!(0>k||this.Ai(a.charAt(k)))){for(k=l+1;k<e&&" "===a.charAt(k);)++k;k>=e||this.Ai(a.charAt(k))||(b+=" ",this.Tc.add(this.Xa.length),this.Xa+=" ",d&&(g=g<h?h:g,this.vt(h,f,8*l)))}}else if(" "===k)l<e-1&&("\n"===a.charAt(l+1)||" "===a.charAt(l+1))||(b+=k,this.Tc.add(this.Xa.length),this.Xa+=k,d&&(g=g<
h?h:g,this.vt(h,f,8*l)));else{if(this.Ai(k))if(this.ph)b+=this.Ip(k),this.Tc.add(this.Xa.length);else{var m=b.length-1;l<e-1&&"\n"===a.charAt(l+1)?this.ue.add(m):this.ac.length&&m===this.ac[this.ac.length-1]||this.ac.add(m)}else b+=this.Ip(k),this.Tc.add(this.Xa.length);this.Xa+=k;d&&(g=g<h?h:g,this.vt(h,f,8*l))}}console.assert(b.length===this.Tc.length);this.Ga=b;if(d){e=this.xf.length;this.vk.clear();for(l=0;l<g+1;++l)this.vk.add(!0);for(l=0;l<e;++l)h=this.xf[l],0<=h&&(this.vk[h]=!1)}this.ir()||
(this.Ga=this.Ga.toLowerCase());this.ue.sort();this.ac.sort();this.Pe.sort();return!0},vt:function(a,d,c){this.xf.add(a);if(this.St)for(a=c;a<c+8;++a)this.Qt.add(d[a])},aG:function(a,d,c,f){c?(a=this.Tc[c-1],++a):a=0;f<this.Tc.length?d=this.Tc[f]:(d=this.Tc[f-1],d===this.Xa.length-1&&++d);console.assert(a>=c&&d>=f&&d>=a);if(!this.ph){if(!XODText.Dd.Gf(this.Pe,this.Qe.length-1))for(;0<d&&this.Ai(this.Xa.charAt(d-1));)--d;c=this.Xa.length;if(!XODText.Dd.Gf(this.Pe,-1))for(;a<c-1&&this.Ai(this.Xa.charAt(a));)++a;
d<a&&(console.assert(!1),d=a)}return new XODText.Zs(a,d)},ZF:function(a,d,c){console.assert(0<=d&&d<=c&&d<a.length&&c<a.length);d=a[d];a=a[c];if(d===a||d+1===a)return!0;for(c=!0;0<=d&&d<a-1;)if(!this.vk[++d]){c=!1;break}return c},Ep:!1,pd:null,og:0,Ca:null,Sc:0,Cp:0,uk:0,Ra:0,Di:!1,Xa:null,Ga:null,Tc:null,xf:null,vk:null,Qe:null,ph:!1,Wy:null,ue:null,ac:null,Pe:null,Qt:null,St:!1};
XODText.bp=function(a){this.ka="";this.yf=-1;this.va=[];this.Sa="";this.pd=a.pb();this.Va=new XODText.uf;this.Va.yb();this.Ed=[]};
XODText.bp.prototype={ge:function(){for(var a=this.va.length/8,d=[],c=0;c<a;++c){var f=new XODText.fb,b=8*c;f.kz(this.va[b],this.va[b+1],this.va[b+2],this.va[b+3],this.va[b+4],this.va[b+5],this.va[b+6],this.va[b+7]);d.add(f)}return d},Ap:function(a){a=a.charCodeAt(0);return 32===a||1<=a&&31>=a||160===a||8192<=a&&(8207>=a||8232<=a&&8239>=a||8298<=a&&8303>=a)?!0:!1},AG:function(a,d){this.va.clear();this.Sa="";var c=this.pd.length;if(0>a||a>=c)return!1;d.normalize();if(0>=this.yf||this.yf!==a){c=this.pd[a].text;
if(!c.ready())return!1;this.Va=c;this.ka=this.Va.La;this.Bt();this.At();this.yf=a}var c=new XODText.Fa,f=Array(8),b,e,g,l=new XODText.vb;l.yb();var k,h=new XODText.ob;h.yb();var m=[],p=!1;for(g=this.Va.An();!g.eb(l);g=g.Gh())if(g.Jc(c),c.normalize(),!d.$n(c)){for(k=g.ee();!k.eb(h);k=k.fe())if(k.ic(f),c.Cj(f),!d.$n(c)){b=k.We();var n=k.Xe();e=m.length;if(0<b&&0<e){p&&("\n"!==m[0]&&(this.Ap(m[e-1])?m[e-1]="\n":m.add("\n")),p=!1);for(e=0;e<m.length;++e)this.Sa+=m[e];m.clear()}for(e=0;e<=b;++e)n+e<this.ka.length&&
(e<b?this.Sa+=this.ka.charAt(n+e):m.add(this.ka.charAt(n+e)));0<b&&(n=c.x2-c.x1,e=c.y2-c.y1,this.Cf(f,Math.sqrt(n*n+e*e)/b*3))}p=!0}return 0<this.va.length},Bt:function(){var a,d=new XODText.vb;d.yb();var c=Array(8),f=Array(8),b=.1,e=-100;for(a=this.Va.An();!a.eb(d);a=a.Gh()){var g=new XODText.ja,l=new XODText.ja,k=new XODText.ob;k.yb();var h=a.ee(),m=new XODText.ob;m.yb();for(var p=a.ee();!p.eb(k);p=p.fe())m=p;h.Kc(0,c);g.x=(c[0]+c[2]+c[4]+c[6])/4;g.y=(c[1]+c[3]+c[5]+c[7])/4;m.Kc(m.Mf()-1,f);l.x=
(f[0]+f[2]+f[4]+f[6])/4;l.y=(f[1]+f[3]+f[5]+f[7])/4;k=XODText.ja.distance(g,l);k>b&&(e=Math.atan2(l.y-g.y,l.x-g.x),e*=180/3.1415926,e=Math.round(e),0>e&&(e+=360),b=k)}this.Ob=e;this.Rt=2>Math.abs(this.Ob)||2>Math.abs(this.Ob-180)},SL:function(a,d){this.va.clear();this.Sa="";var c=this.pd.length;if(0>a||a>=c)return!1;d.normalize();if(0>=this.yf||this.yf!==a){c=this.pd[a].text;if(!c.ready())return!1;this.Va=c;this.ka=this.Va.La;this.Bt();this.At();this.yf=a}var c=new XODText.Fa,f=Array(8),b,e,g,l=new XODText.vb;
l.yb();var k,h=new XODText.ob;h.yb();var m=[],p=!1;for(g=this.Va.An();!g.eb(l);g=g.Gh())if(g.Jc(c),c.normalize(),!d.$n(c)){for(k=g.ee();!k.eb(h);k=k.fe())if(k.ic(f),c.Cj(f),!d.$n(c)){b=k.We();var n=k.Xe(),q=m.length;if(0<b&&0<q){p&&("\n"!==m[0]&&(this.Ap(m[q-1])?m[q-1]="\n":m.add("\n")),p=!1);for(q=0;q<m.length;++q)this.Sa+=m[q];m.clear()}var q=0,v=Array(8),r=Array(8),u=!1,x=!1;for(e=0;e<b;++e)if(n+e<this.ka.length){var z=Array(8),E=new XODText.Fa;k.Kc(e,z);E.Cj(z);d.$n(E)?0===q?u=!0:x=!0:(q++,1===
q&&u&&k.Kc(e,v),k.Kc(e,r),e<b?this.Sa+=this.ka.charAt(n+e):m.add(this.ka.charAt(n+e)))}"\n"!=m[b]&&m.push(" ");0<q&&(u&&this.wi(f,v,!0),x&&this.wi(f,r,!1),c.Cj(f),b=c.x2-c.x1,n=c.y2-c.y1,this.Cf(f,Math.sqrt(b*b+n*n)/q*3))}p=!0}return 0<this.va.length},RL:function(a,d){this.va.clear();this.Sa="";var c=this.pd.length;if(0>a||a>=c)return!1;if(0>=this.yf||this.yf!==a){c=this.pd[a].text;if(null==c||!c.ready())return!1;this.Va=c;this.ka=this.Va.La;this.Bt();this.At();this.yf=a}var f,b,e,g,c=Array(8),l=
Array(8),k=new XODText.Fa,h=new XODText.vb,m=new XODText.vb;h.yb();m.yb();var p=this.Rt,n=this.Rt,q,v=new XODText.vb;v.yb();var r=new XODText.ob;r.yb();var u=new XODText.ja;u.init(d.x1,d.y1);var x=new XODText.ja;x.init(d.x2,d.y2);m=this.dG(u,x,h,m);h=m.Jy;m=m.Uy;if(h.eb(v)||m.eb(v))return!1;x=new XODText.ob;u=new XODText.ob;x.yb();u.yb();b=f=XODText.qc.ai;for(var z=h.ee();!z.eb(r);z=z.fe())z.Jc(c),p?(g=d.x1,q=d.y1):(q=c[0],c[0]=c[1],c[1]=q,q=c[2],c[2]=c[3],c[3]=q,g=d.y1,q=d.x1),e=(c[3]+c[1])/2,c[2]<=
g?(g=c[2]-g,e-=q,e=g*g+e*e):c[0]>=g?(g=c[0]-g,e-=q,e=g*g+e*e):(e-=q,e*=e),e<f&&(f=e,x=z);for(z=m.ee();!z.eb(r);z=z.fe())z.Jc(c),n?(f=d.x2,q=d.y2):(q=c[0],c[0]=c[1],c[1]=q,q=c[2],c[2]=c[3],c[3]=q,f=d.y2,q=d.x2),e=(c[3]+c[1])/2,c[2]<=f?(g=c[2]-f,e-=q,e=g*g+e*e):c[0]>=f?(g=c[0]-f,e-=q,e=g*g+e*e):(e-=q,e*=e),e<b&&(b=e,u=z);if(x.eb(r)||u.eb(r))return!1;q=z=0;var E;b=f=XODText.qc.ai;var B=x.Mf();for(E=0;E<B;++E)x.Kc(E,c),g=(c[0]+c[2]+c[4]+c[6])/4,e=(c[1]+c[3]+c[5]+c[7])/4,g-=d.x1,e-=d.y1,e=g*g+e*e,e<f&&
(f=e,z=E);B=u.Mf();for(E=0;E<B;++E)u.Kc(E,c),g=(c[0]+c[2]+c[4]+c[6])/4,e=(c[1]+c[3]+c[5]+c[7])/4,g-=d.x2,e-=d.y2,e=g*g+e*e,e<b&&(b=e,q=E);e=h.bb;g=m.bb;b=x.bb;f=u.bb;if(e===g){b>f&&(e=x,x=u,u=e,e=z,z=q,q=e);h.Jc(k);if(b===f&&z===q&&(e=new XODText.Fa,!e.hr(k,d)))return!1;b===f?(q<z&&(e=z,z=q,q=e),e=q):e=x.We();x.Kc(z,c);console.assert(p===n);p=x.Xe();console.assert(z<=e);for(n=z;n<=e;++n)p+n<this.ka.length&&(this.Sa+=this.ka.charAt(p+n));0<=e&&(x.ic(l),p=l[0]-l[2],n=l[1]-l[3],p=Math.sqrt(p*p+n*n),
p=p/(e+1)*3,this.wi(l,c,!0),b===f&&(k=Array(8),u.Kc(q,k),this.wi(l,k,!1)),this.Cf(l,p));for(z=x=x.fe();!z.eb(r)&&z.bb<u.bb;z=z.fe()){e=z.We();p=z.Xe();for(n=0;n<=e;++n)p+n<this.ka.length&&(this.Sa+=this.ka.charAt(p+n));0<e&&(z.ic(l),p=l[0]-l[2],n=l[1]-l[3],p=Math.sqrt(p*p+n*n),p=p/e*3,this.Cf(l,p))}u.Kc(q,c);e=u.We();if(b!==f){p=u.Xe();console.assert(q<=e);for(n=0;n<=q;++n)p+n<this.ka.length&&(this.Sa+=this.ka.charAt(p+n));0<e&&(u.ic(l),p=l[0]-l[2],n=l[1]-l[3],p=Math.sqrt(p*p+n*n),p=p/e*3,this.wi(l,
c,!1),this.Cf(l,p))}}else{e>g&&(p=h,h=m,m=p,e=x,x=u,u=e,e=z,z=q,q=e);h.Jc(k);e=new XODText.Fa;e.hr(k,d)||(x=h.ee(),z=0);x.Kc(z,c);e=x.We();p=x.Xe();console.assert(z<=e);for(n=z;n<=e;++n)p+n<this.ka.length&&(this.Sa+=this.ka.charAt(p+n));0<e&&(x.ic(l),p=l[0]-l[2],n=l[1]-l[3],p=Math.sqrt(p*p+n*n),p=p/e*3,this.wi(l,c,!0),this.Cf(l,p));for(z=x=x.fe();!z.eb(r);z=z.fe()){e=z.We();p=z.Xe();for(n=0;n<=e;++n)p+n<this.ka.length&&(this.Sa+=this.ka.charAt(p+n));0<e&&(z.ic(l),p=l[0]-l[2],n=l[1]-l[3],p=Math.sqrt(p*
p+n*n),p=p/e*3,this.Cf(l,p))}for(h=h.Gh();!h.eb(m)&&!h.eb(v);h=h.Gh())if(this.$t(h.Hq()))for(h.Jc(k),z=h.ee();!z.eb(r);z=z.fe()){e=z.We();p=z.Xe();for(n=0;n<=e;++n)p+n<this.ka.length&&(this.Sa+=this.ka.charAt(p+n));0<e&&(z.ic(l),p=l[0]-l[2],n=l[1]-l[3],p=Math.sqrt(p*p+n*n),p=p/e*3,this.Cf(l,p))}m.Jc(k);e=new XODText.Fa;e.hr(k,d)||(u=m.BB(m.Nf()-1),q=u.Mf()-1);for(z=m.ee();!z.eb(r)&&!z.eb(u);z=z.fe()){e=z.We();p=z.Xe();for(n=0;n<=e;++n)p+n<this.ka.length&&(this.Sa+=this.ka.charAt(p+n));0<e&&(z.ic(l),
p=l[0]-l[2],n=l[1]-l[3],p=Math.sqrt(p*p+n*n),p=p/e*3,this.Cf(l,p))}u.Kc(q,c);e=u.We();p=u.Xe();console.assert(q<=e);for(n=0;n<=q;++n)p+n<this.ka.length&&(this.Sa+=this.ka.charAt(p+n));0<e&&(u.ic(l),p=l[0]-l[2],n=l[1]-l[3],p=Math.sqrt(p*p+n*n),p=p/e*3,this.wi(l,c,!1),this.Cf(l,p))}return 0<this.va.length},Cf:function(a,d){var c=this.va.length/8;if(c){for(var f=Array(8),c=8*(c-1),b=0;8>b;++b)f[b]=this.va[c+b];if(XODText.fb.Hp(f,a,!0,d))for(b=0;8>b;++b)this.va[c+b]=f[b];else for(b=0;8>b;++b)this.va.add(a[b])}else for(var b=
0;8>b;++b)this.va.add(a[b])},wi:function(a,d,c){var f=new XODText.ja;f.init(a[0],a[1]);var b=new XODText.ja;b.init(a[2],a[3]);var e=XODText.ja.nj(b,f);e.normalize()&&(c?(b=new XODText.ja,b.init(d[0],d[1]),d=XODText.ja.nj(b,f),d=d.Hc(e),e=XODText.ja.multiply(e,d),a[0]+=e.x,a[1]+=e.y,a[6]+=e.x,a[7]+=e.y):(f=new XODText.ja,f.init(d[2],d[3]),d=XODText.ja.nj(f,b),d=d.Hc(e),e=XODText.ja.multiply(e,d),a[2]+=e.x,a[3]+=e.y,a[4]+=e.x,a[5]+=e.y))},Oy:function(a){var d=XODText.Ia.yj(0),c=XODText.Ia.yj(1.570796325),
f=XODText.Ia.yj(3.14159265),b=XODText.Ia.yj(3.14159265*1.5);switch(parseInt(a/90+.1)){case 0:return d;case 1:return c;case 2:return f;case 3:return b;case 4:return d;default:return d}},$t:function(){return!0},qz:function(a,d){var c=this.Oy(d),f=new XODText.Qc(a.x1,a.y1),f=c.W(f);a.x1=f.x;a.y1=f.y;f=new XODText.Qc(a.x2,a.y2);f=c.W(f);a.x2=f.x;a.y2=f.y;a.normalize()},At:function(){this.Ed.clear();var a,d=new XODText.vb;d.yb();var c=new XODText.Fa,f=new XODText.Np,b=!1;for(a=this.Va.An();!a.eb(d);a=
a.Gh())if(this.$t(a.Hq())){a.Jc(c);c.normalize();var e=new XODText.Fa;e.Tf(c);this.qz(c,this.Ob);b?(this.Ed.add(f),f=new XODText.Np,f.Tt.Tf(e),f.pg.Tf(c),f.Fp=a,f.Gp=a):(f.Tt.Tf(e),f.pg.Tf(c),f.Fp=a,f.Gp=a,b=!0)}b&&this.Ed.add(f)},Gy:function(a,d){for(var c=XODText.qc.ai,f=new XODText.Fa,b=a.Fp,e=a.Fp;;e=e.Gh()){if(!this.$t(e.Hq()))if(e.eb(a.Gp))break;else continue;e.Jc(f);this.qz(f,this.Ob);var g=(f.y1+f.y2)/2;Math.abs(g-d.y)<c&&(b=e,c=Math.abs(g-d.y));if(e.eb(a.Gp))break}return b},dG:function(a,
d,c,f){var b=-1,e=-1,g=!1,l=!1,k=this.Oy(this.Ob),h=new XODText.ja,m=new XODText.ja;h.fr(a);m.fr(d);a=new XODText.Qc(h.x,h.y);a=k.W(a);h.x=a.x;h.y=a.y;a=new XODText.Qc(m.x,m.y);a=k.W(a);m.x=a.x;m.y=a.y;d=0;for(var p=this.Ed.length;d<p;++d)k=this.Ed[d],0>b&&k.pg.contains(h.x,h.y)&&(b=d,l=!0),0>e&&k.pg.contains(m.x,m.y)&&(e=d,g=!0);if(!l||!g){a=[];for(k=0;k<this.Ed.length;++k)a.add(0);var k=Math.max(b,e),n=new XODText.Fa;n.Qa(h.x,h.y,m.x,m.y);n.TJ(.1);0<=k&&n.union(this.Ed[k].pg);var q=new XODText.Fa;
d=0;for(p=this.Ed.length;d<p;++d){var v=new XODText.Fa;v.Tf(this.Ed[d].pg);q.hr(v,n)&&(a[d]=1)}d=a.indexOf(1);for(n=p=a.indexOf(1);-1!==p;){n=p;p++;if(p>=a.length)break;p=a.indexOf(1,p)}a=n;if(0>d)return new XODText.Zo(c,f);0>k?(b=d,e=a,g=new XODText.Fa,g.Tf(this.Ed[b].pg),l=(h.x-g.x1)*(h.x-g.x2),l=0<l?Math.min(Math.abs(h.x-g.x1),Math.abs(h.x-g.x2)):0,k=(h.y-g.y1)*(h.y-g.y2),k=0<k?Math.min(Math.abs(h.y-g.y1),Math.abs(h.y-g.y2)):0,a=(m.x-g.x1)*(m.x-g.x2),a=0<a?Math.min(Math.abs(m.x-g.x1),Math.abs(m.x-
g.x2)):0,d=(m.y-g.y1)*(m.y-g.y2),d=0<d?Math.min(Math.abs(m.y-g.y1),Math.abs(m.y-g.y2)):0,l*l+k*k>a*a+d*d&&(g=b,b=e,e=g)):(p=new XODText.Fa,p.Tf(this.Ed[k].pg),n=new XODText.ja,l?n.fr(m):n.fr(h),console.assert(!(l&&g)&&!(!l&&!g)),console.assert(!p.contains(n.x,n.y)),k-d>Math.max(a-k,0)?(l||(b=Math.min(k,d)),g||(e=Math.min(k,d))):(l||(b=Math.max(k,a)),g||(e=Math.max(k,a))))}0<=b&&0<=e&&(c=this.Gy(this.Ed[b],h,c),f=this.Gy(this.Ed[e],m,f));return new XODText.Zo(c,f)},va:null,Sa:null,pd:null,Va:null,
yf:0,Ob:0,Rt:!1,Ed:null};XODText.jg=function(a,d,c,f,b,e){this.Zr=a;this.ow=d;this.Dw=c;this.Cz=f;this.YC=b;this.XC=e};XODText.jg.prototype={Zr:0,ow:0,Dw:null,Cz:null,YC:0,XC:0};XODText.Zo=function(a,d){this.Jy=a;this.Uy=d};XODText.Zo.prototype={Jy:null,Uy:null};XODText.Zs=function(a,d){this.jz=a;this.Dy=d};XODText.Zs.prototype={jz:0,Dy:0};XODText.$s=function(a,d,c,f,b,e){this.It=a;this.qp=d;this.pp=c;this.wt=f;this.Mp=b;this.Lp=e};XODText.$s.prototype={It:null,qp:0,pp:0,wt:null,Mp:0,Lp:0};XODText.wp.Da("XODText._intData");
XODText.Qc.Da("XODText.Point2D");XODText.fb.Da("XODText.Quad");XODText.Ia.Da("XODText.Matrix2D");XODText.Bm.Da("XODText._highlights");XODText.Am.Da("XODText._highlight");XODText.Kt.Da("XODText._highlightDocInfo");XODText.Np.Da("XODText._selectionTextBlock");XODText.wb.Da("XODText.SearchMode");XODText.Bb.Da("XODText.ResultCode");XODText.Dd.Da("XODText.TextSearchLowlevel");XODText.bp.Da("XODText.TextLocator");XODText.jg.Da("XODText.ResultRun");XODText.Zo.Da("XODText.ResultFindStructuralBounds");XODText.Zs.Da("XODText.ResultDetermineOriRange");
XODText.$s.Da("XODText.ResultFindTexts");XODText.wp.Vx=-2147483648;XODText.fb.yH=Math.cos(3.14159265/180*2);XODText.wb.uA=1;XODText.wb.xA=2;XODText.wb.Vu=4;XODText.wb.wA=8;XODText.wb.vA=16;XODText.wb.tA=32;XODText.Bb.Si=0;XODText.Bb.yq=1;XODText.Bb.kn=2;self.$a.Ur("XODText");XODText.pf=function(){this.sy={};this.Ut=1E3;this.Yy=200};
XODText.pf.prototype={Zy:0,$y:0,Ut:0,Yy:0,kv:function(a){var d=new XODText.Fa,c=this.sy[a];"undefined"!=typeof c?d.Tf(c):window.utils.warn("Character "+a+" does not have bounding box.");return d},Vp:function(a,d,c){var f=new XODText.Fa;f.set(d,this.Zy,c,this.$y);this.sy[a]=f},no:function(a,d){this.Zy=a;this.$y=d},qD:function(a){this.Ut=a}};XODText.Qs=function(){this.fv={};this.jc=!1};
$.extend(XODText.Qs.prototype,{jc:!1,isReady:function(){return this.jc},DP:function(){return this.fv},yw:function(a){try{var d=new window.qe(a);console.assert("FontInfo"===d.sa(),"Root element is incorrect.");"FontInfo"===d.sa()&&(d.la(),this._parse(d))}catch(c){console.warn("Font Parser has encountered an error: "+c.message);return}this.jc=!0},rp:function(a){var d="",c=0,f,b,e;for(2<=a.length&&"{"===a.charAt(0)&&"}"===a.charAt(1)&&(a=a.substr(2));c<a.length;)f=a.charCodeAt(c),128>f?(d+=String.fromCharCode(f),
c++):191<f&&224>f?(b=a.charCodeAt(c+1),d+=String.fromCharCode((f&31)<<6|b&63),c+=2):(b=a.charCodeAt(c+1),e=a.charCodeAt(c+2),d+=String.fromCharCode((f&15)<<12|(b&63)<<6|e&63),c+=3);return d},vG:function(a){a=a.J("name");console.assert(42===a.length,"Font file name is incorrect.");console.assert(null!=a,"Font file name is incorrect.");return"f"+parseInt("0x"+a.substr(28,8))},uG:function(a,d){console.assert(null!=d,"Font bbox file is corrupted.");var c=a.J("height");console.assert(null!=c,"Height attribute is missing.");
c=c.split(":");d.no(parseFloat(c[0]),parseFloat(c[1]))},wG:function(a,d){var c=a.J("units_per_em");null!=c&&d.qD(parseInt(c))},tG:function(a,d){console.assert(null!=d,"Font bbox file is corrupted.");var c=a.J("bbox");console.assert(null!=c,"Character width is missing.");var f=c.split(":"),c=parseFloat(f[0]),f=parseFloat(f[1]),b=this.rp(a.sd());console.assert(0<b.length,"Char value is empty.");d.Vp(b,c,f)},_parse:function(a){do{for(var d=null;a.advance();){var c=a.sa();"Font"===c?(d=new XODText.pf,
c=this.vG(a),this.uG(a,d),this.wG(a,d),this.fv[c]=d,a.la()):"c"===c?this.tG(a,d):console.warn("Font XML parser has encountered a tag it can't process.")}a.ua()}while(a.depth)}});XODText.pf.Da("XODText.Font");XODText.Qs.Da("XODText.FontParser");
(function(a){function d(b){this.done=!1;this.worker=new Worker(a.o.dj()+"CoreWorker.js");var c=null,f=null,d=this;this.index=b;this.worker.addEventListener("message",function(b){switch(b.data.command){case "done":d.done=!0;f=null;break;case "nextChunk":c=b.data.resources;f=b.data.dataString;break;default:throw Error("Unknown message command "+b.data.command+" from worker");}d.done?(d.bn(null,[]),d.finish()):c&&f&&(d.bn(f,c),f=c=null)},!1);this.DN()}var c=[],f=[],b="./";d.prototype={setData:function(b,
a){this.bn=a;this.done=!1;this.worker.postMessage({command:"data",dataString:b})},cancel:function(){this.worker.postMessage({command:"cancel"})},DN:function(){this.worker.postMessage({command:"options",imageScaling:a.o.ku,specialBlendSupported:a.utils.specialBlendSupported,continueWithoutPrompt:0<a.Oj})},FK:function(){this.worker.postMessage({command:"nextChunk"})},finish:function(){this.done=!0;if(f.length){var b=f[0];f.shift();this.setData(b.data);this.bn=b.bn;b.XJ(this)}}};a.CJ=function(b,a,l){for(var k=
c.length,h,m=0;m<k;++m)c[m].done&&(h=c[m]);h||4>k&&(h=c[k]=new d(k));h?(h.setData(b,l),a(h)):f.push({XJ:a,data:b,bn:l})};a.o=a.o||{};a.o.ku=!1;a.o.dj=function(){return b};a.o.JM=function(a){a.indexOf("/")!==a.length-1&&(a+="/");b=a}})(window);
(function(a){function d(b,a){var e=Error.apply(this,arguments);e.name=this.name="WorkerError";this.stack=e.stack;this.message=e.message;this.userMessage=a}function c(b){n.push(b);for(var a=0;a<q.length;++a)b(q[a])}function f(b,n,f){if(_.isUndefined(b))return null;var q,h=new Promise(function(e,g){c(function(){g(new d("The worker has encountered an error",a.utils.ie?"error.EmsWorkerErrorIE":"error.EmsWorkerError"))});var f={};l&&(f.workerHeapSize=l);m&&(f.pdfResourcePath=m);q=new window.JF(b,n,f);
q.nx.then(function(){e()},function(b){g(b)})}),p=new Promise(function(b,e){if(a.utils.isJSWorker&&a.jsworker&&a.jsworker.utils)"android"!==a.jsworker.platform&&"ios"!==a.jsworker.platform||!a.jsworker.utils.getResourcesDir?a.jsworker.utils.getHTMLContentPath?a.jsworker.utils.getHTMLContentPath(function(a){a?(a.endsWith("/")||(a+="/"),b(a+"js/html5/pdf/")):e(new d("Couldn't fetch resource file path."))}):e(new d("Some functions required for fetching resources are not defined.")):a.jsworker.utils.getResourcesDir(function(a,
n){a?e(a):b(n)});else{var n=new XMLHttpRequest;n.open("GET",window.o.nB()+"pdfnet.res",!0);n.responseType="arraybuffer";n.onload=function(){200===n.status?b(n.response):e(new d("Couldn't fetch resource file.","error.ResourceLoadError"))};n.onerror=function(){e(new d("Network error","error.ResourceLoadError"))};n.send(null)}});return Promise.all([h,p]).then(function(b){return a.utils.isJSWorker&&a.jsworker&&a.jsworker.utils?q.sK(b[1],f):q.rK(b[1],f)}).then(function(){"undefined"!==typeof e&&q.Kw(e);
"undefined"!==typeof g&&q.es(g);return q})["catch"](function(b){b.message&&-1!==b.message.indexOf("Bad License Key")&&(a.o.jm.Sz(),b.userMessage="error.InvalidLicenseKey");throw b;})}var b,e,g,l,k;a.qs=a.utils.chromeHasSubzero;var h,m,p={},n=[],q=[],v=_.throttle(function(b){var a=n.length;q.push(b);for(var e=0;e<a;++e)n[e](b)},100,{trailing:!1});d.prototype=Object.create(Error.prototype,{constructor:{value:d,writable:!0,configurable:!0}});a.o=a.o||{};a.o.Kw=function(a){e=a;b&&b.then(function(b){b.Kw(a)})};
a.o.es=function(a){g=a;b&&b.then(function(b){b.es(g)})};a.o.fI=function(b){a.utils.chromeHasSubzero&&(a.qs=b)};a.o.UB=function(){return a.qs};a.o.pM=function(b){b.indexOf("/")!==b.length-1&&(b+="/");h=b};a.o.Sq=function(){return h?h:a.o.dj()+"pdf/"};a.o.oM=function(b){b.indexOf("/")!==b.length-1&&(b+="/");m=b};a.o.nB=function(){return m?m:a.o.dj()+"pdf/"};a.o.aM=function(b){l=b};var r,u,x;a.o.iJ=function(){return u};a.o.$A=function(){x||(x=new Promise(function(b){if(a.utils.isJSWorker&&a.jsworker)b("jsworker");
else if(a.utils.isChrome){var e=!0,n=$('<embed name="simple_module" id="simple_module" width=0 height=0 src="'+window.o.Sq()+'SimpleWorker.nmf" type="application/x-pnacl" style="position:absolute" />'),c=n[0];c.addEventListener("error",function(){e&&(console.log("PNaClError: PNaCl failed to load. Falling back to Emscripten."),e=!1);b("ems")},!0);$(document.body).prepend(n);var g=!1,f=function(a){g||(b(a),clearTimeout(q),n.remove(),g=!0)};if("undefined"===typeof c.postMessage)e&&(console.log("PNaClError: PNaCl seems to be disabled. Falling back to Emscripten."),
e=!1),f("ems");else{var q,d=function(){e&&(console.log("PNaClError: PNaCl Timed out. Falling back to Emscripten."),e=!1);f("ems")};c.addEventListener("progress",function(){clearTimeout(q);q=setTimeout(d,5E3)});c.addEventListener("message",function(b){clearTimeout(q);"T"===b.data?f("pnacl"):(console.log("PNaClError: PNaCl responded incorrectly. Falling back to Emscripten."),f("ems"))});c.postMessage("T");q=setTimeout(d,5E3)}}else b("ems")}));return x};a.o.ZA=function(){return p.Hz};a.o.GC=function(e,
n,c){b&&e===a.o.ZA()||(_.isUndefined(c)&&(c={}),c.workerId="pdf_pnacl_module",c.pnaclWorkerPath=window.o.Sq()+(a.qs?"PDFWorkerSubzero.nmf":"PDFWorker.nmf"),c.emsWorkerPath=window.o.Sq()+(l||m?"ResizableWorker.js":"PDFworker.js"),c.$D=p,r=a.o.HC(e,n,c))};a.o.HC=function(b,e,n){n=n||{};var g;return new Promise(function(f,q){function h(b){function e(a){"object"===typeof a.data&&"action"in a.data&&"workerLoaded"===a.data.action&&(b.workerLoadingProgress&&b.workerLoadingProgress(1),g.removeEventListener("message",
e))}var g;c(function(){q(new d("The worker has encountered an error",a.utils.ie?"error.EmsWorkerErrorIE":"error.EmsWorkerError"))});g=new Worker(n.emsWorkerPath);g.onerror=v;u=!0;g.addEventListener("message",e,!1);a.o.mD(3E3);return g}function l(b,a){f(b);n.$D.Hz=a}if("jsworker"===b)console.log("Attempting to load JSWorker"),a.utils.isJSWorker&&(g=a.jsworker.loadWorker(),console.log("JSWorker loaded!"),g&&g.getProcessId(function(b){console.log("Loaded worker in process: "+b)})),u=!1,l(g,"jsworker");
else if("pnacl"===b){_.isUndefined(n.useEmscriptenWhileLoading)&&(n.useEmscriptenWhileLoading=!a.o.UB());u=!1;var p=$('<embed name="'+n.workerId+'" id="'+n.workerId+'" width=0 height=0 src="'+n.pnaclWorkerPath+'" type="application/x-pnacl" style="position:absolute" />');$(document.body).prepend(p);var k=function(b){b.lengthComputable&&(n.useEmscriptenWhileLoading?(g.removeEventListener("progress",k,!0),g.removeEventListener("loadend",r,!0),g.removeEventListener("crash",m,!0),g.removeEventListener("error",
x,!0),l(h(e),"ems"),g.addEventListener("loadend",function(){u=!1;e.pnaclComplete&&e.pnaclComplete(g)})):e.workerLoadingProgress&&e.workerLoadingProgress(b.loaded/b.total))},r=function(){e.workerLoadingProgress&&e.workerLoadingProgress(1);a.o.mD(1E3);l(g,"pnacl")},m=function(){q(new d("The Worker has Crashed.","error.PNaClCrashError"))},x=function(){console.log("PNaClError: Main worker encountered an error. Falling back to Emscripten.");l(h(e),"ems")};g=p[0];g.addEventListener("progress",k,!0);g.addEventListener("loadend",
r,!0);g.addEventListener("crash",m,!0);g.addEventListener("error",x,!0)}else"ems"===b&&l(h(e),"ems")})};a.o.CL=function(a){r=Promise.resolve(a);b=null};a.o.OB=function(){return k};a.o.Sv=function(e,n,c){r||a.o.GC(e,n);if(b){if(k&&c)throw Error("PDFNet was already initialized in demo mode. For solution see pdftron.com/kb_demo_init. Note that calling initPDFWorkerTransports or creating WebViewer object will also call PDFNet.initialize so your license key should be used in all of these calls.");}else k=
!c,b=Promise.all([a.o.jm.hB(c),r]).then(function(b){k=!b[0]||a.o.jm.On(b[0]);return f(b[1],u,b[0])});return b};a.gk=d})(window);
(function(a){function d(b,a,e,g,d,h){this.Yh=16;this.QE=288;this.status=0;this.root=null;this.m=0;var l=Array(this.Yh+1),k,z,E,B,w,y,C,G=Array(this.Yh+1),F,D,J,K=new c,I=Array(this.Yh);B=Array(this.QE);var N,M=Array(this.Yh+1),P,L,A;A=this.root=null;for(w=0;w<l.length;w++)l[w]=0;for(w=0;w<G.length;w++)G[w]=0;for(w=0;w<I.length;w++)I[w]=null;for(w=0;w<B.length;w++)B[w]=0;for(w=0;w<M.length;w++)M[w]=0;k=256<a?b[256]:this.Yh;F=b;D=0;w=a;do l[F[D]]++,D++;while(0<--w);if(l[0]==a)this.root=null,this.status=
this.m=0;else{for(y=1;y<=this.Yh&&0==l[y];y++);C=y;h<y&&(h=y);for(w=this.Yh;0!=w&&0==l[w];w--);E=w;h>w&&(h=w);for(P=1<<y;y<w;y++,P<<=1)if(0>(P-=l[y])){this.status=2;this.m=h;return}if(0>(P-=l[w]))this.status=2,this.m=h;else{l[w]+=P;M[1]=y=0;F=l;D=1;for(J=2;0<--w;)M[J++]=y+=F[D++];F=b;w=D=0;do 0!=(y=F[D++])&&(B[M[y]++]=w);while(++w<a);a=M[E];M[0]=w=0;F=B;D=0;B=-1;N=G[0]=0;J=null;for(L=0;C<=E;C++)for(b=l[C];0<b--;){for(;C>N+G[1+B];){N+=G[1+B];B++;L=(L=E-N)>h?h:L;if((z=1<<(y=C-N))>b+1)for(z-=b+1,J=C;++y<
L&&!((z<<=1)<=l[++J]);)z-=l[J];N+y>k&&N<k&&(y=k-N);L=1<<y;G[1+B]=y;J=Array(L);for(z=0;z<L;z++)J[z]=new c;A=null==A?this.root=new f:A.next=new f;A.next=null;A.list=J;I[B]=J;0<B&&(M[B]=w,K.b=G[B],K.e=16+y,K.t=J,y=(w&(1<<N)-1)>>N-G[B],I[B-1][y].e=K.e,I[B-1][y].b=K.b,I[B-1][y].n=K.n,I[B-1][y].t=K.t)}K.b=C-N;D>=a?K.e=99:F[D]<e?(K.e=256>F[D]?16:15,K.n=F[D++]):(K.e=d[F[D]-e],K.n=g[F[D++]-e]);z=1<<C-N;for(y=w>>N;y<L;y+=z)J[y].e=K.e,J[y].b=K.b,J[y].n=K.n,J[y].t=K.t;for(y=1<<C-1;0!=(w&y);y>>=1)w^=y;for(w^=
y;(w&(1<<N)-1)!=M[B];)N-=G[B],B--}this.m=G[1];this.status=0!=P&&1!=E?1:0}}}function c(){this.n=this.b=this.e=0;this.t=null}function f(){this.list=this.next=null}var b=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],e=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,
16385,24577],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];a.$j||(a.$j={});a.$j.Px=function(b){this.NN();this.zs=b;this.As=0};a.$j.Px.prototype={getBytes:function(b){for(var a,e=Array(1024),c=[],g=0;g<b&&0<(a=this.MN(e,0,e.length));)c[c.length]=String.fromCharCode.apply(null,e.slice(0,a)),g+=a;return g?(this.zs=this.zs.slice(this.As),this.As=0,c.join("")):""},IN:function(){return this.zs.length==this.As?-1:this.zs.charCodeAt(this.As++)&
255},Wb:function(b){for(;this.Ij<b;)this.Vl|=this.IN()<<this.Ij,this.Ij+=8},mc:function(a){return this.Vl&b[a]},Lb:function(b){this.Vl>>=b;this.Ij-=b},ys:function(b,a,e){var c,g,f;if(0==e)return 0;for(f=0;;){this.Wb(this.gf);g=this.Xh.list[this.mc(this.gf)];for(c=g.e;16<c;){if(99==c)return-1;this.Lb(g.b);c-=16;this.Wb(c);g=g.t[this.mc(c)];c=g.e}this.Lb(g.b);if(16==c)this.kd&=32767,b[a+f++]=this.Wh[this.kd++]=g.n;else{if(15==c)break;this.Wb(c);this.Rd=g.n+this.mc(c);this.Lb(c);this.Wb(this.Ul);g=this.eE.list[this.mc(this.Ul)];
for(c=g.e;16<c;){if(99==c)return-1;this.Lb(g.b);c-=16;this.Wb(c);g=g.t[this.mc(c)];c=g.e}this.Lb(g.b);this.Wb(c);this.Jj=this.kd-g.n-this.mc(c);for(this.Lb(c);0<this.Rd&&f<e;)this.Rd--,this.Jj&=32767,this.kd&=32767,b[a+f++]=this.Wh[this.kd++]=this.Wh[this.Jj++]}if(f==e)return e}this.Vh=-1;return f},PN:function(b,a,e){var c;c=this.Ij&7;this.Lb(c);this.Wb(16);c=this.mc(16);this.Lb(16);this.Wb(16);if(c!=(~this.Vl&65535))return-1;this.Lb(16);this.Rd=c;for(c=0;0<this.Rd&&c<e;)this.Rd--,this.kd&=32767,
this.Wb(8),b[a+c++]=this.Wh[this.kd++]=this.mc(8),this.Lb(8);0==this.Rd&&(this.Vh=-1);return c},LN:function(b,a,n){if(null==this.xs){var c,f=Array(288);for(c=0;144>c;c++)f[c]=8;for(;256>c;c++)f[c]=9;for(;280>c;c++)f[c]=7;for(;288>c;c++)f[c]=8;this.rx=7;c=new d(f,288,257,e,g,this.rx);if(0!=c.status)return alert("HufBuild error: "+c.status),-1;this.xs=c.root;this.rx=c.m;for(c=0;30>c;c++)f[c]=5;this.qx=5;c=new d(f,30,0,l,k,this.qx);if(1<c.status)return this.xs=null,alert("HufBuild error: "+c.status),
-1;this.JN=c.root;this.qx=c.m}this.Xh=this.xs;this.eE=this.JN;this.gf=this.rx;this.Ul=this.qx;return this.ys(b,a,n)},KN:function(b,a,n){var c,f,r,u,x,z,E,B=Array(316);for(c=0;c<B.length;c++)B[c]=0;this.Wb(5);z=257+this.mc(5);this.Lb(5);this.Wb(5);E=1+this.mc(5);this.Lb(5);this.Wb(4);c=4+this.mc(4);this.Lb(4);if(286<z||30<E)return-1;for(f=0;f<c;f++)this.Wb(3),B[h[f]]=this.mc(3),this.Lb(3);for(;19>f;f++)B[h[f]]=0;this.gf=7;f=new d(B,19,19,null,null,this.gf);if(0!=f.status)return-1;this.Xh=f.root;this.gf=
f.m;u=z+E;for(c=r=0;c<u;)if(this.Wb(this.gf),x=this.Xh.list[this.mc(this.gf)],f=x.b,this.Lb(f),f=x.n,16>f)B[c++]=r=f;else if(16==f){this.Wb(2);f=3+this.mc(2);this.Lb(2);if(c+f>u)return-1;for(;0<f--;)B[c++]=r}else{17==f?(this.Wb(3),f=3+this.mc(3),this.Lb(3)):(this.Wb(7),f=11+this.mc(7),this.Lb(7));if(c+f>u)return-1;for(;0<f--;)B[c++]=0;r=0}this.gf=9;f=new d(B,z,257,e,g,this.gf);0==this.gf&&(f.status=1);if(0!=f.status)return-1;this.Xh=f.root;this.gf=f.m;for(c=0;c<E;c++)B[c]=B[c+z];this.Ul=6;f=new d(B,
E,0,l,k,this.Ul);this.eE=f.root;this.Ul=f.m;return 0==this.Ul&&257<z||0!=f.status?-1:this.ys(b,a,n)},NN:function(){null==this.Wh&&(this.Wh=Array(65536));this.Ij=this.Vl=this.kd=0;this.Vh=-1;this.ws=!1;this.Rd=this.Jj=0;this.xs=this.Xh=null},MN:function(b,a,e){var c,g;for(c=0;c<e&&(!this.ws||-1!=this.Vh);){if(0<this.Rd){if(0!=this.Vh)for(;0<this.Rd&&c<e;)this.Rd--,this.Jj&=32767,this.kd&=32767,b[a+c++]=this.Wh[this.kd++]=this.Wh[this.Jj++];else{for(;0<this.Rd&&c<e;)this.Rd--,this.kd&=32767,this.Wb(8),
b[a+c++]=this.Wh[this.kd++]=this.mc(8),this.Lb(8);0==this.Rd&&(this.Vh=-1)}if(c==e)break}if(-1==this.Vh){if(this.ws)break;this.Wb(1);0!=this.mc(1)&&(this.ws=!0);this.Lb(1);this.Wb(2);this.Vh=this.mc(2);this.Lb(2);this.Xh=null;this.Rd=0}switch(this.Vh){case 0:g=this.PN(b,a+c,e-c);break;case 1:g=null!=this.Xh?this.ys(b,a+c,e-c):this.LN(b,a+c,e-c);break;case 2:g=null!=this.Xh?this.ys(b,a+c,e-c):this.KN(b,a+c,e-c);break;default:g=-1}if(-1==g)return this.ws?0:-1;c+=g}return c}};a.$j.inflate=function(b){return(new a.$j.Px(b)).getBytes(4E9)}})(self);
!function(a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define([],a):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).PK=a()}(function(){return function d(c,f,b){function e(l,h){if(!f[l]){if(!c[l]){var m="function"==typeof require&&require;if(!h&&m)return m(l,!0);if(g)return g(l,!0);m=Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m;}m=f[l]={exports:{}};c[l][0].call(m.exports,
function(b){var n=c[l][1][b];return e(n?n:b)},m,m.exports,d,c,f,b)}return f[l].exports}for(var g="function"==typeof require&&require,l=0;l<b.length;l++)e(b[l]);return e}({1:[function(d,c,f){d="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;f.assign=function(b){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var c=e.shift();if(c){if("object"!=typeof c)throw new TypeError(c+"must be non-object");for(var f in c)c.hasOwnProperty(f)&&(b[f]=c[f])}}return b};
f.AD=function(b,e){return b.length===e?b:b.subarray?b.subarray(0,e):(b.length=e,b)};var b={Ki:function(b,e,c,f,d){if(e.subarray&&b.subarray)return void b.set(e.subarray(c,c+f),d);for(var p=0;p<f;p++)b[d+p]=e[c+p]},HA:function(b){var e,c,f,d,p;e=f=0;for(c=b.length;e<c;e++)f+=b[e].length;p=new Uint8Array(f);e=f=0;for(c=b.length;e<c;e++)d=b[e],p.set(d,f),f+=d.length;return p}},e={Ki:function(b,e,c,f,d){for(var p=0;p<f;p++)b[d+p]=e[c+p]},HA:function(b){return[].concat.apply([],b)}};f.IM=function(c){c?
(f.Zh=Uint8Array,f.Zl=Uint16Array,f.$l=Int32Array,f.assign(f,b)):(f.Zh=Array,f.Zl=Array,f.$l=Array,f.assign(f,e))};f.IM(d)},{}],2:[function(d,c,f){function b(b,c){if(65537>c&&(b.subarray&&l||!b.subarray&&g))return String.fromCharCode.apply(null,e.AD(b,c));for(var f="",n=0;n<c;n++)f+=String.fromCharCode(b[n]);return f}var e=d("./common"),g=!0,l=!0,k=new e.Zh(256);for(d=0;256>d;d++)k[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;k[254]=k[254]=1;f.YM=function(b){var c,g,n,f,d,l=b.length,k=0;for(f=
0;f<l;f++)g=b.charCodeAt(f),55296===(64512&g)&&f+1<l&&(n=b.charCodeAt(f+1),56320===(64512&n)&&(g=65536+(g-55296<<10)+(n-56320),f++)),k+=128>g?1:2048>g?2:65536>g?3:4;c=new e.Zh(k);for(f=d=0;d<k;f++)g=b.charCodeAt(f),55296===(64512&g)&&f+1<l&&(n=b.charCodeAt(f+1),56320===(64512&n)&&(g=65536+(g-55296<<10)+(n-56320),f++)),128>g?c[d++]=g:2048>g?(c[d++]=192|g>>>6,c[d++]=128|63&g):65536>g?(c[d++]=224|g>>>12,c[d++]=128|g>>>6&63,c[d++]=128|63&g):(c[d++]=240|g>>>18,c[d++]=128|g>>>12&63,c[d++]=128|g>>>6&63,
c[d++]=128|63&g);return c};f.SO=function(e){return b(e,e.length)};f.cH=function(b){for(var c=new e.Zh(b.length),g=0,n=c.length;g<n;g++)c[g]=b.charCodeAt(g);return c};f.dH=function(e,c){var g,n,f,d,l=c||e.length,u=Array(2*l);for(g=n=0;g<l;)if(f=e[g++],128>f)u[n++]=f;else if(d=k[f],4<d)u[n++]=65533,g+=d-1;else{for(f&=2===d?31:3===d?15:7;1<d&&g<l;)f=f<<6|63&e[g++],d--;1<d?u[n++]=65533:65536>f?u[n++]=f:(f-=65536,u[n++]=55296|f>>10&1023,u[n++]=56320|1023&f)}return b(u,n)};f.yN=function(b,e){var c;e=e||
b.length;e>b.length&&(e=b.length);for(c=e-1;0<=c&&128===(192&b[c]);)c--;return 0>c?e:0===c?e:c+k[b[c]]>e?c:e}},{"./common":1}],3:[function(d,c){c.exports=function(c,b,e,g){var d=65535&c|0;c=c>>>16&65535|0;for(var k;0!==e;){k=2E3<e?2E3:e;e-=k;do d=d+b[g++]|0,c=c+d|0;while(--k);d%=65521;c%=65521}return d|c<<16|0}},{}],4:[function(d,c){c.exports={Tx:0,FO:1,Ux:2,CO:3,ep:4,uO:5,JO:6,ik:0,fp:1,PF:2,zO:-1,HO:-2,vO:-3,OF:-5,EO:0,sO:1,rO:9,wO:-1,AO:1,DO:2,GO:3,BO:4,xO:0,tO:0,IO:1,KO:2,yO:8}},{}],5:[function(d,
c){var f=function(){for(var b,e=[],c=0;256>c;c++){b=c;for(var f=0;8>f;f++)b=1&b?3988292384^b>>>1:b>>>1;e[c]=b}return e}();c.exports=function(b,e,c,d){c=d+c;for(b^=-1;d<c;d++)b=b>>>8^f[255&(b^e[d])];return b^-1}},{}],6:[function(d,c){c.exports=function(){this.MK=this.GN=this.time=this.text=0;this.gc=null;this.Zu=0;this.Eu=this.name="";this.KJ=0;this.done=!1}},{}],7:[function(d,c){c.exports=function(c,b){var e,g,d,k,h,m,p,n,q,v,r,u,x,z,E,B,w,y,C,G,F,D,J,K;e=c.state;g=c.Oh;J=c.input;d=g+(c.ae-5);k=c.fd;
K=c.output;h=k-(b-c.ec);m=k+(c.ec-257);p=e.vq;n=e.Qd;q=e.Vg;v=e.Pd;r=e.window;u=e.Ih;x=e.Pb;z=e.Jg;E=e.Qi;B=(1<<e.Vf)-1;w=(1<<e.Kk)-1;a:do b:for(15>x&&(u+=J[g++]<<x,x+=8,u+=J[g++]<<x,x+=8),y=z[u&B];;){if(C=y>>>24,u>>>=C,x-=C,C=y>>>16&255,0===C)K[k++]=65535&y;else{if(!(16&C)){if(0===(64&C)){y=z[(65535&y)+(u&(1<<C)-1)];continue b}if(32&C){e.mode=12;break a}c.Ua="invalid literal/length code";e.mode=30;break a}G=65535&y;(C&=15)&&(x<C&&(u+=J[g++]<<x,x+=8),G+=u&(1<<C)-1,u>>>=C,x-=C);15>x&&(u+=J[g++]<<x,
x+=8,u+=J[g++]<<x,x+=8);y=E[u&w];c:for(;;){if(C=y>>>24,u>>>=C,x-=C,C=y>>>16&255,!(16&C)){if(0===(64&C)){y=E[(65535&y)+(u&(1<<C)-1)];continue c}c.Ua="invalid distance code";e.mode=30;break a}if(F=65535&y,C&=15,x<C&&(u+=J[g++]<<x,x+=8,x<C&&(u+=J[g++]<<x,x+=8)),F+=u&(1<<C)-1,F>p){c.Ua="invalid distance too far back";e.mode=30;break a}if(u>>>=C,x-=C,C=k-h,F>C){if(C=F-C,C>q&&e.Ew){c.Ua="invalid distance too far back";e.mode=30;break a}if(y=0,D=r,0===v){if(y+=n-C,C<G){G-=C;do K[k++]=r[y++];while(--C);y=
k-F;D=K}}else if(v<C){if(y+=n+v-C,C-=v,C<G){G-=C;do K[k++]=r[y++];while(--C);if(y=0,v<G){C=v;G-=C;do K[k++]=r[y++];while(--C);y=k-F;D=K}}}else if(y+=v-C,C<G){G-=C;do K[k++]=r[y++];while(--C);y=k-F;D=K}for(;2<G;)K[k++]=D[y++],K[k++]=D[y++],K[k++]=D[y++],G-=3;G&&(K[k++]=D[y++],1<G&&(K[k++]=D[y++]))}else{y=k-F;do K[k++]=K[y++],K[k++]=K[y++],K[k++]=K[y++],G-=3;while(2<G);G&&(K[k++]=K[y++],1<G&&(K[k++]=K[y++]))}break}}break}while(g<d&&k<m);G=x>>3;g-=G;x-=G<<3;c.Oh=g;c.fd=k;c.ae=g<d?5+(d-g):5-(g-d);c.ec=
k<m?257+(m-k):257-(k-m);e.Ih=u&(1<<x)-1;e.Pb=x}},{}],8:[function(d,c,f){function b(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function e(){this.mode=0;this.last=!1;this.wrap=0;this.Nv=!1;this.total=this.check=this.vq=this.xb=0;this.head=null;this.Pd=this.Vg=this.Qd=this.Sl=0;this.window=null;this.gc=this.offset=this.length=this.Pb=this.Ih=0;this.Qi=this.Jg=null;this.Be=this.Zn=this.sl=this.gC=this.Kk=this.Vf=0;this.next=null;this.cd=new q.Zl(320);this.Bo=new q.Zl(288);this.pA=
this.YB=null;this.CN=this.back=this.Ew=0}function g(b){var e;return b&&b.state?(e=b.state,b.jx=b.xo=e.total=0,b.Ua="",e.wrap&&(b.Ji=1&e.wrap),e.mode=B,e.last=0,e.Nv=0,e.vq=32768,e.head=null,e.Ih=0,e.Pb=0,e.Jg=e.YB=new q.$l(w),e.Qi=e.pA=new q.$l(y),e.Ew=1,e.back=-1,z):E}function l(b){var e;return b&&b.state?(e=b.state,e.Qd=0,e.Vg=0,e.Pd=0,g(b)):E}function k(b,e){var c,n;return b&&b.state?(n=b.state,0>e?(c=0,e=-e):(c=(e>>4)+1,48>e&&(e&=15)),e&&(8>e||15<e)?E:(null!==n.window&&n.Sl!==e&&(n.window=null),
n.wrap=c,n.Sl=e,l(b))):E}function h(b,c){var n,g;return b?(g=new e,b.state=g,g.window=null,n=k(b,c),n!==z&&(b.state=null),n):E}function m(b,e,c,n){var g;b=b.state;return null===b.window&&(b.Qd=1<<b.Sl,b.Pd=0,b.Vg=0,b.window=new q.Zh(b.Qd)),n>=b.Qd?(q.Ki(b.window,e,c-b.Qd,b.Qd,0),b.Pd=0,b.Vg=b.Qd):(g=b.Qd-b.Pd,g>n&&(g=n),q.Ki(b.window,e,c-n,g,b.Pd),n-=g,n?(q.Ki(b.window,e,c-n,n,0),b.Pd=n,b.Vg=b.Qd):(b.Pd+=g,b.Pd===b.Qd&&(b.Pd=0),b.Vg<b.Qd&&(b.Vg+=g))),0}var p,n,q=d("../utils/common"),v=d("./adler32"),
r=d("./crc32"),u=d("./inffast"),x=d("./inftrees"),z=0,E=-2,B=1,w=852,y=592,C=!0;f.PP=l;f.QP=k;f.RP=g;f.NP=function(b){return h(b,15)};f.RJ=h;f.inflate=function(e,c){var g,f,d,h,l,k,y,w,A,Q,U,O,ia,S,T,V,Z,ja,ka,W,aa,ba,X=0,Y=new q.Zh(4),na=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.ae)return E;g=e.state;12===g.mode&&(g.mode=13);l=e.fd;d=e.output;y=e.ec;h=e.Oh;f=e.input;k=e.ae;w=g.Ih;A=g.Pb;Q=k;U=y;aa=z;a:for(;;)switch(g.mode){case B:if(0===g.wrap){g.mode=
13;break}for(;16>A;){if(0===k)break a;k--;w+=f[h++]<<A;A+=8}if(2&g.wrap&&35615===w){g.check=0;Y[0]=255&w;Y[1]=w>>>8&255;g.check=r(g.check,Y,2,0);A=w=0;g.mode=2;break}if(g.xb=0,g.head&&(g.head.done=!1),!(1&g.wrap)||(((255&w)<<8)+(w>>8))%31){e.Ua="incorrect header check";g.mode=30;break}if(8!==(15&w)){e.Ua="unknown compression method";g.mode=30;break}if(w>>>=4,A-=4,W=(15&w)+8,0===g.Sl)g.Sl=W;else if(W>g.Sl){e.Ua="invalid window size";g.mode=30;break}g.vq=1<<W;e.Ji=g.check=1;g.mode=512&w?10:12;A=w=0;
break;case 2:for(;16>A;){if(0===k)break a;k--;w+=f[h++]<<A;A+=8}if(g.xb=w,8!==(255&g.xb)){e.Ua="unknown compression method";g.mode=30;break}if(57344&g.xb){e.Ua="unknown header flags set";g.mode=30;break}g.head&&(g.head.text=w>>8&1);512&g.xb&&(Y[0]=255&w,Y[1]=w>>>8&255,g.check=r(g.check,Y,2,0));A=w=0;g.mode=3;case 3:for(;32>A;){if(0===k)break a;k--;w+=f[h++]<<A;A+=8}g.head&&(g.head.time=w);512&g.xb&&(Y[0]=255&w,Y[1]=w>>>8&255,Y[2]=w>>>16&255,Y[3]=w>>>24&255,g.check=r(g.check,Y,4,0));A=w=0;g.mode=4;
case 4:for(;16>A;){if(0===k)break a;k--;w+=f[h++]<<A;A+=8}g.head&&(g.head.GN=255&w,g.head.MK=w>>8);512&g.xb&&(Y[0]=255&w,Y[1]=w>>>8&255,g.check=r(g.check,Y,2,0));A=w=0;g.mode=5;case 5:if(1024&g.xb){for(;16>A;){if(0===k)break a;k--;w+=f[h++]<<A;A+=8}g.length=w;g.head&&(g.head.Zu=w);512&g.xb&&(Y[0]=255&w,Y[1]=w>>>8&255,g.check=r(g.check,Y,2,0));A=w=0}else g.head&&(g.head.gc=null);g.mode=6;case 6:if(1024&g.xb&&(O=g.length,O>k&&(O=k),O&&(g.head&&(W=g.head.Zu-g.length,g.head.gc||(g.head.gc=Array(g.head.Zu)),
q.Ki(g.head.gc,f,h,O,W)),512&g.xb&&(g.check=r(g.check,f,O,h)),k-=O,h+=O,g.length-=O),g.length))break a;g.length=0;g.mode=7;case 7:if(2048&g.xb){if(0===k)break a;O=0;do W=f[h+O++],g.head&&W&&65536>g.length&&(g.head.name+=String.fromCharCode(W));while(W&&O<k);if(512&g.xb&&(g.check=r(g.check,f,O,h)),k-=O,h+=O,W)break a}else g.head&&(g.head.name=null);g.length=0;g.mode=8;case 8:if(4096&g.xb){if(0===k)break a;O=0;do W=f[h+O++],g.head&&W&&65536>g.length&&(g.head.Eu+=String.fromCharCode(W));while(W&&O<k);
if(512&g.xb&&(g.check=r(g.check,f,O,h)),k-=O,h+=O,W)break a}else g.head&&(g.head.Eu=null);g.mode=9;case 9:if(512&g.xb){for(;16>A;){if(0===k)break a;k--;w+=f[h++]<<A;A+=8}if(w!==(65535&g.check)){e.Ua="header crc mismatch";g.mode=30;break}A=w=0}g.head&&(g.head.KJ=g.xb>>9&1,g.head.done=!0);e.Ji=g.check=0;g.mode=12;break;case 10:for(;32>A;){if(0===k)break a;k--;w+=f[h++]<<A;A+=8}e.Ji=g.check=b(w);A=w=0;g.mode=11;case 11:if(0===g.Nv)return e.fd=l,e.ec=y,e.Oh=h,e.ae=k,g.Ih=w,g.Pb=A,2;e.Ji=g.check=1;g.mode=
12;case 12:if(5===c||6===c)break a;case 13:if(g.last){w>>>=7&A;A-=7&A;g.mode=27;break}for(;3>A;){if(0===k)break a;k--;w+=f[h++]<<A;A+=8}switch(g.last=1&w,w>>>=1,--A,3&w){case 0:g.mode=14;break;case 1:S=g;if(C){p=new q.$l(512);n=new q.$l(32);for(V=0;144>V;)S.cd[V++]=8;for(;256>V;)S.cd[V++]=9;for(;280>V;)S.cd[V++]=7;for(;288>V;)S.cd[V++]=8;x(1,S.cd,0,288,p,0,S.Bo,{Pb:9});for(V=0;32>V;)S.cd[V++]=5;x(2,S.cd,0,32,n,0,S.Bo,{Pb:5});C=!1}S.Jg=p;S.Vf=9;S.Qi=n;S.Kk=5;if(g.mode=20,6===c){w>>>=2;A-=2;break a}break;
case 2:g.mode=17;break;case 3:e.Ua="invalid block type",g.mode=30}w>>>=2;A-=2;break;case 14:w>>>=7&A;for(A-=7&A;32>A;){if(0===k)break a;k--;w+=f[h++]<<A;A+=8}if((65535&w)!==(w>>>16^65535)){e.Ua="invalid stored block lengths";g.mode=30;break}if(g.length=65535&w,w=0,A=0,g.mode=15,6===c)break a;case 15:g.mode=16;case 16:if(O=g.length){if(O>k&&(O=k),O>y&&(O=y),0===O)break a;q.Ki(d,f,h,O,l);k-=O;h+=O;y-=O;l+=O;g.length-=O;break}g.mode=12;break;case 17:for(;14>A;){if(0===k)break a;k--;w+=f[h++]<<A;A+=8}if(g.sl=
(31&w)+257,w>>>=5,A-=5,g.Zn=(31&w)+1,w>>>=5,A-=5,g.gC=(15&w)+4,w>>>=4,A-=4,286<g.sl||30<g.Zn){e.Ua="too many length or distance symbols";g.mode=30;break}g.Be=0;g.mode=18;case 18:for(;g.Be<g.gC;){for(;3>A;){if(0===k)break a;k--;w+=f[h++]<<A;A+=8}g.cd[na[g.Be++]]=7&w;w>>>=3;A-=3}for(;19>g.Be;)g.cd[na[g.Be++]]=0;if(g.Jg=g.YB,g.Vf=7,ba={Pb:g.Vf},aa=x(0,g.cd,0,19,g.Jg,0,g.Bo,ba),g.Vf=ba.Pb,aa){e.Ua="invalid code lengths set";g.mode=30;break}g.Be=0;g.mode=19;case 19:for(;g.Be<g.sl+g.Zn;){for(;X=g.Jg[w&
(1<<g.Vf)-1],T=X>>>24,V=65535&X,!(T<=A);){if(0===k)break a;k--;w+=f[h++]<<A;A+=8}if(16>V)w>>>=T,A-=T,g.cd[g.Be++]=V;else{if(16===V){for(S=T+2;A<S;){if(0===k)break a;k--;w+=f[h++]<<A;A+=8}if(w>>>=T,A-=T,0===g.Be){e.Ua="invalid bit length repeat";g.mode=30;break}W=g.cd[g.Be-1];O=3+(3&w);w>>>=2;A-=2}else if(17===V){for(S=T+3;A<S;){if(0===k)break a;k--;w+=f[h++]<<A;A+=8}w>>>=T;A-=T;W=0;O=3+(7&w);w>>>=3;A-=3}else{for(S=T+7;A<S;){if(0===k)break a;k--;w+=f[h++]<<A;A+=8}w>>>=T;A-=T;W=0;O=11+(127&w);w>>>=
7;A-=7}if(g.Be+O>g.sl+g.Zn){e.Ua="invalid bit length repeat";g.mode=30;break}for(;O--;)g.cd[g.Be++]=W}}if(30===g.mode)break;if(0===g.cd[256]){e.Ua="invalid code -- missing end-of-block";g.mode=30;break}if(g.Vf=9,ba={Pb:g.Vf},aa=x(1,g.cd,0,g.sl,g.Jg,0,g.Bo,ba),g.Vf=ba.Pb,aa){e.Ua="invalid literal/lengths set";g.mode=30;break}if(g.Kk=6,g.Qi=g.pA,ba={Pb:g.Kk},aa=x(2,g.cd,g.sl,g.Zn,g.Qi,0,g.Bo,ba),g.Kk=ba.Pb,aa){e.Ua="invalid distances set";g.mode=30;break}if(g.mode=20,6===c)break a;case 20:g.mode=21;
case 21:if(6<=k&&258<=y){e.fd=l;e.ec=y;e.Oh=h;e.ae=k;g.Ih=w;g.Pb=A;u(e,U);l=e.fd;d=e.output;y=e.ec;h=e.Oh;f=e.input;k=e.ae;w=g.Ih;A=g.Pb;12===g.mode&&(g.back=-1);break}for(g.back=0;X=g.Jg[w&(1<<g.Vf)-1],T=X>>>24,S=X>>>16&255,V=65535&X,!(T<=A);){if(0===k)break a;k--;w+=f[h++]<<A;A+=8}if(S&&0===(240&S)){Z=T;ja=S;for(ka=V;X=g.Jg[ka+((w&(1<<Z+ja)-1)>>Z)],T=X>>>24,S=X>>>16&255,V=65535&X,!(Z+T<=A);){if(0===k)break a;k--;w+=f[h++]<<A;A+=8}w>>>=Z;A-=Z;g.back+=Z}if(w>>>=T,A-=T,g.back+=T,g.length=V,0===S){g.mode=
26;break}if(32&S){g.back=-1;g.mode=12;break}if(64&S){e.Ua="invalid literal/length code";g.mode=30;break}g.gc=15&S;g.mode=22;case 22:if(g.gc){for(S=g.gc;A<S;){if(0===k)break a;k--;w+=f[h++]<<A;A+=8}g.length+=w&(1<<g.gc)-1;w>>>=g.gc;A-=g.gc;g.back+=g.gc}g.CN=g.length;g.mode=23;case 23:for(;X=g.Qi[w&(1<<g.Kk)-1],T=X>>>24,S=X>>>16&255,V=65535&X,!(T<=A);){if(0===k)break a;k--;w+=f[h++]<<A;A+=8}if(0===(240&S)){Z=T;ja=S;for(ka=V;X=g.Qi[ka+((w&(1<<Z+ja)-1)>>Z)],T=X>>>24,S=X>>>16&255,V=65535&X,!(Z+T<=A);){if(0===
k)break a;k--;w+=f[h++]<<A;A+=8}w>>>=Z;A-=Z;g.back+=Z}if(w>>>=T,A-=T,g.back+=T,64&S){e.Ua="invalid distance code";g.mode=30;break}g.offset=V;g.gc=15&S;g.mode=24;case 24:if(g.gc){for(S=g.gc;A<S;){if(0===k)break a;k--;w+=f[h++]<<A;A+=8}g.offset+=w&(1<<g.gc)-1;w>>>=g.gc;A-=g.gc;g.back+=g.gc}if(g.offset>g.vq){e.Ua="invalid distance too far back";g.mode=30;break}g.mode=25;case 25:if(0===y)break a;if(O=U-y,g.offset>O){if(O=g.offset-O,O>g.Vg&&g.Ew){e.Ua="invalid distance too far back";g.mode=30;break}O>
g.Pd?(O-=g.Pd,ia=g.Qd-O):ia=g.Pd-O;O>g.length&&(O=g.length);S=g.window}else S=d,ia=l-g.offset,O=g.length;O>y&&(O=y);y-=O;g.length-=O;do d[l++]=S[ia++];while(--O);0===g.length&&(g.mode=21);break;case 26:if(0===y)break a;d[l++]=g.length;y--;g.mode=21;break;case 27:if(g.wrap){for(;32>A;){if(0===k)break a;k--;w|=f[h++]<<A;A+=8}if(U-=y,e.xo+=U,g.total+=U,U&&(e.Ji=g.check=g.xb?r(g.check,d,U,l-U):v(g.check,d,U,l-U)),U=y,(g.xb?w:b(w))!==g.check){e.Ua="incorrect data check";g.mode=30;break}A=w=0}g.mode=28;
case 28:if(g.wrap&&g.xb){for(;32>A;){if(0===k)break a;k--;w+=f[h++]<<A;A+=8}if(w!==(4294967295&g.total)){e.Ua="incorrect length check";g.mode=30;break}A=w=0}g.mode=29;case 29:aa=1;break a;case 30:aa=-3;break a;case 31:return-4;default:return E}return e.fd=l,e.ec=y,e.Oh=h,e.ae=k,g.Ih=w,g.Pb=A,(g.Qd||U!==e.ec&&30>g.mode&&(27>g.mode||4!==c))&&m(e,e.output,e.fd,U-e.ec)?(g.mode=31,-4):(Q-=e.ae,U-=e.ec,e.jx+=Q,e.xo+=U,g.total+=U,g.wrap&&U&&(e.Ji=g.check=g.xb?r(g.check,d,U,e.fd-U):v(g.check,d,U,e.fd-U)),
e.JH=g.Pb+(g.last?64:0)+(12===g.mode?128:0)+(20===g.mode||15===g.mode?256:0),(0===Q&&0===U||4===c)&&aa===z&&(aa=-5),aa)};f.PJ=function(b){if(!b||!b.state)return E;var e=b.state;return e.window&&(e.window=null),b.state=null,z};f.QJ=function(b,e){var g;b&&b.state&&(g=b.state,0===(2&g.wrap)||(g.head=e,e.done=!1))};f.SJ=function(b,e){var g,c,n=e.length;return b&&b.state?(g=b.state,0!==g.wrap&&11!==g.mode?E:11===g.mode&&(c=1,c=v(c,e,n,0),c!==g.check)?-3:m(b,e,n,n)?(g.mode=31,-4):(g.Nv=1,z)):E};f.MP="pako inflate (from Nodeca project)"},
{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(d,c){var f=d("../utils/common"),b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,
26,26,27,27,28,28,29,29,64,64];c.exports=function(c,d,m,p,n,q,v,r){var u,x,z,E,B,w,y,C,G=r.Pb,F,D,J,K,I,N,M=0,P,L=null,A=0,Q=new f.Zl(16);E=new f.Zl(16);var U=null,O=0;for(F=0;15>=F;F++)Q[F]=0;for(D=0;D<p;D++)Q[d[m+D]]++;K=G;for(J=15;1<=J&&0===Q[J];J--);if(K>J&&(K=J),0===J)return n[q++]=20971520,n[q++]=20971520,r.Pb=1,0;for(G=1;G<J&&0===Q[G];G++);K<G&&(K=G);for(F=u=1;15>=F;F++)if(u<<=1,u-=Q[F],0>u)return-1;if(0<u&&(0===c||1!==J))return-1;E[1]=0;for(F=1;15>F;F++)E[F+1]=E[F]+Q[F];for(D=0;D<p;D++)0!==
d[m+D]&&(v[E[d[m+D]]++]=D);if(0===c?(L=U=v,B=19):1===c?(L=b,A-=257,U=e,O-=257,B=256):(L=g,U=l,B=-1),P=0,D=0,F=G,E=q,I=K,N=0,z=-1,M=1<<K,p=M-1,1===c&&852<M||2===c&&592<M)return 1;for(;;){w=F-N;v[D]<B?(y=0,C=v[D]):v[D]>B?(y=U[O+v[D]],C=L[A+v[D]]):(y=96,C=0);u=1<<F-N;G=x=1<<I;do x-=u,n[E+(P>>N)+x]=w<<24|y<<16|C|0;while(0!==x);for(u=1<<F-1;P&u;)u>>=1;if(0!==u?(P&=u-1,P+=u):P=0,D++,0===--Q[F]){if(F===J)break;F=d[m+v[D]]}if(F>K&&(P&p)!==z){0===N&&(N=K);E+=G;I=F-N;for(u=1<<I;I+N<J&&(u-=Q[I+N],!(0>=u));)I++,
u<<=1;if(M+=1<<I,1===c&&852<M||2===c&&592<M)return 1;z=P&p;n[z]=K<<24|I<<16|E-q|0}}return 0!==P&&(n[E+P]=F-N<<24|4194304),r.Pb=K,0}},{"../utils/common":1}],10:[function(d,c){c.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(d,c){c.exports=function(){this.input=null;this.jx=this.ae=this.Oh=0;this.output=null;this.xo=this.ec=this.fd=0;this.Ua="";this.state=
null;this.JH=2;this.Ji=0}},{}],"/lib/inflate.js":[function(d,c,f){function b(e){if(!(this instanceof b))return new b(e);var c=this.options=l.assign({oH:16384,Ac:0,to:""},e||{});c.raw&&0<=c.Ac&&16>c.Ac&&(c.Ac=-c.Ac,0===c.Ac&&(c.Ac=-15));!(0<=c.Ac&&16>c.Ac)||e&&e.Ac||(c.Ac+=32);15<c.Ac&&48>c.Ac&&0===(15&c.Ac)&&(c.Ac|=15);this.Xu=0;this.Ua="";this.ended=!1;this.nq=[];this.Ej=new p;this.Ej.ec=0;e=g.RJ(this.Ej,c.Ac);if(e!==h.ik)throw Error(m[e]);this.header=new n;g.QJ(this.Ej,this.header)}function e(e,
g){var c=new b(g);if(c.push(e,!0),c.Xu)throw c.Ua||m[c.Xu];return c.result}var g=d("./zlib/inflate"),l=d("./utils/common"),k=d("./utils/strings"),h=d("./zlib/constants"),m=d("./zlib/messages"),p=d("./zlib/zstream"),n=d("./zlib/gzheader"),q=Object.prototype.toString;b.prototype.push=function(b,e){var c,n,f,d,p,m,y=this.Ej,C=this.options.oH,G=this.options.uP,F=!1;if(this.ended)return!1;n=e===~~e?e:!0===e?h.ep:h.Tx;"string"==typeof b?y.input=k.cH(b):"[object ArrayBuffer]"===q.call(b)?y.input=new Uint8Array(b):
y.input=b;y.Oh=0;y.ae=y.input.length;do{if(0===y.ec&&(y.output=new l.Zh(C),y.fd=0,y.ec=C),c=g.inflate(y,h.Tx),c===h.PF&&G&&(m="string"==typeof G?k.YM(G):"[object ArrayBuffer]"===q.call(G)?new Uint8Array(G):G,c=g.SJ(this.Ej,m)),c===h.OF&&!0===F&&(c=h.ik,F=!1),c!==h.fp&&c!==h.ik)return this.iw(c),this.ended=!0,!1;y.fd&&(0!==y.ec&&c!==h.fp&&(0!==y.ae||n!==h.ep&&n!==h.Ux)||("string"===this.options.to?(f=k.yN(y.output,y.fd),d=y.fd-f,p=k.dH(y.output,f),y.fd=d,y.ec=C-d,d&&l.Ki(y.output,y.output,f,d,0),this.mC(p)):
this.mC(l.AD(y.output,y.fd))));0===y.ae&&0===y.ec&&(F=!0)}while((0<y.ae||0===y.ec)&&c!==h.fp);return c===h.fp&&(n=h.ep),n===h.ep?(c=g.PJ(this.Ej),this.iw(c),this.ended=!0,c===h.ik):n!==h.Ux||(this.iw(h.ik),y.ec=0,!0)};b.prototype.mC=function(b){this.nq.push(b)};b.prototype.iw=function(b){b===h.ik&&("string"===this.options.to?this.result=this.nq.join(""):this.result=l.HA(this.nq));this.nq=[];this.Xu=b;this.Ua=this.Ej.Ua};f.cO=b;f.inflate=e;f.OP=function(b,g){return g=g||{},g.raw=!0,e(b,g)};f.PQ=e},
{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")});
(function(a){a.hf={oh:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(d){for(var c="",f,b,e,g,l,k,h=0;h<d.length;)f=d.charCodeAt(h++),b=d.charCodeAt(h++),e=d.charCodeAt(h++),g=f>>2,f=(f&3)<<4|b>>4,l=(b&15)<<2|e>>6,k=e&63,isNaN(b)?l=k=64:isNaN(e)&&(k=64),c=c+a.hf.oh.charAt(g)+a.hf.oh.charAt(f)+a.hf.oh.charAt(l)+a.hf.oh.charAt(k);return c},decode:function(d){var c="",f,b,e,g,l,k=0;for(d=d.replace(/[^A-Za-z0-9\+\/\=]/g,"");k<d.length;)f=a.hf.oh.indexOf(d.charAt(k++)),
b=a.hf.oh.indexOf(d.charAt(k++)),g=a.hf.oh.indexOf(d.charAt(k++)),l=a.hf.oh.indexOf(d.charAt(k++)),f=f<<2|b>>4,b=(b&15)<<4|g>>2,e=(g&3)<<6|l,c+=String.fromCharCode(f),64!==g&&(c+=String.fromCharCode(b)),64!==l&&(c+=String.fromCharCode(e));return c}};"undefined"===typeof window.btoa&&(window.btoa=a.hf.encode);"undefined"===typeof window.atob&&(window.atob=a.hf.decode)})(window);
(function(a){function d(a){var f;"string"!==typeof a?(f={documentElement:a},this.Yv=!1):"undefined"!==typeof DOMParser?(f=new DOMParser,f=f.parseFromString(a,"text/xml"),this.Yv=!1):(f=new ActiveXObject("MSXML2.DOMDocument"),f.preserveWhiteSpace=!0,f.async=!1,f.loadXML(a),this.Yv=!0);this.current=f.documentElement;this.next=this.current.nextSibling;this.diff=this.depth=0}d.prototype={jy:function(){for(;this.next&&this.next.nodeType!==Node.ELEMENT_NODE;)this.next=this.next.nextSibling},advance:function(){this.jy();
return this.next?(this.current=this.next,this.next=this.current.nextSibling,!0):!1},sa:function(){return this.current.tagName},la:function(){++this.depth;this.next=this.current.firstChild;this.jy();this.next||++this.diff},ua:function(){--this.depth;0<this.diff?--this.diff:this.current=this.current.parentNode;this.current&&(this.next=this.current.nextSibling)},J:function(a){return this.current.getAttribute(a)},sd:function(){return this.Yv?this.current.text:this.current.textContent}};a.qe=d})(window);
(function(a){function d(a){this.depth=this.index=0;this.zd=a;this.location={start:0,pr:1,qr:1,end:a.length,empty:!0};this.Vn=[this.location];this.Rv=!1;"?"===this.zd.charAt(1)&&this.jB();this.location.empty=!1}d.prototype={advance:function(){this.wh=null;this.jB();var a=this.location.start;++a;this.location.empty=!1;if("/"!==this.zd.charAt(a))return this.location.empty="/"===this.zd.charAt(this.zd.indexOf(">",a)-1),!0;this.location.end=!0;return!1},LH:function(a){if(a)return a.replace(/&[^;]*;/g,
function(a){switch(a.charAt(1)){case "q":return'"';case "a":return"&";case "l":return"<";case "g":return">"}})},$B:function(){var a=this.location.start+1,f=this.zd.indexOf(">",a);this.location.empty&&--f;a=this.zd.substring(a,f);this.wh={};f=a.indexOf(" ");if(-1!==f){this.yA=a.substring(0,f);for(var a=a.slice(f),a=a.split('"'),f=a.length-1,b=0;b<f;++b){var e=a[b],g=a[++b];this.wh[e.substring(1,e.length-1)]=g}}else this.yA=a},jB:function(){if(this.Rv)this.Rv=!1,this.location.start=this.zd.indexOf("<",
this.location.start+1);else{var a=this.location.pr;if(!this.location.empty)for(var f=this.location.qr;0<f;)a=this.zd.indexOf("<",a),"/"===this.zd.charAt(++a)?--f:(a=this.zd.indexOf(">",a),"/"!==this.zd.charAt(a-1)&&++f);this.location.start=this.zd.indexOf("<",a)}this.location.pr=this.location.start+1;this.location.qr=1},mark:function(){this.zd.mark&&this.zd.mark(this.location.start)},sa:function(){null!==this.wh&&"undefined"!==typeof this.wh||this.$B();return this.yA},la:function(){++this.depth;this.location=
{start:this.location.start};this.Vn[this.Vn.length]=this.location;this.Rv=!0},ua:function(){--this.depth;this.wh=null;var a=this.location.pr,f=this.location.qr,b=this.location.empty,e=this.location.end;this.Vn.pop();this.location=this.Vn[this.Vn.length-1];this.location.pr=a;this.location.qr=e?0:b?f:f+1},J:function(a){null!==this.wh&&"undefined"!==typeof this.wh||this.$B();return this.LH(this.wh[a])}};a.qO=d})(self);
window.setImmediate||function(){function a(a){var g=a.data;if("string"==typeof g&&0==g.indexOf("IM")&&(a=c[g]))a:{delete c[g],g=a[0];switch(a.length){case 1:g();break a;case 2:g(a[1]);break a;case 3:g(a[1],a[2]);break a}g.apply(window,b.call(a,1))}}var d=0,c={},f=!0,b=Array.prototype.slice;window.setImmediate=function(){for(var b=d++,g="IM"+b,l=arguments.length,k=Array(l);l--;)k[l]=arguments[l];c[g]=k;f&&(f=!1,window.addEventListener("message",a));window.postMessage(g,"*");return b};window.clearImmediate=
function(b){delete c["IM"+b]}}();
(function(a){function d(b){if(b){if(b.length!==this.Nj)throw Error("Data is wrong size for zip header!");this.mn=b=this.fL(b);if(b.Ml!==this.hI)throw Error("Signature is wrong!");this.iK=4294967295===b.uq;this.Bh={};this.names=[]}}function c(b,g,c){this.source=b;this.mq=this.xu=!1;this.Ge={};this.nn=function(){};this.decrypt=g;this.dn=c;this.dA=a.o.hg&&g!==a.o.hg.decrypt}function f(b){this.sj=b;this.started=!1;this.Rg=1}f.prototype={cancel:function(){}};a.Wi=function(b){if("string"!==typeof b){for(var a=
"",c=0,f=b.length,d;c<f;)d=b.subarray(c,c+1024),c+=1024,a+=String.fromCharCode.apply(null,d);return a}return b};a.yJ=function(b){if("string"===typeof b){for(var a=new Uint8Array(b.length),c=b.length,f=0;f<c;f++)a[f]=b.charCodeAt(f);return a}return b};c.prototype={mf:"Document/FixedDocument.fdoc",fg:"Document/DocProps/core.xml",kf:"Document/Structure/DocStruct.struct",bM:function(b){this.nn=b},Yr:function(b){var g=this;this.ml(function(c){if(c){a.utils.warn("Error loading document: "+c);g.nn(c);if(b){b(c);
return}throw c;}return g.request([g.mf,g.fg,g.kf])})},xj:function(){return!1},request:function(b,a){var c=this;if(!c.xu)throw Error("Document must be loaded before requesting parts");_(b).each(function(b){c.nI(b,function(b,e,f,n){return b?(e!==c.kf&&c.nn(b),c.trigger("partReady",{qa:e,Hf:!1,Wc:!!b.fu,error:b})):c.trigger("partReady",{qa:e,data:f,Hf:!1,Wc:!1,error:null,tb:n,kC:a})})})},Lw:function(b){this.Te=b},uu:function(b){var a=this;_(b).each(function(b){var e=a.Ge[b];e&&(e.Rg--,0===e.Rg&&(delete a.Ge[b],
e.cancel()))})},nI:function(b,a){if(this.Ge[b])this.Ge[b].Rg++;else return this.Ge[b]=new f(b),this.KC(b,a)}};_(c.prototype).extend(Backbone.Events);d.prototype={aB:function(){return{start:this.mn.uq,stop:this.mn.uq+this.mn.mA}},zn:function(b){var a=this.Bh[b],c=a.offset+this.Ts+a.oj+a.qn;return{start:c,stop:c+a.pu,sj:b}},Kq:function(b){b=this.zn(b);var a=Math.floor(b.start/102400),c=b.stop-b.start;return Math.min(c,102400*(a+1)-b.start)>c/2?a:a+1},uK:function(b){if(b&&(this.mn=b=this.jL(b),b.Ml!==
this.HN))throw Error("Signature is wrong!");},JI:function(b){var a=this.Kq(b),c=this.names.indexOf(b),f;b=[];var d;for(d=c-1;0<=d&&this.Kq(this.names[d])===a;--d);f=d+1;var m=this.zn(this.names[f]).start;for(d=c+1;d<this.names.length&&this.Kq(this.names[d])===a;++d);a=d-1;c=this.zn(this.names[a]).stop;for(d=f;d<=a;++d)f=this.zn(this.names[d]),f.start-=m,f.stop-=m,b.push(f);return{start:m,stop:c,IC:b}},Xz:function(b){return!!this.Bh[b]},NB:function(b){return 0!==this.Bh[b].Gu},JC:function(b){for(var a=
10,c=this.uE,f=this.mn.ND,d=0;d<f;d++){var m=this.gL(b,a),a=a+c,p=b.substr(a,m.oj),a=a+(m.oj+m.qn+m.Wz+10);this.Bh[p]=m;this.names[this.names.length]=p}},MF:56,NF:20,Nj:22,uE:36,Ts:30,Sr:function(b,a,c){for(var f="",d=0;d<a;d++)var m=b.charCodeAt(d+c).toString(16),f=1===m.length?"0"+m+f:m+f;return parseInt(f,16)},gL:function(b,a){var c={},f=this.Sr;c.Gu=f(b,2,a);c.pu=f(b,4,a+10);c.hN=f(b,4,a+14);c.oj=f(b,2,a+18);c.qn=f(b,2,a+20);c.Wz=f(b,2,a+22);c.offset=f(b,4,a+32);return c},jL:function(b){var a=
{},c=this.Sr;a.Ml=c(b,4,0);a.KP=c(b,8,4);a.RQ=c(b,2,12);a.SQ=c(b,2,14);a.TH=c(b,4,16);a.mH=c(b,4,20);a.IK=c(b,8,24);a.ND=c(b,8,32);a.mA=c(b,8,40);a.uq=c(b,8,48);return a},fL:function(b){var a={},c=this.Sr;a.Ml=c(b,4,0);a.TH=c(b,2,4);a.mH=c(b,2,6);a.IK=c(b,2,8);a.ND=c(b,2,10);a.mA=c(b,4,12);a.uq=c(b,4,16);a.Wz=c(b,2,20);return a},hL:function(b){var a={},c=this.Sr;a.Ml=c(b,4,0);a.QQ=c(b,2,4);a.xb=c(b,2,6);a.Gu=c(b,2,8);a.hQ=c(b,2,10);a.gQ=c(b,2,12);a.ZO=c(b,4,14);a.pu=c(b,4,18);a.hN=c(b,4,22);a.oj=
c(b,2,26);a.qn=c(b,2,28);return a},hI:101010256,HN:101075792,vK:67324752,wK:"PK\u0003\u0004"};d.inflate=function(b){return"string"===typeof b?a.$j.inflate(b):a.PK.inflate(b,{Ac:-15})};a.o=a.o||{};a.o.V=a.o.V||{};var b=a.o.V;b.sf=c;b.oi=d;b.nu=Array(1024);a.uB=function(e,c,f,d){c=c||0;f=f||!1;var h="",m;if(10===a.utils.ie&&!_.isNull(e.responseBody)||!a.Uint8Array&&!_.isUndefined(e.responseBody)){m=e.responseBody;c=_.isArray(m)?m:(new a.VBArray(m)).toArray();d=c.length;e=Array(d);for(f=0;f<d;f++)e[f]=
c[f]&255;d=d/1024+1;for(c=0;c<d;c++)h+=String.fromCharCode.apply(null,e.slice(1024*c,1024*c+1024))}else if(!a.Uint8Array||f||_.isUndefined(e.response))for(m=e.responseText,e=b.nu,f=c;f<d;){for(c=0;1024>c&&f<d;++c)e[c]=m.charCodeAt(f)&255,++f;h+=String.fromCharCode.apply(null,e.slice(0,c))}else{m=e.response;m=new a.Uint8Array(m);var p=m.length;f=c;if(a.utils.typedArrayApply)return m.subarray(c);for(e=b.nu;f<p;){c=0;for(d=Math.min(f+1024,p);f<d;c++,f++)e[c]=m[f];h+=String.fromCharCode.apply(null,1024>
c?e.slice(0,c):e)}}return h};a.o.V.$h={Us:0,vx:1,PE:2}})(window);
(function(a){function d(b,e,g){c.apply(this,arguments);if("xod"!==b.name.split(".").pop())throw Error("Not an XOD file");if(!a.FileReader||!a.File||!a.Blob)throw Error("File API is not supported in this browser");this.file=b}var c=a.o.V.sf,f=a.o.V.oi;d.prototype=new c;d.prototype=_(d.prototype).extend({aw:function(b,a,c){var f=new FileReader;f.onloadend=function(b,d){if(f.error){var m=f.error;if(m.code===m.ABORT_ERR){console.warn("Request for chunk "+a.start+"-"+a.stop+" was aborted");return}return c(m)}return c(!1,
d||b.target.result)};a&&(b=(b.slice||b.webkitSlice||b.mozSlice||b.$u).call(b,a.start,a.stop));f.readAsBinaryString(b);return function(){f.abort()}},ml:function(b){var a=this;a.mq=!0;var c=f.prototype.Nj;a.aw(a.file,{start:-c,stop:a.file.size},function(d,k){if(d)return console.warn("Error loading end header: %s",d),b(d);if(k.length!==c)throw Error("Zip end header data is wrong size!");a.Xb=new f(k);var h=a.Xb.aB();a.aw(a.file,h,function(c,g){if(c)return console.warn("Error loading central directory: %s",
c),b(c);if(g.length!==h.stop-h.start)throw Error("Zip central directory data is wrong size!");a.Xb.JC(g);a.xu=!0;a.mq=!1;return b(!1)})})},KC:function(b,a){var c=this,f=c.Ge[b];if(!c.Xb.Xz(b))return a(Error('File not found: "'+b+'"'),b);var d=c.Xb.zn(b),h=c.aw(c.file,d,function(f,h){delete c.Ge[b];if(f)return console.warn('Error loading part "%s": %s',b,f),a(f);if(h.length!==d.stop-d.start)throw Error("Part data is wrong size!");var n=c.Xb.NB(b);a(!1,b,h,n)});f.started=!0;f.cancel=h}});a.o.V.LE=d;
a.Oe=a.Oe||{};a.Oe.YN=function(b){return{name:b.value.split(/[\/\\]/).pop(),size:null,data:null,waiting:[],Qv:!1,$u:function(b,a){return{nC:this,$u:this.$u,start:b,stop:a}}}};a.Oe.ZN=function(){return{error:!1,onloadend:function(){},result:null,readAsBinaryString:function(b){var a=b.nC||b,c=this,f=encodeURI(a.name);if(a.data)return this.Jv(b);if(a.Qv)return a.waiting.push(function(){c.Jv(b)});a.Qv=!0;new JSIO.TN(f,function(f){a.Qv=!1;if(f)return console.error('Failed to load file "%s"',a.name),console.warn("File must be in same directory as this page for FakeFileReader to work"),
c.error=Error('Failed to load file "%s"',a.name),c.onloadend(c.error);a.size=this.fileSize;a.data=this.read(this.fileSize);c.Jv.call(c,b);for(f=0;f<a.waiting.length;f++)a.waiting[f]();a.waiting=[]})},Jv:function(b){var a=b.nC||b,c=b.start||0;b=b.stop||a.size;null===c&&(c=a.size);null===b&&(b=a.size);0>c&&(c=a.size+c);0>b&&(b=a.size+b);a=a.data.slice(c,b);c="";for(b=0;b<a.length/1E3;b++)c+=String.fromCharCode.apply(null,a.slice(1E3*b,1E3*b+1E3));this.result=c;this.onloadend({},c)}}}})(window);
(function(a){function d(a){this.file=a}d.prototype=$.extend({getFileData:function(a){var f=this,b=new FileReader;b.onload=function(b){f.trigger("documentLoadingProgress",[b.loaded,b.loaded]);a(new Uint8Array(b.target.result))};b.onprogress=function(b){b.lengthComputable&&f.trigger("documentLoadingProgress",[b.loaded,0<b.total?b.total:0])};b.readAsArrayBuffer(this.file)},getFile:function(){return a.utils.isJSWorker?this.file.path:this.file}},a.utils.eventHandler);a.o.V.ME=d})(window);
(function(a){function d(a){this.buffer=a}d.prototype=$.extend({getFileData:function(a){a(new Uint8Array(this.buffer))},getFile:function(){return null}},a.utils.eventHandler);a.o.V.hE=d})(window);
(function(a){function d(b,a,e,c){g.apply(this,[b,e,c]);this.Sg={};this.qu=a;this.url=b}function c(){this.Rg=1}function f(b){var e=b.request,c=b.range;return function(g,f){if(g){if(g.code===e.Yb.Wl){a.utils.warn("Request for range "+c.start+"-"+c.stop+" was aborted");return}return b.be.forEach(function(b){b("Error retrieving file: "+e.url+". Received return status "+g.status+".")})}return b.be.forEach(function(b){b(!1,f,e)})}}function b(b,e,c,g){this.url=b;this.range=e;this.Te=c;this.request=new XMLHttpRequest;
this.request.open("GET",this.url,!0);a.Uint8Array&&(this.request.responseType="arraybuffer");g&&(this.request.withCredentials=g);_.isUndefined(e.stop)?this.request.setRequestHeader("Range","bytes="+e.start):this.request.setRequestHeader("Range",["bytes=",e.start,"-",e.stop-1].join(""));this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");if(c)for(var f in c)this.request.setRequestHeader(f,c[f]);this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):
this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=this.Yb.Uj}function e(b,e,c){for(var g=-1,f=0;f<c.length;f++)_.isEqual(c[f].range,e)&&_.isEqual(c[f].url,b)&&(g=f);-1===g&&a.utils.warn(e+" not found in queue");return g}var g=a.o.V.sf,l=a.o.V.oi,k=[],h=[];b.prototype={constructor:b,start:function(b){var e=this,c=this.request;c.onreadystatechange=function(){if(e.fu)return e.status=e.Yb.Wl,b({code:e.Yb.Wl});if(this.readyState===e.KF.DONE){e.Oq();var g=0===window.document.URL.indexOf("file:///");
200===c.status||206===c.status||g&&0===c.status?(g=a.uB(this),e.success(g,b)):(e.status=e.Yb.ERROR,b({code:e.status,status:this.status}))}};this.request.send(null);this.status=this.Yb.qm},success:function(b,a){this.status=this.Yb.oF;if(a)return a(!1,b)},abort:function(){this.Oq();this.fu=!0;this.request.abort()},Oq:function(){var b=e(this.url,this.range,h);-1!==b&&h.splice(b,1);if(0<k.length){var b=k.shift(),a=new this.constructor(b.url,b.range,this.Te,this.withCredentials);b.request=a;h.push(b);
a.start(f(b))}},KF:{oO:0,DONE:4},Yb:{Uj:0,qm:1,oF:2,ERROR:3,Wl:4},extend:function(b){var a=$.extend({},this,b.prototype);a.constructor=b;return a}};a.UQ=[];d.prototype={Rr:b,NE:3,pq:function(b,e,c){var g=-1===b.indexOf("?")?"?":"&";switch(c){case !1:case a.o.V.$h.Us:b=b+g+"_="+_.uniqueId();break;case !0:case a.o.V.$h.vx:b=b+g+"_="+e.start+","+(_.isUndefined(e.stop)?"":e.stop)}return b},iI:function(b,a,e,c,g){for(var f=0;f<k.length;f++)if(_.isEqual(k[f].range,a)&&_.isEqual(k[f].url,b))return k[f].be.push(c),
k[f].Er++,null;for(f=0;f<h.length;f++)if(_.isEqual(h[f].range,a)&&_.isEqual(h[f].url,b))return h[f].be.push(c),h[f].Er++,null;e={url:b,range:a,qu:e,be:[c],Er:1,request:{}};if(0===k.length&&h.length<this.NE)return h.push(e),e.request=new this.Rr(b,a,g,this.withCredentials),e;k.push(e);return null},ol:function(b,a,c){var g=this.pq(b,a,this.qu);(b=this.iI(g,a,this.qu,c,this.Te))&&b.request.start(f(b));return function(){var b=e(g,a,h),c;-1!==b?(c=--h[b].Er,0===c&&h[b].request.abort()):(b=e(g,a,k),-1!==
b&&(c=--k[b].Er,0===c&&k.splice(b,1)))}},dB:function(){return{start:-l.prototype.Nj}},DJ:function(){var b=-(l.prototype.Nj+l.prototype.NF);return{start:b-l.prototype.MF,end:b}},ml:function(b){var e=this;e.mq=!0;var c=l.prototype.Nj;e.ol(e.url,e.dB(),function(g,f){function d(){var c=e.Xb.aB();e.ol(e.url,c,function(g,n){if(g)return a.utils.warn("Error loading central directory: "+g),b(g);n=a.Wi(n);if(n.length!==c.stop-c.start)return b("Invalid XOD file: Zip central directory data is wrong size! Should be "+
(c.stop-c.start)+" but is "+n.length);e.Xb.JC(n);e.xu=!0;e.mq=!1;return b(!1)})}if(g)return a.utils.warn("Error loading end header: "+g),b(g);f=a.Wi(f);if(f.length!==c)return b("Invalid XOD file: Zip end header data is wrong size!");try{e.Xb=new l(f)}catch(h){return b(h)}e.Xb.iK?e.ol(e.url,e.DJ(),function(c,g){if(c)return a.utils.warn("Error loading zip64 header: "+c),b(c);g=a.Wi(g);e.Xb.uK(g);d()}):d()})},qB:function(b){b(Object.keys(this.Xb.Bh))},KC:function(b,e){var g=this;if(!g.Xb.Xz(b))return delete g.Ge[b],
e(Error('File not found: "'+b+'"'),b);var f=g.Xb.Kq(b);if(f in g.Sg){var d=g.Ge[b];d.Ek=g.Sg[f];d.Ek.Rg++;d.cancel=d.Ek.cancel}else{var h=g.Xb.JI(b),l=g.ol(g.url,h,function(c,d){c?(a.utils.warn('Error loading part "'+b+'": '+c),g.ol(g.url,h,function(a,c){if(a)return e(a,b);g.LC(c,h,f,b,e)})):g.LC(d,h,f,b,e)}),k=g.Ge[b];k&&(k.started=!0,k.cancel=function(){k.Ek.Rg--;0===k.Ek.Rg&&(l(),delete g.Sg[f])},g.Sg[f]=new c,k.Ek=g.Sg[f],k.Ek.cancel=k.cancel)}},LC:function(b,a,e,c,g){if(b.length!==a.stop-a.start)return g(Error("Part data is wrong size!"),
c);do{if(!this.Sg[e])return;c=this.Sg[e].Rg;for(var f=a.IC.length,d=0;d<f;++d){var h=a.IC[d];g(!1,h.sj,b["string"===typeof b?"substring":"subarray"](h.start,h.stop),this.Xb.NB(h.sj));h.sj in this.Ge&&delete this.Ge[h.sj]}}while(c!==this.Sg[e].Rg);delete this.Sg[e]}};d.prototype=$.extend(new g,d.prototype);a.o.V.hm=d;a.o.V.Es=b})(window);
(function(a){function d(a,b){c.apply(this,[a]);this.url=a;-1===b.indexOf("/",b.length-1)&&(b+="/");this.path=b}var c=a.o.V.sf;d.prototype=new c;d.prototype=_(d.prototype).extend({request:function(c){var b=this;_(c).each(function(e){var c=-1!==e.indexOf("Thumbs/"),f=-1!==e.indexOf("Fonts/");if(-1!==e.indexOf("Images/")||c||f)return b.trigger("partReady",{qa:e,data:e,Hf:!0,Wc:!1,error:null,tb:!1});$.ajax({url:b.path+e,mimeType:"text/plain; charset=x-user-defined",xhr:function(){var b=$.ajaxSettings.xhr();
b&&(this.oJ=function(){return b.responseBody});return b},success:function(c){var g=a.utils.ie?this.oJ():c;c="";var f,d,n;if(a.utils.ie){g=(new a.VBArray(g)).toArray();n=g.length;f=Array(n);for(d=0;d<n;d++)f[d]=g[d]&255;g=n/1024+1;for(d=0;d<g;d++)c+=String.fromCharCode.apply(null,f.slice(1024*d,1024*d+1024))}else for(f=a.o.V.nu,d=0;d<g.length;){for(n=0;1024>n&&d<g.length;++n)f[n]=g.charCodeAt(d)&255,++d;c+=String.fromCharCode.apply(null,f.slice(0,n))}return b.trigger("partReady",{qa:e,data:c,Hf:!1,
Wc:!1,error:null,tb:!0})},error:function(a,c,g){a=Error(c+" "+g);return b.trigger("partReady",{qa:e,Hf:!1,Wc:!!a.fu,error:a})}})})},ml:function(a){a()}});a.o.V.Ms=d})(window);
(function(a){function d(a,f){f=f||{};this.url=a;this.filename=f.filename||a;this.Te=null;this.vN=!!f.useDownloader;this.withCredentials=!!f.withCredentials}d.prototype=$.extend({Lw:function(a){this.Te=a},getFileData:function(a){var f=new XMLHttpRequest,b=0===this.url.indexOf("blob:")?"blob":"arraybuffer";f.open("GET",this.url,!0);f.withCredentials=this.withCredentials;f.responseType=b;var e=this;if(this.Te)for(var g in this.Te)f.setRequestHeader(g,this.Te[g]);var d=/^https?:/i.test(this.url);f.addEventListener("load",
function(b){if(200===this.status||!d&&0===this.status)if(e.trigger("documentLoadingProgress",[b.loaded,b.loaded]),"blob"===this.responseType){b=this.response;var g=new FileReader;g.onload=function(b){a(new Uint8Array(b.target.result))};g.readAsArrayBuffer(b)}else a(new Uint8Array(this.response));else e.trigger("error",["pdfLoad",b.currentTarget.statusText])},!1);f.onprogress=function(b){e.trigger("documentLoadingProgress",[b.loaded,0<b.total?b.total:0])};f.addEventListener("error",function(){e.trigger("error",
["pdfLoad","Network failure"])},!1);f.send()},getFile:function(){if(a.utils.isJSWorker)return this.url;if(this.vN){var c={url:this.url};this.Te&&(c.customHeaders=this.Te);return c}return null}},a.utils.eventHandler);a.o.V.Ns=d})(window);
(function(a){function d(a,e,d,h){b.apply(this,[a,d,h]);this.url=a;this.stream=new f(a,e);this.Xb=new c;this.zC=createPromiseCapability()}function c(){this.buffer="";this.state=0;this.$w=4;this.Ig=null;this.rl=e.prototype.Ts;this.Bh={}}function f(b,e){var c=-1===b.indexOf("?")?"?":"&";switch(e){case !1:case a.o.V.$h.Us:this.url=b+c+"_="+_.uniqueId();break;default:this.url=b}this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");
this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=this.Yb.Uj}var b=a.o.V.sf,e=a.o.V.oi;f.prototype={start:function(b,a){var e=this,c=this.request,f;e.Tn=0;if(b)for(var d in b)this.request.setRequestHeader(d,b[d]);a&&(this.request.withCredentials=a);this.Pr=setInterval(function(){var b=0===window.document.URL.indexOf("file:///"),b=200===c.status||b&&0===c.status;if(4!==c.readyState||
b){try{c.responseText}catch(a){return}e.Tn<c.responseText.length&&(f=e.eL())&&e.trigger("data",f);0===c.readyState&&(clearInterval(e.Pr),e.trigger("done"))}else clearInterval(e.Pr),e.trigger("done","Error received return status "+c.status)},1E3);this.request.send(null);this.status=this.Yb.qm},eL:function(){var b=this.request,e=b.responseText;if(0!==e.length)if(this.Tn===e.length)clearInterval(this.Pr),this.trigger("done");else return e=Math.min(this.Tn+3E6,e.length),b=a.uB(b,this.Tn,!0,e),this.Tn=
e,b},abort:function(){clearInterval(this.Pr);var b=this;this.request.onreadystatechange=function(){a.utils.warn("StreamingRequest aborted");b.status=b.Yb.Wl;return b.trigger("aborted")};this.request.abort()},finish:function(){var b=this;this.request.onreadystatechange=function(){b.status=b.Yb.sE;return b.trigger("done")};this.request.abort()},Yb:{Uj:0,qm:1,sE:2,ERROR:3,Wl:4}};_(f.prototype).extend(Backbone.Events);c.prototype=new e;c.prototype=_(c.prototype).extend({processData:function(b){var a;
for(b=this.buffer+b;b.length>=this.rl;)switch(this.state){case 0:this.Ig=a=this.hL(b.slice(0,this.rl));if(a.Ml!==this.vK)throw Error("Wrong signature in local header: "+a.Ml);b=b.slice(this.rl);this.state=1;this.rl=a.pu+a.oj+a.qn+this.$w;this.trigger("header",a);break;case 1:if(this.Ig.name=b.slice(0,this.Ig.oj),this.Bh[this.Ig.name]=this.Ig,a=this.rl-this.$w,this.trigger("file",this.Ig.name,b.slice(this.Ig.oj+this.Ig.qn,a),this.Ig.Gu),b=b.slice(a),b.slice(0,this.$w)===this.wK)this.state=0,this.rl=
e.prototype.Ts;else return this.state=2,!0}this.buffer=b;return!1}});_(c.prototype).extend(Backbone.Events);d.prototype=new b;d.prototype=_(d.prototype).extend({Yr:function(b){var a=this;this.request([this.mf,this.fg,this.kf]);this.stream.bind("data",function(e){try{if(a.Xb.processData(e))return a.stream.finish()}catch(c){throw a.stream.abort(),a.nn(c),b(c),c;}});this.stream.bind("done",function(e){a.zC.resolve();e&&(a.nn(e),b(e))});this.Xb.bind("header",_(this.lL).bind(this));this.Xb.bind("file",
_(this.kL).bind(this));return this.stream.start(this.Te,this.withCredentials)},qB:function(b){var a=this;this.zC.promise.then(function(){b(Object.keys(a.Xb.Bh))})},xj:function(){return!0},request:function(){},lL:function(){},abort:function(){this.stream&&this.stream.abort()},kL:function(b,a,e){this.trigger("partReady",{qa:b,data:a,Hf:!1,Wc:!1,error:null,tb:e})}});a.o.V.Qx=d;a.o.V.nO=f})(window);
(function(a){function d(a){c.apply(this,arguments);this.db=a}var c=a.o.V.sf;d.prototype=new c;d.prototype=_(d.prototype).extend({request:function(a){var b=this;_(a).each(function(a){b.db.get(a,function(c,f,d){return c?b.trigger("partReady",{qa:a,error:c}):b.trigger("partReady",{qa:a,data:f,Hf:!1,Wc:!1,error:null,tb:d})})})},ml:function(a){a()}});a.o.V.sm=d})(window);
(function(a){function d(b,a,c,d){f.apply(this,arguments)}function c(b,e){this.url=b;this.range=e;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);a.Uint8Array&&(this.request.responseType="arraybuffer");this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");this.status=this.Yb.Uj}var f=a.o.V.hm;c.prototype=a.o.V.Es.prototype.extend(c);d.prototype={Rr:c,pq:function(b,a){return b+"/bytes="+a.start+","+(a.stop?a.stop:"")}};d.prototype=$.extend(new f,d.prototype);a.o.V.gE=
d;a.o.V.SN=c})(window);
(function(a){function d(b,a,e,c){f.apply(this,arguments)}function c(b,a){this.url=b;this.range=a;this.status=this.Yb.Uj}var f=a.o.V.hm,b=a.o.V.Es,e={};c.prototype={start:function(b){var c=this;e[this.range.start]={success:function(e){var f=atob(e),d,n=f.length;e=new Uint8Array(n);for(d=0;d<n;++d)e[d]=f.charCodeAt(d);f=e.length;d="";var q=0;if(a.utils.typedArrayApply)for(;q<f;)n=e.subarray(q,q+1024),q+=1024,d+=String.fromCharCode.apply(null,n);else for(n=Array(1024);q<f;){for(var k=0,r=Math.min(q+
1024,f);q<r;k++,q++)n[k]=e[q];d+=String.fromCharCode.apply(null,1024>k?n.slice(0,k):n)}c.success(d,b)},fail:function(){c.status=c.Yb.ERROR;b({code:c.status})}};var f=document.createElement("IFRAME");f.setAttribute("src",this.url);document.documentElement.appendChild(f);f.parentNode.removeChild(f);f=null;this.status=this.Yb.qm;c.Oq()}};c.prototype=b.prototype.extend(c);d.prototype={Rr:c,pq:function(b,a){return b+"#"+a.start+"&"+(a.stop?a.stop:"")}};d.prototype=$.extend(new f,d.prototype);a.o.V.im=
d;a.o.V.bO=c;a.o.V.im.rw=function(b,a){var c=e[a];delete e[a];c.success(b)};a.o.V.im.qw=function(b,a){var c=e[a];delete e[a];c.fail()}})(window);
(function(a){function d(b,a,e,c){f.apply(this,arguments)}function c(b,a){this.url=b;this.range=a;this.status=this.Yb.Uj}var f=a.o.V.hm,b=a.o.V.Es,e={};c.prototype={start:function(b){function a(){f.status=f.Yb.ERROR;b({code:f.status})}function c(a){var e=atob(a),n,d=e.length;a=new Uint8Array(d);for(n=0;n<d;++n)a[n]=e.charCodeAt(n);e=a.length;n="";for(var l=0;l<e;)d=a.subarray(l,l+1024),l+=1024,n+=String.fromCharCode.apply(null,d);f.success(n,b)}var f=this;"undefined"===typeof e[this.range.start]&&
(e[this.range.start]={success:c,fail:a},window.external.notify(this.url),this.status=this.Yb.qm);f.Oq()}};c.prototype=b.prototype.extend(c);d.prototype={Rr:c,pq:function(b,a){return b+"?"+a.start+"&"+(a.stop?a.stop:"")}};d.prototype=$.extend(new f,d.prototype);a.o.V.um=d;a.o.V.pO=c;a.o.V.um.rw=function(b,a){var c=e[a];delete e[a];c.success(b)};a.o.V.um.qw=function(b,a){var c=e[a];delete e[a];c.fail()}})(window);
(function(a){function d(){c.apply(this,arguments)}var c=a.o.V.hm;d.prototype=$.extend(new c,{dB:function(){return{start:this.EA-a.o.V.oi.prototype.Nj,stop:this.EA}},ml:function(a){var b=this;this.ol(this.url,{start:0,stop:1},function(e,g,d){if(e)return a(e);e=d.request.getResponseHeader("Content-Range");b.EA=e.split("/")[1];c.prototype.ml.call(b,a)})}});a.o.V.kE=d})(window);
(function(a){function d(b,e,c){this.hd=b;this.Gr=!1;this.cache=new f(a.Hs,b.xj());b.decrypt&&b.xj()&&(this.Ti=new f(a.Hs,b.xj()));this.K=e;this.Pg={};this.wo={};this.gq={};this.sq={};this.Fq=[];this.un={};this.Fe=c;this.Ir=_.bind(this.Ir,this);b.bind("partReady",this.Ir)}function c(b){window._indexedDB=window._indexedDB||window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;window._IDBTransaction=window._IDBTransaction||window.IDBTransaction||window.webkitIDBTransaction;
window._IDBTransaction&&!window._IDBTransaction.READ_WRITE&&(window._IDBTransaction.READ_WRITE="readwrite");this.name=b;this.db=null;this.fA="1";this.xq=this.Wc=!1}function f(b,a){this.zK=this.ho=b;this.queue=[];this.tI=a}function b(b,a){this.Qh=b;this.yC=a;this.be={};this.Wf={};this.Wc=!1;for(var e=0;e<a.length;e++)this.Wf[a[e]]=!0}function e(){this.index=0;this.data={functions:[],be:[],done:!1};this.Gb=[]}function g(b){this.data=b;this.Gb=[];this.Me=[]}function l(b,a){this.Qh=b;this.Za={};this.ad=
null;this.Pa=a}var k=a.o.V.Ms;a.dv=!1;a.o.sv=function(b,e){if(a.utils.hasObjectURL){"string"===typeof e&&(e=a.yJ(e));var c;try{c=new Blob([e],{type:b})}catch(g){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.hO||window.gO,window.BlobBuilder&&(c=new window.BlobBuilder,c.append(e),c=c.getBlob(b))}if(c)return URL.createObjectURL(c)}else return"data:"+b+";base64,"+btoa(e)};a.o.fB=function(b,e){return a.o.sv("image/"+("jpg"===b?"jpeg":b),e)};g.prototype={init:function(b){if(this.data){var e=
this;a.CJ(this.data,function(a){e.worker=a;e.Co();e.BQ=[];e.us=!1;e.data=null;b()},function(b,a){b?e.Me.push(b):e.us=!0;e.nP=a;var c=e.callback;e.callback=null;c&&c()})}else b()},cancel:function(){for(var b=0;b<this.Gb.length;b++){for(var a=0;a<this.Gb[b].saves;a++)this.Gb[b].restore();this.Gb[b].saves=0}this.Gb=[];this.worker&&this.worker.cancel()},clone:function(){return new g(this.data)},run:function(b,a,e){if(this.Me.length){-1===this.Gb.indexOf(b)&&this.Gb.push(b);e=Date.now()+e;do this.Co(),
runEval(this.Me.shift(),b,a);while(this.Me.length&&e>Date.now());return!1}return!0},Jr:function(){var b=this;this.worker||this.init(function(){b.Co()});return new Promise(function(a){b.us||b.Me.length?a():b.callback=a})},Co:function(){if(this.us)return!1;this.worker.FK()},Iu:function(b){return new Function("c","t",b)},gv:function(b){var a=this;this.init(function(){function e(){if(a.Me.length){a.Co();var c=a.Me.map(function(b){return a.Iu(b)});a.Me=[];b(c)}else b()}a.us||a.Me.length?e():a.callback=
e})}};e.prototype={clone:function(){var b=new e;b.data=this.data;b.index=0;return b},cancel:function(){for(var b=0;b<this.Gb.length;b++){for(var a=0;a<this.Gb[b].saves;a++)this.Gb[b].restore();this.Gb[b].saves=0}this.Gb=[]},Zz:function(b){return new g(b)},gv:function(b,e){function c(){f.gv(function(b){b?(g.data.functions=g.data.functions.concat(b),a.setImmediate(c,0)):(g.data.done=!0,e());b=g.data.be.length;if(0<b){for(var f=0;f<b;++f)g.data.be[f]();g.data.be=[]}})}this.data.done=!1;var g=this,f=
this.Zz(b);g.data.functions=[];c();this.index=0},Jr:function(){var b=this;return new Promise(function(a){b.data.done||b.index<b.data.functions.length?a():b.data.be.push(a)})},run:function(b,a,e){-1===this.Gb.indexOf(b)&&this.Gb.push(b);if(this.index<this.data.functions.length){e=Date.now()+e;var c=this.data.functions[this.index];do++this.index,c(b,a),c=this.data.functions[this.index];while(c&&e>Date.now());return!1}return!0},KL:g.prototype.KL};b.prototype={aK:function(){return 0===_(this.Wf).keys().length}};
f.prototype={getItem:function(b){return(b=this[b])?b:null},setItem:function(b,a,e){if(b in this)this.queue.splice(this.queue.indexOf(b),1),this.queue.push(b);else if(this.tI)this[b]={data:a,tb:e},this.queue.push(b);else if(a.length<this.zK/2){for(;this.ho<a.length;){var c=this.queue[0];this.ho+=this[c].data.length;delete this[c];this.queue.shift()}this.ho-=a.length;this[b]={data:a,tb:e};this.queue.push(b)}}};c.prototype={open:function(b,a){var e=this,c=window._indexedDB.open(e.name);if(_.isUndefined(c))a("User declined to increase space");
else{c.onsuccess=function(){e.db=c.result;if(e.db.setVersion&&e.db.version!==e.fA){var b=e.db.setVersion(e.fA);b.onsuccess=function(){e.db.objectStoreNames.contains(e.name)&&e.db.deleteObjectStore(e.name);e.db.createObjectStore(e.name,{keyPath:"partName"});b.result.oncomplete=g}}else g()};c.onupgradeneeded=function(b){e.db=b.target.result;e.db.objectStoreNames.contains(e.name)&&e.db.deleteObjectStore(e.name);e.db.createObjectStore(e.name,{keyPath:"partName"})};c.onerror=function(){a("Error opening database for offline mode")};
var g=function(){e.get("NumParts",function(c,g){if(c)e.xq=!1,b();else{var f=e.db.transaction([e.name]).objectStore(e.name).count();f.onsuccess=function(){e.xq=f.result===g;b()};f.onerror=function(){a("Error opening database for offline mode")}}})}}},ED:function(b,a,e,c){var g=this.db.transaction([this.name],window._IDBTransaction.READ_WRITE);g.oncomplete=function(){c&&c()};g.onerror=function(){c&&c();throw Error("Error adding "+b+" to the offline database");};g.objectStore(this.name).put({partName:b,
partData:a,compressed:e})},WM:function(b,a,e,c,g,f){function d(f){b.Pf(f,function(b){var e=a.indexOf(b.qa);-1<e&&delete a[e];l()||k.ED(b.qa,b.data,b.tb,function(){l()||(z++,g(z/E),z===E&&(k.xq=!0,c()))})},!0,e)}function l(){k.Wc&&!B&&(B=!0,f(a),c());return B}var k=this;k.Wc=!1;c=c||function(){};g=g||function(){};f=f||function(){};var z=0,E=a.length,B=!1;k.ED("NumParts",E+1,!1,function(){for(var b=0;b<E;b++)d(a[b])})},jH:function(){this.Wc=!0},get:function(b,a){var e=this.db.transaction([this.name]).objectStore(this.name).get(b);
e.onsuccess=function(){e.result?a(!1,e.result.partData,e.result.compressed):a("Part "+b+" not found in the offline database")};e.onerror=function(){a("Error getting "+b+" from offline database")}},jj:function(){return this.xq}};d.prototype={Pf:function(b,e,c,g){function f(b){b=$.extend({},b);k.Ti&&g&&(b.data=k.Ti.getItem(b.qa).data);e(b)}var d=this.cache.getItem(b);if(!g&&null!==d){var l=d.tb;d.tb&&!c?(c=a.o.V.oi.inflate(d.data),l=!1):c=d.data;e({qa:b,data:c,Hf:!0,Wc:!1,error:null,tb:l});return e}if(this.Ti&&
g&&(l=this.Ti.getItem(b)))return e({qa:b,data:l.data,Hf:!0,Wc:!1,error:null,tb:l.tb}),e;var k=this;this.bind(b,f);this.gq[b]=!0;this.sq[b]=!c;this.hd.request([b],g);return f},Ir:function(b){if(b.error)console.error("Error reading part "+b.qa+": "+b.error),this.trigger(b.qa,{qa:b.qa,error:b.error}),this.unbind(b.qa);else{var e=this,c=function(c){var g=b.qa.match(/\.([a-zA-Z]+)$/)[1].toLowerCase();"jpg"!==g&&"png"!==g&&(c=a.Wi(c));b.kC||(e.cache.setItem(b.qa,c,b.tb),e.Ti&&e.Ti.setItem(b.qa,b.data,b.tb));
e.gq[b.qa]&&((g=b.tb)&&e.sq[b.qa]&&(c=a.o.V.oi.inflate(c),g=!1),delete e.gq[b.qa],delete e.sq[b.qa],e.trigger(b.qa,{qa:b.qa,data:c,Hf:!1,Wc:!1,error:null,tb:g}),e.unbind(b.qa),delete e._callbacks[b.qa])};this.hd.decrypt&&!b.kC?this.hd.dA?c(this.hd.decrypt(b.data,this.hd.dn,b.qa)):this.hd.decrypt(b.data,this.hd.dn,b.qa,c):c(b.data)}},Fv:function(b){return this.Zv?"Thumbs/"+(b+1)+".jpg":"Thumbs/"+(b+1)+".png"},Ev:function(b,a,e){var c=this,g=!1,f=this.Pf(this.Fv(b),function(b){g=b.Hf;c.UC(a);e(b)});
g||(this.wo[a]={lH:f,gd:b})},pB:function(b,e){var c=this,g=this.K[b].ko[0];if(b in c.un)e(c.un[b].clone());else return c.Pf(g,function(g){if(g.error)return console.error("Failed to load part for page "+b+": "+g.error);c.uI(g.data,function(g){if(a.Oj){if(c.Fq.length>=a.Oj){var f=c.Fq.shift();delete c.un[f]}c.Fq.push(b);c.un[b]=g}e(g.clone())})},!0)},xv:function(e,c,g){function f(b){if(b.error)return console.error("Failed to load part for page "+e+": "+b.error);delete B.Wf[z];u.uh&&0!==u.bq.length||
(u.bq=k.QK(b.qa,b.data).map(function(b){b.PageNumber=e+1;return b}));d()}function d(){if(B.aK()){if(null===C.ad)throw Error("Functions have not been generated yet");B.Wc||y||(delete k.Pg[e],k.trigger(e,!1,C),g(!1,C),y=!0,k.unbind(e+""),k._callbacks&&delete k._callbacks[e+""])}}var k=this;this.Pg[e]=this.Pg[e]||{Al:{}};var r=0<Object.keys(this.Pg[e].Al).length;this.Pg[e].Al[c]=null;if(r)return a.utils.warn("Duplicate request for page "+e),r=function(b,a){var e=$.extend({},a);e.ad=a.ad.clone();e.Za=
$.extend(!0,{},e.Za);g(b,e)},this.Pg[e].Al[c]=r,this.bind(e,r);var u=k.K[e],x=u.ko[2],z=u.ko[1],E=u.ko[0],B;B=this.Gr?new b(e,[E,z,x]):new b(e,[E,x]);this.Pg[e].request=B;var w=B.be,y=!1,C=new l(e,k);w[x]=k.Pf(x,function(b){if(b.error)return console.error("Failed to load part for page "+e+": "+b.error);b=k.TK(b.qa,b.data);delete B.Wf[x];_(b).each(function(b){B.Wf[b.slice(1)]=!0});_(b).each(function(b){b=b.slice(1);var c=-1!==b.indexOf(".odttf")||-1!==b.indexOf(".otf"),g=-1!==b.indexOf(".png")||-1!==
b.indexOf(".jpg");a.dv&&c?(delete B.Wf[b],C.Za[b]=k.Ni(b)):c&&!k.Fe.kr(k.Ni(b).name)?(B.yC.push(b),w[b]=k.Pf(b,function(a){if(a.error)return console.error("Failed to load part for page "+e+": "+a.error);delete B.Wf[b];C.Za[b]=k.Ni(a.qa,a.data);d()})):g&&a.dv?(delete B.Wf[b],setTimeout(function(){k.Pf(b,function(b){b=k.Ni(b.qa,b.data);var a=new Image;a.src=b.data;$(a).css({position:"absolute","z-index":8,height:"100%",width:"100%"}).prependTo("#pageContainer"+e)})},0)):(delete B.Wf[b],C.Za[b]=k.Ni(b),
d())});d()});this.Gr&&(w[z]=k.Pf(z,f));w[E]=this.pB(e,function(b){C.ad=b;delete B.Wf[E];d()})},uI:function(b,e){if(a.Oj){var c=new a.o.jE;c.gv(b,function(){});e(c)}else e(new a.o.iE(b))},Lz:function(b,a){var e=this.Pg[b];if(e){this.hd.uu(e.request.yC);var c=e.Al[a];c&&this.unbind(b+"",c);delete e.Al[a];if(0===Object.keys(e.Al).length){e.Wc=!0;var e=e.be,g;for(g in e)e.hasOwnProperty(g)&&this.unbind(g,e[g]);delete this._callbacks[b+""];delete this.Pg[b]}}},kH:function(b){var a=this.wo[b];a&&(this.hd.uu([this.Fv(a.gd)]),
this.UC(b))},UC:function(b){var a=this.wo[b];a&&(this.unbind(this.Fv(a.gd),a.lH),delete this.wo[b])},Ni:function(b,e){var c,g=b,f=b.match(/\.([a-zA-Z]+)$/)[1].toLowerCase();switch(f){case "png":case "jpg":b="i"+b.match(/Images\/(\d+)/)[1];if(e){c=k&&this.hd instanceof k?this.hd.path+e:a.o.fB(f,e);break}break;case "odttf":var d;e&&(d=this.PH(b,e));b="f"+parseInt(b.substr(34,8),16);e&&(c=new a.ig.FontFace(b,d,"opentype"),this.Fe.Wv(b)||c.$e());f="font";break;case "otf":b=b.substr(0,b.length-4);b="f"+
parseInt(b.substr(6),10);if(e){if(k&&this.hd instanceof k)f=this.hd.path;else throw Error("Use an external part retriever for documents with external fonts");c=new a.ig.FontFace(b,null,"opentype",f+e);this.Fe.Wv(b)||c.$e()}f="font";break;default:c=e}return{name:b,type:f,data:c,qa:g}},TK:function(b,e){var c=[],g=new a.qe(e);for(g.la();g.advance();){var f=g.J("Target");null!==f?c.push(f):a.utils.warn("Corrupt rels part: %s",b)}0<c.length&&_(c).last().match(/Thumbs/)&&c.pop();return c},QK:function(b,
e){var c=[],g=new a.qe(e);for(g.la();g.advance();){for(var f=g.sa(),d=g.J("BBox"),d=d.split(","),l=0;4>l;++l)d[l]=parseFloat(d[l]);"Hyperlink"===f?c.push(new a.Annotations.md({actions:{U:[{name:"URI",uri:g.J("Target")}]},rect:d})):"Link"===f&&c.push(new a.Annotations.md({actions:{U:[{name:"GoTo",dest:{page:g.J("ID"),fit:"XYZ",top:g.J("Vpos"),left:g.J("Hpos")}}]},rect:d}))}return c},PH:function(b,a){b=b.split("/")[1].split(".")[0];for(var e=b.split("-"),c=[],g=16,f=0;f<e.length;++f)for(var d=e[f],
l=0;l<d.length;l+=2)c[--g]=parseInt(d.slice(l,l+2),16);for(e=0;16>e;++e)g=c[e],c[e]=String.fromCharCode(a.charCodeAt(e)^g),c[e+16]=String.fromCharCode(a.charCodeAt(e+16)^g);return a=c.join("")+a.slice(32)}};_(d.prototype).extend(Backbone.Events);a.o.V.UE=d;a.o.YE=c;a.o.wE=g;a.o.xE=e})(window);
(function(a){function d(){this.index=0;this.data={functions:[],be:[],done:!1};this.Gb=[];this.Yu=new f}function c(b){this.data=b;this.Gb=[];this.Me=[];this.Yu=new f}function f(){this.Mg=0;this.Za=[];this.Ng=[0,0]}f.prototype={lo:function(b,a,c){this.m_c=a;this.Ab=c;a=b.operators;b=b.data;for(var f=a.length,d=0;d<f;++d)c=a[d],this[c].apply(this,b[d]);this.sr=null},save:function(){this.m_c.save()},restore:function(){this.m_c.restore()},transform:function(b,a,c,f,d,h){this.m_c.transform(b,a,c,f,d,h)},
translate:function(b,a){this.m_c.translate(b,a)},lM:function(b){this.m_c.lineWidth=b},jM:function(b){this.m_c.lineCap=b},TA:function(b){var a=b.type;if(a)switch(a){case 1:b=this.createPattern(b);break;case 2:b=this.createLinearGradient(b);break;case 3:b=this.createRadialGradient(b);break;case 4:b=this.AH(b)}return b},EM:function(b){this.m_c.strokeStyle=this.TA(b)},dM:function(b){this.m_c.fillStyle=this.TA(b)},EL:function(b){var a=this.mJ(b);b=a.yK;for(var a=a.xK,c,f=b.length,d=0;d<f;++d)c=b[d],this[c].apply(this,
a[d])},fM:function(b){this.m_c.globalAlpha=b},$z:function(b,a){for(var c=a.length,f=0;f<c;++f){var d=a[f],h=a[++f];b.addColorStop(d,h)}},DH:function(b){var e=this.m_c,c=this.Ab,f=b.operators,d=a.asc(this.Ab)*b.scale,h=b.w*d,m=b.h*d;2>d*b.minwh&&(d=2/b.minwh,h=b.w*d,m=b.h*d);var p=document.createElement("canvas");p.width=h;p.height=m;var h=p.getContext("2d"),m=b.x||b.y,n={};m&&(n.x=b.x,n.y=b.y);n.s=1/d;h.scale(d,d);m&&h.translate(-b.x,-b.y);b.strokeAdjust&&(this.m_c.lineWidth=d*b.strokeAdjust);this.lo(f,
h,this.Ab);this.m_c=e;this.Ab=c;return{canvas:p,transform:n}},createPattern:function(b){var a;this.sr&&b===this.sr.style?a=this.sr:(a=this.DH(b),a.style=b,a.pattern=this.m_c.createPattern(a.canvas,b.tm),this.sr=a);b=a.transform;b.x&&this.m_c.translate(b.x,b.y);this.m_c.scale(b.s,b.s);return a.pattern},createLinearGradient:function(b){var a=this.m_c.createLinearGradient(b.x0,b.y0,b.x1,b.y1);this.$z(a,b.stops);return a},createRadialGradient:function(b){var a=this.m_c.createRadialGradient(b.x0,b.y0,
0,b.x1,b.y1,b.r);this.$z(a,b.stops);return a},AH:function(b){return this.m_c.createPattern(a.ci[b.name],b.tm)},NG:function(b){this.Mg+=b},HM:function(b){this.Mg=b},addColorStop:function(b,a){this.eQ.addColorStop(b,a)},beginPath:function(){this.m_c.beginPath()},closePath:function(){this.m_c.closePath()},fill:function(b){b?this.m_c.fill(b):this.m_c.fill()},stroke:function(){this.m_c.stroke()},clip:function(b){b?this.m_c.clip(b):this.m_c.clip()},moveTo:function(b,a){this.m_c.moveTo(b,a)},lineTo:function(b,
a){this.m_c.lineTo(b,a)},quadraticCurveTo:function(b,a,c,f){this.m_c.quadraticCurveTo(b,a,c,f)},bezierCurveTo:function(b,a,c,f,d,h){this.m_c.bezierCurveTo(b,a,c,f,d,h)},font:function(b){this.m_c.font=b},fillText:function(b,a,c){this.m_c.fillText(b,this.Mg+a,c)},measureText:function(b){this.Mg+=this.m_c.measureText(b).width},drawImage:function(b){this.m_c.drawImage(window.ci[b],0,0)},aI:function(b,e){for(var c=window.ci[b],f=a.asc(this.Ab)*e,f=Math.log(1/f)*a.o.ku,d=1,h=1;h<f;++h){var m=document.createElement("canvas");
m.width=.5*c.width;m.height=.5*c.height;m.getContext("2d").drawImage(c,0,0,m.width,m.height);c=m;d*=2}this.m_c.scale(d,d);this.m_c.drawImage(c,0,0)},kM:function(b){this.m_c.lineJoin=b},gM:function(b){this.m_c.globalCompositeOperation=b},LG:function(b,a,c){this.Za.push({yK:a,xK:c,name:b})},mJ:function(b){var a=this.Za.length-1;do{var c=this.Za[a];if(c.name===b)return c}while(0<=--a)},vL:function(){this.Za.pop()},zL:function(b,e,c,f){var d=this.Ab.W({x:e.x1,y:e.y1}),h=d.x,d=d.y;e=this.Ab.W({x:e.x2,
y:e.y2});var m=e.x,p=e.y;e=[];var n=this.Ng[0],q=this.Ng[1],v=n+this.m_c.canvas.width,r=q+this.m_c.canvas.height;h<m?(h<n&&(h=n),m>v&&(m=v),e[0]=Math.floor(h),e[2]=Math.ceil(m-h)):(m<n&&(m=n),h>v&&(h=v),e[2]=Math.ceil(h-m),e[0]=Math.floor(m));d<p?(d<q&&(d=q),p>r&&(p=r),e[1]=Math.floor(d),e[3]=Math.ceil(p-d)):(p<q&&(p=q),d>r&&(d=r),e[3]=Math.ceil(d-p),e[1]=Math.floor(p));0<e[2]&&0<e[3]&&(h=this.m_c,d=document.createElement("canvas"),d.width=e[2],d.height=e[3],m=this.Ng,this.Ng=e,p=d.getContext("2d"),
p.translate(-e[0],-e[1]),p.transform(this.Ab.m_a,this.Ab.m_b,this.Ab.m_c,this.Ab.m_d,this.Ab.m_h,this.Ab.m_v),p.transform.apply(p,b.mtx),this.lo(b,p,this.Ab),f&&(b=document.createElement("canvas"),b.width=e[2],b.height=e[3],p=b.getContext("2d"),p.beginPath(),p.moveTo(0,0),p.lineTo(e[2],0),p.lineTo(e[2],e[3]),p.lineTo(0,e[3]),p.closePath(),p.translate(-e[0],-e[1]),p.transform(this.Ab.m_a,this.Ab.m_b,this.Ab.m_c,this.Ab.m_d,this.Ab.m_h,this.Ab.m_v),p.transform.apply(p,f.mtx),this.lo(f,p,this.Ab),p.globalCompositeOperation=
"source-in",p.setTransform(1,0,0,1,0,0),p.drawImage(d,0,0),d=b),this.Ng=m,"source-over"===c||a.utils.specialBlendSupported?(h.save(),h.globalCompositeOperation=c,h.setTransform(1,0,0,1,e[0]-this.Ng[0],e[1]-this.Ng[1]),h.drawImage(d,0,0),h.restore()):p.RO(h,c,{x:e[0]-this.Ng[0],y:e[1]-this.Ng[1]}),this.m_c=h)},bN:function(b){this.m_c.tm(b)},miterLimit:function(b){this.m_c.miterLimit=b},GH:function(){this.m_c.cgb()},IH:function(){this.m_c.cge()},setTransform:function(b,a,c,f,d,h){this.m_c.setTransform(b,
a,c,f,d,h)},scale:function(b,a){this.m_c.scale(b,a)},oI:function(b,a,c){this.m_c.xw(b+" ",this.Mg+a,c)},fillRect:function(b,a,c,f){this.m_c.fillRect(b,a,c,f)},pI:function(b,a,c){this.m_c.xcw(b+" ",this.Mg+a,c)},fillTextCustom:function(b,a,c){this.m_c.xc(b,this.Mg+a,c)}};f.prototype[0]=f.prototype.save;f.prototype[1]=f.prototype.restore;f.prototype[2]=f.prototype.transform;f.prototype[3]=f.prototype.translate;f.prototype[4]=f.prototype.lM;f.prototype[5]=f.prototype.jM;f.prototype[6]=f.prototype.EM;
f.prototype[7]=f.prototype.dM;f.prototype[8]=f.prototype.fM;f.prototype[9]=f.prototype.LG;f.prototype[10]=f.prototype.vL;f.prototype[11]=f.prototype.NG;f.prototype[12]=f.prototype.EL;f.prototype[13]=f.prototype.beginPath;f.prototype[14]=f.prototype.closePath;f.prototype[15]=f.prototype.fill;f.prototype[16]=f.prototype.stroke;f.prototype[17]=f.prototype.clip;f.prototype[18]=f.prototype.moveTo;f.prototype[19]=f.prototype.lineTo;f.prototype[20]=f.prototype.quadraticCurveTo;f.prototype[21]=f.prototype.bezierCurveTo;
f.prototype[22]=f.prototype.font;f.prototype[23]=f.prototype.fillText;f.prototype[24]=f.prototype.measureText;f.prototype[25]=f.prototype.HM;f.prototype[26]=f.prototype.miterLimit;f.prototype[27]=f.prototype.kM;f.prototype[28]=f.prototype.drawImage;f.prototype[29]=f.prototype.setTransform;f.prototype[30]=f.prototype.scale;f.prototype[31]=f.prototype.oI;f.prototype[32]=f.prototype.GH;f.prototype[33]=f.prototype.IH;f.prototype[34]=f.prototype.gM;f.prototype[35]=f.prototype.bN;f.prototype[36]=f.prototype.zL;
f.prototype[37]=f.prototype.fillRect;f.prototype[39]=f.prototype.pI;f.prototype[38]=f.prototype.fillTextCustom;c.prototype={clone:function(){return new c(this.data)},run:function(b,a,c){return this.Me.length?(c&&this.Co(),-1===this.Gb.indexOf(b)&&this.Gb.push(b),this.m_c=b,this.Ab=a,this.Yu.lo(this.Me.shift(),b,a),!1):this.cv=!0},Iu:function(b){return b}};c.prototype=$.extend(Object.create(a.o.wE.prototype),c.prototype);d.prototype={Zz:function(b){return new c(b)},clone:function(){var b=new d;b.data=
this.data;b.index=0;return b},run:function(b,a){var c=this.data.functions[this.index];this.index++;-1===this.Gb.indexOf(b)&&this.Gb.push(b);return c?(this.Yu.lo(c,b,a),!1):!0}};d.prototype=$.extend(Object.create(a.o.xE.prototype),d.prototype);a.o.WL=function(b){!0===b&&(b=1.4);a.o.ku=b;f.prototype[28]=b?f.prototype.aI:f.prototype.drawImage};a.o.iE=c;a.o.jE=d})(window);
(function(a){function d(){this.fonts=[]}function c(b,a,e,c){this.url=_.isUndefined(c)?["data:",this.CK[e],";base64,",btoa(a)].join(""):"'"+c+"'";this.url=["url(",this.url,")"].join("");this.JL=["@font-face { font-family:'",b,"';src:",this.url,"}"].join("");this.name=b}document.head||(document.head=document.getElementsByTagName("head")[0]);a.$g={};var f=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");
c.prototype={ax:null,styleSheet:null,CK:{woff:"application/x-font-woff",opentype:"font/opentype",sfnt:"application/font-sfnt"},$e:function(){if(!a.$g[this.name]){if(!this.styleSheet){var b=document.createElement("style");document.head.appendChild(b);c.prototype.styleSheet=b.sheet;c.prototype.ax=b}b=this.styleSheet.cssRules.length;this.styleSheet.insertRule(this.JL,b);a.$g[this.name]=this.styleSheet.cssRules[b]}},remove:function(){if(!a.utils.ie){var b=a.$g[this.name];if(!b)throw Error("CSS @font-face rule is not in use");
var e,c=this.styleSheet.cssRules.length,f=this.styleSheet.cssRules;for(e=0;e<c;e++)if(f[e]===b){this.styleSheet.deleteRule(e);delete a.$g[this.name];return}throw Error("CSS @font-face stylesheet has been altered externally");}}};if("undefined"!==typeof document&&document.fonts)try{var b=new c("lt"+Date.now()+"0",f,"opentype");"error"===(new window.FontFace(b.name,b.url,{})).status?a.Sk=!1:a.Sk=!0}catch(g){a.Sk=!1}else a.Sk=!1;d.prototype={$M:1,IG:function(b){this.fonts.push(b)},GJ:function(){return 0!==
this.fonts.length},bC:function(b){function e(b,a){return b.charCodeAt(a)<<24|b.charCodeAt(a+1)<<16|b.charCodeAt(a+2)<<8|b.charCodeAt(a+3)&255}function c(b,a){q++;30<q?(console.warn("Load test font never loaded."),a()):(n.font="30px "+b,n.fillText(".",0,20),0<n.getImageData(0,0,1,1).data[3]?a():setTimeout(_.bind(c,null,b,a)))}var f=this,d;if(a.Sk){var p;d=document.createElement("canvas");d.width=1;d.height=1;var n=d.getContext("2d"),q=0,v="lt"+Date.now()+this.$M++,r=x,r=r.substr(0,976)+v+r.substr(976+
v.length),u=e(r,16);d=0;for(p=v.length-3;d<p;d+=4)u=u-1482184792+e(v,d)|0;d<v.length&&(u=u-1482184792+e(v+"XXX",d)|0);var r=r.substr(0,16)+(String.fromCharCode(u>>24&255)+String.fromCharCode(u>>16&255)+String.fromCharCode(u>>8&255)+String.fromCharCode(u&255))+r.substr(20),x=new a.ig.FontFace(v,r,"opentype");x.$e();r=[];d=0;for(p=this.fonts.length;d<p;d++)r.push(this.fonts[d].name);r.push(v);var z=document.createElement("div");z.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");
d=0;for(p=r.length;d<p;++d)u=document.createElement("span"),u.textContent="Hi",u.style.fontFamily=r[d],z.appendChild(u);document.body.appendChild(z);c(v,function(){document.body.removeChild(z);x.remove();for(var a=0;a<f.fonts.length;a++)if(b(f.fonts[a].name),!f.fonts[a].url.startsWith("url(data")){var e=f.fonts[a].url;if(e.startsWith("url('")){if(8>e.length){console.warn("Invalid font ObjectURL.");return}e=e.substring(5,e.length-2)}URL.revokeObjectURL(e);f.fonts[a].url=null}f.fonts=[]})}else{for(d=
0;d<f.fonts.length;d++)setTimeout(b,0,f.fonts[d].name);f.fonts=[]}},pK:function(b,a,e){var c=document.createElement("div");c.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");c.innerHTML=""+('<span style="font-family:'+b+'">" + testString +"</span>');document.body.appendChild(c);$.get(a,function(){setTimeout(function(){e();document.body.removeChild(c)},300)})}};if(a.Sk){var e=c,c=function(){e.apply(this,arguments);this.ev=new window.FontFace(this.name,
this.url,{})};c.prototype=e.prototype;$.extend(c.prototype,{$e:function(){document.fonts.add(this.ev);a.$g[this.name]=this},remove:function(){document.fonts["delete"](this.ev)}});$.extend(d.prototype,{bC:function(b){this.fonts.forEach(function(a){a.ev.load().then(function(){b(a.name);if(!a.url.startsWith("url(data")){var e=a.url;if(e.startsWith("url('")){if(8>e.length){console.warn("Invalid font ObjectURL.");return}e=e.substring(5,e.length-2)}URL.revokeObjectURL(e);a.url=null}})["catch"](function(e){b(a.name);
console.warn("loadFonts: font failed to load: "+a.name);e&&console.warn("loadFonts: exception is: "+e.message)})})}})}a.ig={FontFace:c,vE:d}})(window);
(function(a){function d(a,b,e){this.page=a;this.Ld=b;this.Fe=e;this.DA=b.Pa.hd?b.Pa.hd.path:void 0;this.mj=this.paused=!1}var c={Jf:0,ce:1,Lk:2,Ue:3};a.asc=function(a){var b=.707106781*a.m_a+.707106781*a.m_b;a=.707106781*a.m_c+.707106781*a.m_d;return Math.sqrt(b*b+a*a)};d.prototype={pause:function(){this.paused=!0;this.Au()},Au:function(){this.vr=!1;a.clearImmediate(this.cC)},uH:function(f,b,e,g,d,k,h,m){function p(){C=!0;q&&q.Jr().then(function(){if(n.abort){if(y)return x&&(x=!1,g(v)),q=n.resume=
null,n.Au(),n.abort&&n.abort(),e(v);n.abort&&((z=5<++B)&&E&&x&&m&&(x=!1,g(v)),y=q.run(r,u,50),C=!1,n.vr=!1,n.paused||n.ks())}})}var n=this;b=b||c.Jf;e=e||function(){};var q=this.Ld.ad;d&&0<d&&(d=Math.round(d));f=a.o.Ja.qo(this.page,f||1,b,k,d,h);var v=f.canvas,r=f.ctx,u=f.t,x=void 0!==g,z=!1,E=!1,B=0,w=setTimeout(function(){E=!0;z&&x&&m&&(x=!1,g(v))},3E3);n.abort=function(){C=!1;n.Au();n.cC=null;n.resume=null;q&&(q.cancel(),q=null);n.Ld.ad=null;clearTimeout(w);n.ks=null;_(n.Ld.Za).each(function(b){switch(b.type){case "png":case "jpg":b&&
b.data&&!b.data.startsWith("url(data")&&(URL.revokeObjectURL(b.data),b.data=null);break;case "font":if(b&&b.data&&b.data.url&&!b.data.url.startsWith("url(data")){var a=b.data.url;if(a.startsWith("url('"))if(8>a.length){console.warn("Invalid font ObjectURL.");break}else a=a.substring(5,a.length-2);URL.revokeObjectURL(a);b.data.url=null}}});n.abort=null};var y=!1;n.resume=function(){!1!==C||n.vr||n.ks();n.paused=!1};n.ks=function(){n.vr=!0;n.cC=a.setImmediate(p,0)};var C=!1;n.vr=!1;n.paused||n.ks()},
vB:function(a){var b=[];if(a)for(var e=0;e<a.length;++e)b[e]=this.Ld.Pa.Ni(a[e]);else _(this.Ld.Za).each(function(a){b.push(a)});return b},tK:function(c,b,e){function g(b){var e=h.Fe.kr(b.name);d(b);switch(b.type){case "png":case "jpg":if(a.ci[b.name]){b.data.startsWith("data")||URL.revokeObjectURL(b.data);if(e){k(b.name);break}a.ci[b.name].an.push(function(){k(b.name)});break}var c=new Image;c.onload=function(){c.src.startsWith("data")||URL.revokeObjectURL(c.src);for(var b=0;b<this.an.length;++b)this.an[b]();
c.an=[];c=c.onload=c.onerror=null};c.onerror=function(){a.utils.warn("img error "+b.name);c.src.endsWith("Resources/1px.png")||(c.src="Resources/1px.png")};c.hres=b.hres;c.vres=b.vres;a.ci[b.name]=c;c.an=[];c.an[0]=function(){k(b.name)};c.gd=h.Ld.Qh;c.src=b.data;break;case "font":_.isUndefined(h.DA)?p.IG(b.data):p.pK(b.name,h.DA+b.qa,function(){k(b.name)});break;default:a.utils.warn("unknown resource type: "+b.type),k(b.name)}}function d(b){e&&h.Fe.EG(b.name)}function k(a){h.Fe.loaded(a);if(h.mj&&
1>--m)return h.mj=!1,c(b[0])}if(this.mj)throw Error("Multiple calls to loadResource");var h=this;b=this.vB(b);var m=b.length;this.mj=!0;var p=new a.ig.vE,n=!0;_(b).each(function(b){n=!1;h.Fe.kr(b.name)?(d(b),k(b.name)):b.data?g(b):h.Ld.Pa.Pf(b.qa,function(a){h.Fe.kr(b.name)?(d(b),k(b.name)):g(h.Ld.Pa.Ni(a.qa,a.data))})});p.GJ()&&p.bC(_(k).bind(this));n&&(c(),this.mj=!1)},Kz:function(){this.mj&&(this.mj=!1)},Ke:function(c){var b=this;b.Kz();c=this.vB(c);_(c).each(function(e){if("font"!==e.type&&b.Fe.release(e.name))switch(e.type){case "png":case "jpg":delete a.ci[e.name];
break;case "font":e.data&&e.data.remove()}})}};a.Oe=a.Oe||{};a.Oe.nF=d;a.Oe.Ys=function(){var a={};return{EG:function(b){b in a?a[b].c++:a[b]={c:1,l:!1}},loaded:function(b){b in a&&(a[b].l=!0)},Wv:function(b){return b in a?!0:!1},kr:function(b){return b in a?a[b].l:!1},release:function(b){if(!(b in a))return!1;--a[b].c;return a[b].c?!1:(delete a[b],!0)}}};a.o.Ea=c;a.Pc=function(f,b,e,g,d,k){g=g||{x:0,y:0};e.width?(e.x1=0,e.y1=0,e.x2=e.width,e.y2=e.height):(e.width=e.x2-e.x1,e.height=e.y2-e.y1);var h=
new XODText.Ia;_.isUndefined(d)&&(d=!0);d&&(d=k||a.utils.getCanvasMultiplier(),f*=d,g.x*=d,g.y*=d);h.Qa(f,0,0,f,g.x,g.y);f=new XODText.Ia;b===c.Jf?f.Qa(1,0,0,1,-e.x1,-e.y1):b===c.ce?f.Qa(1,0,0,1,e.y2,-e.x1):b===c.Lk?f.Qa(1,0,0,1,e.x2,e.y2):b===c.Ue&&f.Qa(1,0,0,1,-e.y1,e.x2);h.concat(f);h.concat(XODText.Ia.yj(Math.PI/2*(4-b)));return h}})(window);
(function(a){a.Actions||(a.Actions={});var d=a.Actions;d.Action=function(a){_.isObject(a)&&_.isString(a.name)&&(this.qd=a.name)};d.Action.prototype={elementName:null,onTriggered:function(){},serialize:function(){return document.createElementNS("",this.elementName)},deserialize:function(){}};Object.defineProperties(d.Action.prototype,{name:{get:function(){return this.elementName}}});d.qf=function(a){d.Action.call(this,a);this.xm=new d.qf.Ks;_.isObject(a)&&this.xm.set(a.dest)};d.qf.prototype={elementName:"GoTo",
onTriggered:function(a,b,e){d.Action.prototype.onTriggered.call(this,a,b,e);this.xm.XG(e)},serialize:function(a){var b=d.Action.prototype.serialize.call(this,a);$(b).append(this.xm.serialize(a));return b},deserialize:function(a,b,e){d.Action.prototype.deserialize(a,b);this.xm.deserialize(a,b,e)}};d.qf.prototype=$.extend(Object.create(d.Action.prototype),d.qf.prototype);Object.defineProperties(d.qf.prototype,{dest:{get:function(){return this.xm}}});d.qf.Ks=function(a){this.Jm=1;this.ym="Fit";this.sh=
this.vf=this.Af=this.Zd=this.Xd=null;this.set(a)};d.qf.Ks.prototype={set:function(a){if(_.isObject(a)){_.isUndefined(a.page)||(this.Jm=Number(a.page));var b=a.fit;_.isString(b)&&(this.ym=b);switch(b){case "XYZ":_.isUndefined(a.left)||(this.Xd=Number(a.left));_.isUndefined(a.top)||(this.Zd=Number(a.top));_.isUndefined(a.zoom)||(this.sh=Number(a.zoom));break;case "FitBH":case "FitH":_.isUndefined(a.top)||(this.Zd=Number(a.top));break;case "FitBV":case "FitV":_.isUndefined(a.left)||(this.Xd=Number(a.left));
break;case "FitR":_.isUndefined(a.left)||(this.Xd=Number(a.left));_.isUndefined(a.top)||(this.Zd=Number(a.top));_.isUndefined(a.right)||(this.Af=Number(a.right));_.isUndefined(a.bottom)||(this.vf=Number(a.bottom));a=_.min([this.Xd,this.Af]);var b=_.min([this.Zd,this.vf]),e=_.max([this.Xd,this.Af]),c=_.max([this.Zd,this.vf]);this.Zd=b;this.Xd=a;this.vf=c;this.Af=e}}},serialize:function(a){var b=document.createElementNS("","Dest"),e=document.createElementNS("",this.ym),c=this.Zd||0,d=this.Xd||0,k=this.vf||
0,h=this.Af||0;a=a.inverse();d=a.W({x:d,y:c});k=a.W({x:h,y:k});c=_.isNull(this.Zd)?null:d.y;d=_.isNull(this.Xd)?null:d.x;h=_.isNull(this.Af)?null:k.x;k=_.isNull(this.vf)?null:k.y;_.isNull(this.Jm)||e.setAttribute("Page",this.Jm);_.isNull(this.sh)||e.setAttribute("Zoom",this.sh);c&&e.setAttribute("Top",c);d&&e.setAttribute("Left",d);h&&e.setAttribute("Right",h);k&&e.setAttribute("Bottom",k);switch(this.ym){case "XYZ":_.isNull(d)&&e.setAttribute("Left","");_.isNull(c)&&e.setAttribute("Top","");_.isNull(this.sh)&&
e.setAttribute("Zoom","");break;case "FitBH":case "FitH":_.isNull(c)&&e.setAttribute("Top","");break;case "FitBV":case "FitV":_.isNull(d)&&e.setAttribute("Left","");break;case "FitR":_.isNull(d)&&e.setAttribute("Left",""),_.isNull(c)&&e.setAttribute("Top",""),_.isNull(h)&&e.setAttribute("Right",""),_.isNull(k)&&e.setAttribute("Bottom","")}$(b).append(e);return b},deserialize:function(a,b,e){var c=Annotations.da;b=c.getAttribute(a,"PageNum");var d,k,h,m,p,n;k=c.getAttribute(a,"Hpos");d=c.getAttribute(a,
"Vpos");a=a.getElementsByTagName("Dest");if(!b||0<a.length)if(a=a[0],a=c.nv(a))b=c.getAttribute(a,"Page"),n=c.rv(a),d=c.getAttribute(a,"Top"),k=c.getAttribute(a,"Left"),h=c.getAttribute(a,"Right"),m=c.getAttribute(a,"Bottom"),p=c.getAttribute(a,"Zoom");c=e.u.Ae(b-1);e=c.W({x:k||0,y:d||0});c=c.W({x:h||0,y:m||0});d=_.isNull(d)?void 0:e.y;k=_.isNull(k)?void 0:e.x;h=_.isNull(h)?void 0:c.x;m=_.isNull(m)?void 0:c.y;this.set({page:_.isNull(b)?void 0:b,fit:_.isNull(n)?void 0:n,top:d,left:k,right:h,bottom:m,
zoom:_.isNull(p)?void 0:p})},XG:function(a){var b=this.Zd||0,e=this.Xd||0,c=this.Jm||1;switch(this.ym){case "XYZ":this.sh&&a.sx(this.sh);a.gn(c,b,e);break;case "Fit":case "FitB":case "FitV":case "FitBV":a.Md(c);a.Mw(a.nf.Bx);break;case "FitH":case "FitBH":a.Md(c);a.Mw(a.nf.Ps);a.gn(c,b,0);break;case "FitR":var d=this.Af&&this.Xd?Math.abs(this.Af-this.Xd):null,k=this.vf&&this.Zd?Math.abs(this.vf-this.Zd):null,d=d?a.Jb().innerWidth()/d:Infinity,k=k?a.Jb().innerHeight()/k:Infinity,k=Math.min(d,k);Infinity!==
k&&a.sx(k);a.gn(c,b,e);break;default:a.Md(c)}}};Object.defineProperties(d.qf.Ks.prototype,{page:{get:function(){return this.Jm},set:function(a){this.set({page:a})}},fit:{get:function(){return this.ym}},top:{get:function(){return _.isNull(this.Zd)?void 0:this.Zd}},left:{get:function(){return _.isNull(this.Xd)?void 0:this.Xd}},bottom:{get:function(){return _.isNull(this.vf)?void 0:this.vf}},right:{get:function(){return _.isNull(this.Af)?void 0:this.Af}},zoom:{get:function(){return _.isNull(this.sh)?
void 0:this.sh}}});d.fk=function(a){d.Action.call(this,a);this.Pm="";_.isObject(a)&&_.isString(a.uri)&&(this.Pm=a.uri)};d.fk.prototype={elementName:"URI",onTriggered:function(a,b,e){d.Action.prototype.onTriggered.call(this,a,b,e);a=this.Pm;0!==a.indexOf("http://")&&0!==a.indexOf("https://")&&0!==a.indexOf("ftp://")&&0!==a.indexOf("mailto:")&&0!==a.indexOf("tel:")&&(a=-1!==a.indexOf("@")?"mailto:"+a:"http://"+a);window.open(a)},deserialize:function(a,b){d.Action.prototype.deserialize.call(this,a,b);
var e=Annotations.da,c=e.getAttribute(a,"Target");_.isNull(c)&&(c=e.nv(a),c=e.getAttribute(c,"Name"));this.Pm=c},serialize:function(a){a=d.Action.prototype.serialize.call(this,a);a.setAttribute("Name",this.Pm);return a}};d.fk.prototype=$.extend(Object.create(d.Action.prototype),d.fk.prototype);Object.defineProperties(d.fk.prototype,{uri:{get:function(){return this.Pm}}});d.Vj=function(a){d.Action.call(this,a);this.kk="";_.isObject(a)&&_.isString(a.action)&&(this.kk=a.action)};d.Vj.prototype={elementName:"Named",
onTriggered:function(a,b,e){d.Action.prototype.onTriggered.call(this,a,b,e);switch(this.kk){case "NextPage":e.Md(e.Dh()+1);break;case "PrevPage":e.Md(e.Dh()-1);break;case "FirstPage":e.Md(1);break;case "LastPage":e.Md(e.Tb());break;default:console.warn("Invalid named action name: "+this.kk)}},deserialize:function(a,b){d.Action.prototype.deserialize.call(this,a,b);var e=Annotations.da,c=e.getAttribute(a,"N");_.isNull(c)&&0<a.getElementsByTagName("Named").length&&(c=e.getAttribute(a.getElementsByTagName("Named")[0],
"Name"));this.kk=c},serialize:function(a){a=d.Action.prototype.serialize.call(this,a);a.setAttribute("Name",this.kk);return a}};d.Vj.prototype=$.extend(Object.create(d.Action.prototype),d.Vj.prototype);Object.defineProperties(d.Vj.prototype,{action:{get:function(){return this.kk}}});d.Rj=function(a){d.Action.call(this,a);this.Dt=this.Bp=null;this.set(a)};d.Rj.prototype={elementName:"JavaScript",set:function(a){_.isObject(a)&&_.isString(a.javascript)&&(this.Bp=a.javascript)},onTriggered:function(a,
b,e){d.Action.prototype.onTriggered.call(this,a,b,e);a=e.getDocument().Em;this.Dt||(this.Dt=a.Gk(this.Bp,e));a.Dl(this.Dt,b,e)},deserialize:function(a,b){d.Action.prototype.deserialize.call(this,a,b);var e=Annotations.da.getAttribute(a,"JavaScript");e||(e=a.getElementsByTagName("JavaScript")[0].textContent);this.set({javascript:e})},serialize:function(a){a=d.Action.prototype.serialize.call(this,a);$(a).text(this.Bp);return a}};d.Rj.prototype=$.extend(!0,new d.Action,d.Rj.prototype);Object.defineProperties(d.Rj.prototype,
{javascript:{get:function(){return this.Bp||""}}});d.gi=function(a){d.Action.call(this,a);this.jh=!1;this.ab=null;_.isObject(a)&&(_.isArray(a.fields)&&(this.ab=a.fields.slice()),_.isUndefined(a.exclude)||(this.jh=!!a.exclude))};d.gi.prototype={elementName:"ResetForm",onTriggered:function(a,b,e){d.Action.prototype.onTriggered.call(this,a,b,e);var c=this,l=e.Ic().$i();a=l.Ll;l.Ll=!1;this.jh||_.isNull(this.ab)?l.Ao({ao:function(b,a,e){c.ab&&-1!==c.ab.indexOf(b)||e.WC()}}):this.ab.forEach(function(b){var a=
l.jb(b);a?a.WC():console.warn("Missing field during reset:",b)});l.Ll=a;l.Xm(null,0)},deserialize:function(a,b){d.Action.prototype.deserialize.call(this,a,b);var e=Annotations.da,c=[],l=!0;_.isNull(e.getAttribute(a,"ResetFields"))?_.isNull(e.getAttribute(a,"ResetExcludedFields"))?0<a.getElementsByTagName("ResetForm").length&&(a=a.getElementsByTagName("ResetForm")[0],(c=e.getAttribute(a,"Fields"))&&(c=c.split(",")),e=parseInt(e.getAttribute(a,"Flags"),10),_.isNull(c)||_.isUndefined(c)?(c=[],l=!0):
l=1===e?!0:!1):(c=e.getAttribute(a,"ResetExcludedFields").split(","),l=!0):(c=e.getAttribute(a,"ResetFields").split(","),l=!1);this.ab=c;this.jh=!!l},serialize:function(a){a=d.Action.prototype.serialize.call(this,a);this.ab&&a.setAttribute("Fields",this.ab.join(","));a.setAttribute("Flags",this.jh?1:0);return a}};d.gi.prototype=$.extend(Object.create(d.Action.prototype),d.gi.prototype);Object.defineProperties(d.gi.prototype,{fields:{get:function(){return this.ab}},exclude:{get:function(){return this.jh}}});
d.ki=function(c){d.Action.call(this,c);this.Sp="";this.ab=[];this._format="xfdf";this.tp=!1;this._method="POST";this.jh=!1;this.Db=new a.Annotations.ih({mask:"IncludeNoValueFields IncludeAppendSaves IncludeAnnotations CanonicalFormat WxclNonUserAnnots ExclFKey EmbedForm".split(" ")});this.set(c)};d.ki.prototype={elementName:"SubmitForm",set:function(a){_.isObject(a)&&(a.url&&(this.Sp=String(a.url)),_.isArray(a.fields)&&(this.ab=a.fields.slice()),a.format&&(this._format=a.format.toLowerCase()),a.includeEmpty&&
(this.tp=!!a.includeEmpty),a.flags&&this.Db.set(a.flags),a.method&&(this._method=String(a.method)),a.exclude&&(this.jh=!!a.exclude))},onTriggered:function(a,b,e){d.Action.prototype.onTriggered.call(this,a,b,e);var c=this,l=[],k=e.Ic(),h=k.$i();0<this.ab.length?this.ab.forEach(function(b){l.push(h.jb(b))}):h.rn(function(b){_.isNull(b.value)&&!c.tp||l.push(b)});a="";"xfdf"===this._format?a=k.Gi.wF(l):("fdf"===this._format&&console.warn("FDF Export is not supported. Defaulting to export as HTML Forms"),
a=k.Gi.xF(l));$.ajax({type:"POST",url:this.Sp,data:a,success:function(b){if(k.FD)k.FD(b);else{var a=window.open();_.isNull(a)||_.isUndefined(a)?console.warn("Form popup blocked"):a.document.write(b)}},error:function(){console.warn("Failed to submit form data to server.")}})},deserialize:function(a,b){d.Action.prototype.deserialize.call(this,a,b);var e=Annotations.da,c=a.getElementsByTagName("SubmitForm"),l="SubmitURL",k="SubmitFields",h="SubmitFlag";0<c.length&&(a=c[0],l="URL",k="Fields",h="Flags");
c=e.getAttribute(a,l);l=null;_.isNull(e.getAttribute(a,k))||(l=e.getAttribute(a,k).split(","));k=0;_.isNull(e.getAttribute(a,h))||(k=parseInt(e.getAttribute(a,h),10));e="fdf";k&4&&(e="html");k&32&&(e="xfdf");this.set({url:c,fields:l||void 0,format:e,flags:0!==(k&2)?["IncludeNoValueFields"]:[]})},serialize:function(a){a=d.Action.prototype.serialize.call(this,a);a.setAttribute("Fields",this.ab.join(","));a.setAttribute("Flags",("xfdf"===this._format?32:0)|("html"===this._format?4:0)|(this.tp?2:0));
a.setAttribute("URL",this.Sp);return a}};d.ki.prototype=$.extend(Object.create(d.Action.prototype),d.ki.prototype);Object.defineProperties(d.ki.prototype,{url:{get:function(){return this.Sp}},fields:{get:function(){return this.ab}},format:{get:function(){return this._format}},includeEmpty:{get:function(){return this.tp}},flags:{get:function(){return this.Db},set:function(a){this.Db.set(a)}},method:{get:function(){return this._method}},exclude:{get:function(){return this.jh}}});d.Qj=function(a){d.Action.call(this,
a);this.ab=[];this._hide=!0;this.set(a)};d.Qj.prototype={elementName:"Hide",set:function(a){_.isObject(a)&&(_.isArray(a.fields)&&(this.ab=a.fields.slice()),_.isUndefined(a.hide)||(this._hide=!!a.hide))},onTriggered:function(a,b,e){d.Action.prototype.onTriggered.call(this,a,b,e);var c=e.Ic().$i(),l=this;this.ab.forEach(function(b){c.jb(b).Ie(!l.hide)})},deserialize:function(a,b){d.Action.prototype.deserialize.call(this,a,b);var e=Annotations.da,c=!0,l;_.isNull(e.getAttribute(a,"HideField"))?0<a.getElementsByTagName("Hide").length?
(a=a.getElementsByTagName("Hide")[0],l=e.getAttribute(a,"Fields").split(","),c="false"===e.getAttribute(a,"Hide")?!1:!0):(l=[e.getAttribute(a,"ShowField")],c=!1):l=[e.getAttribute(a,"HideField")];this._hide=c;this.ab=l},serialize:function(a){a=d.Action.prototype.serialize.call(this,a);a.setAttribute("Fields",this.yP.join(","));a.setAttribute("Hide",this.hide?"true":"false");return a}};d.Qj.prototype=$.extend(Object.create(d.Action.prototype),d.Qj.prototype);Object.defineProperties(d.Qj.prototype,
{fields:{get:function(){return this.ab}},hide:{get:function(){return this._hide}}});d.Ax=function(){this.gz={GoTo:d.qf,URI:d.fk,Named:d.Vj,JavaScript:d.Rj,ResetForm:d.gi,SubmitForm:d.ki,Hide:d.Qj}};d.Ax.prototype={YJ:function(a){if(_.isObject(a)){var b=this.gz[a.name];return b?new b(a):null}},ZJ:function(a,b,e){var c=Annotations.da.wI(a);return(c=this.gz[c])?(c=new c,c.deserialize(a,b,e),c):null}};var c=new d.Ax;d.CP=function(){return c};d.gg=function(a){this.ti={};this.Ht=null;_.isObject(a)&&_.isObject(a.actions)&&
this.Up(a.actions)};d.gg.prototype={Up:function(a){if(_.isObject(a))for(var b in a)if(a.hasOwnProperty(b))for(var e=a[b].length,c=0;c<e;++c)this.Hi(b,a[b][c])},Hi:function(a,b){var e=this.ti[a]||[];if(b instanceof d.Action)-1===e.indexOf(b)&&e.push(b);else if(_.isObject(b)){var g=c.YJ(b);g&&e.push(g)}this.ti[a]=e},Ui:function(){return this.ti},Od:function(a,b){var e=this.ti[a];if(e)for(var c=e.length,d=0;d<c;++d)e[d].onTriggered(this,b,this.Ht)},cg:function(a){this.Ht=a},Zi:function(){return this.Ht},
LL:function(a,b,e){function c(a,e){e.forEach(function(e){var c=document.createElementNS("","Action");c.setAttribute("Trigger",a);var g=$(c);if(e=e.serialize(b))g.append(e),k=!0;$(d).append(c)})}var d;d=e?e:document.createElementNS("","OnActivation");var k=!1,h;for(h in this.ti)this.ti.hasOwnProperty(h)&&c(h,this.ti[h]);k&&!e&&$(a).append(d)},sz:function(a,b,e){var g=Annotations.da;a=g.vI(a);for(var d=a.length,k=0;k<d;++k){var h=a[k],m=g.getAttribute(h,"Trigger")||"U";(h=c.ZJ(h,b,e))&&this.Hi(m,h)}}}})(window);
(function(a){function d(b,a){return b-a}function c(b,e){a.Actions.gg.call(this);this.width=b;this.height=e;this.text=null;this.ko=[];this.links=[];this.Kb=null}function f(b,e,c,g,d,f){var h={getZoom:function(){return 1},getPageRotation:function(){return a.o.Ea.Jf},finishedLoading:function(){return!0},acquireResources:function(){return!0},resourcesLoaded:function(){return!0},getPageTransform:function(){},drawProgressive:function(){},drawComplete:function(){},onError:function(){}};_.isObject(b)?(h=
$.extend(h,b),h.zoom&&(h.getZoom=function(){return h.zoom}),h.pageRotation&&(h.getPageRotation=function(){return h.pageRotation})):h=$.extend(h,{pageIndex:b,getZoom:function(){return e},getPageRotation:function(){return c},drawProgressive:d,drawComplete:g,canvasNum:f});return h}function b(){}function e(b){b in this.fj?(clearTimeout(this.fj[b]),delete this.fj[b]):this.wa.kq(b)}var g=window.o,l=a.o.V.oi,k=a.o.V.Ms;a.ci=a.ci||{};a.o.Wo={RE:0,TE:1,jF:2};a.o.hi={FE:1,kF:2,AE:4,SE:8,KE:16,lE:32};c.prototype=
$.extend({eM:function(b){this.height=b.height;this.width=b.width;this.Kb=b.matrix;this.rotation=b.rotation;this.id=b.id;this.Wa=b.pageNum}},Object.create(a.Actions.gg.prototype));var h=null,m=null;a.o.xM=function(b){h=b};a.o.mD=function(b){m=b};a.o.rB=function(){return h?h:m};a.o.bt=function(b){a.Kj=524288*b*b;a.Hs=524288*b*b;a.Oj=3*b;a.o.Ja&&a.o.Ja.dD(b);switch(b){case 0:a.Oj=0;a.Kj=0;a.Hs=0;break;case 1:a.Oj=0,a.Kj=0}};a.o.Mx=function(b){a.xr=1+2*(b-1);a.yr=b-1;0>a.xr&&(a.xr=0);0>a.yr&&(a.yr=0)};
a.o.bt(6);a.o.Mx(5);g.Ne=function(b,a,e,c,g,d,f){this.children=b;this.name=a;this.Qh=e;this.parent=c;this.Rl=g||0;this.hl=d||0;this.url=f};g.Ne.prototype={WA:function(){return this.children},getName:function(){return this.name},sc:function(){return this.Qh},zJ:function(){return this.url},getParent:function(){return this.parent},AJ:function(){return this.Rl},NI:function(){return this.hl},isValid:function(){return!!this.url||_.isNumber(this.Qh)}};g.Metadata=Backbone.Model.extend({defaults:{title:"",
gP:null,LQ:null,cQ:null,fP:null,dw:null,description:null,xQ:null}});g.Document=function(b,e){a.Actions.gg.call(this);this.Em=a.Annotations.N.hb.BH();_.isUndefined(e)||"xod"===e?this.v=new g.hk(b):"pdf"===e?this.v=new g.Wj:"office"===e&&(this.v=new g.Vo(b));var c=this;this.v.cM(function(b){c.trigger(b.type,[b.data])});this.AF=20;this.vl=[];this.cx={}};g.Document.prototype={Dk:function(b){return this.v.Dk.apply(this.v,arguments)},KK:function(b){this.Em.AN(b)},wg:function(b){return this.v.wg.apply(this.v,
arguments)},zo:function(b){return this.v.zo.apply(this.v,arguments)},Zm:function(){return this.v.Zm.apply(this.v,arguments)},Vk:function(){return this.v.Vk.apply(this.v,arguments)},Cn:function(b){this.v.Cn.apply(this.v,arguments)},Fn:function(){return this.v.Fn.apply(this.v,arguments)},Tb:function(){return this.v.Tb.apply(this.v,arguments)},bd:function(b){var a={};a.width=this.v.K[b].width;a.height=this.v.K[b].height;return a},Rq:function(b,a,e){return this.v.Rq.apply(this.v,arguments)},Dv:function(b,
a,e,c){return this.v.Dv.apply(this.v,arguments)},br:function(b,a,e){return this.v.br.apply(this.v,arguments)},Hv:function(b,a,e){return this.v.Hv.apply(this.v,arguments)},gj:function(){return this.v.gj.apply(this.v,arguments)},jl:function(b){return this.v.jl.apply(this.v,arguments)},jj:function(){return this.v.jj()},Kg:function(b,a,e){var c=this;return this.v.Kg.call(this.v,b,function(b){for(var e=c.pb(),g=e.length,d=c.Zi(),f=0;f<g;++f)e[f].cg(d);a(b)},e)},Lg:function(b,a,e,c,g,d){return this.v.Lg.apply(this.v,
arguments)},bw:function(b,a){return this.v.bw.apply(this.v,arguments)},Rk:function(b){return this.v.Rk.apply(this.v,arguments)},Xn:function(b){return this.v.Xn.apply(this.v,arguments)},pl:function(b,a){return this.v.pl.apply(this.v,arguments)},Nr:function(b){return this.v.Nr.apply(this.v,arguments)},$r:function(b){return this.v.$r.apply(this.v,arguments)},Zk:function(){return this.v.Zk.apply(this.v,arguments)},oo:function(b){return this.v.oo.apply(this.v,arguments)},uo:function(b,a){return this.v.uo.apply(this.v,
arguments)},Ke:function(){this.Em.pc();return this.v.Ke.apply(this.v,arguments)},nl:function(b,a){return this.v.nl.apply(this.v,arguments)},ur:function(b,a){return this.v.ur.apply(this.v,arguments)},Qn:function(){return this.v.Qn.apply(this.v,arguments)},Mi:function(b){return this.v.Mi.apply(this.v,arguments)},SC:function(){var b=this.vl.shift();this.v.K[b].text=null;delete this.cx[b]},pL:function(){for(var b=this.vl.length-1;0<=b;--b)this.SC()},Kd:function(b,a){this.cx[b]?this.vl.splice(this.vl.indexOf(b),
1):(this.vl.length===this.AF&&this.SC(),this.cx[b]=!0);this.vl.push(b);return this.v.Kd.apply(this.v,arguments)},getFileData:function(b){return this.v.getFileData.apply(this.v,arguments)},kl:function(b,a,e){return this.v.kl.apply(this.v,arguments)},Yn:function(b,a){return this.v.Yn.apply(this.v,arguments)},yl:function(b){return this.v.yl.apply(this.v,arguments)},Pk:function(){return this.v.Pk.apply(this.v,arguments)},Cl:function(b,a){return this.v.Cl.apply(this.v,arguments)},Qk:function(b,a){return this.v.Qk.apply(this.v,
arguments)},Ik:function(b,a,e,c,g){return this.v.Ik.apply(this.v,arguments)},Xk:function(){return this.v.Xk.apply(this.v,arguments)},hs:function(b){return this.v.hs.apply(this.v,arguments)},ls:function(b){return this.v.ls.apply(this.v,arguments)},get numPages(){return this.v.K.length},Mc:function(b){return this.v.K[b].width},Lc:function(b){return this.v.K[b].height},Ae:function(b){return b>=this.Tb()?(console.warn("Attemping to get page matrix for page "+(b+1)+" that doesn't exist."),null):this.v.K[b].Kb},
Tq:function(b){return this.v.Tq.apply(this.v,arguments)},Gn:function(){return this.v.Gn.apply(this.v,arguments)},Hn:function(b){return this.v.K[b].rotation},yv:function(b){return this.v.K[b].text},sM:function(b,a){this.v.K[b].text=a},aJ:function(b){return this.v.K[b].bq},pb:function(){var b=this;this.v.K.forEach(function(a){a.cg(b.Zi())});return this.v.K},Ag:function(){return this.v.Ag},Mn:function(b,a,e){return this.v.Mn.apply(this.v,arguments)},Aj:function(b){this.v.Aj.apply(this.v,arguments)},
Dj:function(b){this.v.Dj.apply(this.v,arguments)},Pq:function(b){return this.v.Pq.apply(this.v,arguments)}};$.extend(g.Document.prototype,Object.create(a.Actions.gg.prototype),a.utils.eventHandler);g.Ko=function(){throw Error("Cannot initialize BaseDocument");};g.Ko.prototype={Dk:b,wg:b,zo:b,Zm:b,Vk:b,Cn:b,Fn:b,Tb:b,bd:b,cM:function(b){this.AA=b},tn:function(b){this.AA&&this.AA(b)},Rq:function(b,a,e){a={x:a,y:e};return this.K[b].Kb.inverse().W(a)},Dv:function(b,a,e,c){if(e<=a)return console.error("End index must be greater than start index");
this.Kd(b,function(b){b=b.ge();var g=8*a,d=8*e;if(g>b.length||d>b.length)return console.error("Index out of bounds");for(var f=[];g<d;g+=8)f.push({x1:b[g],y1:b[g+1],x2:b[g+2],y2:b[g+3],x3:b[g+4],y3:b[g+5],x4:b[g+6],y4:b[g+7]});c(f)})},br:b,Hv:function(b,a,e){return this.K[b].Kb.W({x:a,y:e})},gj:b,jl:b,jj:b,Kg:b,Lg:b,Rk:b,Xn:b,bw:function(b,a){this.Kd(b,function(b){a(b.La)})},pl:b,Nr:b,$r:b,oo:b,uo:b,Ke:b,nl:b,ur:b,Mi:b,Qn:function(){return!1},Hu:function(b,e){var c=this.K[b],g=(4-c.rotation/90)%4;
0!==g&&(c=a.Pc(1,g,c,{x:0,y:0},!1),e.VG(c))},Kd:b,getFileData:b,kl:b,yl:b,Cl:b,Pk:b,po:b,Qk:b,Ik:b,Aj:function(){},print:function(){},Tq:function(b){return String(b)},Gn:function(){return _.range(0,this.K.length).map(String)},Zk:b,Xk:b,hs:b,ls:b,iq:function(){for(var b=1,e=this.K.length,c=a.utils.getCanvasMultiplier(),c=c*c,g=0;g<e;++g)var d=this.K[g],b=Math.max(b,d.width*d.height*c);return Math.sqrt(8E6/b)},Ym:function(b){return 0===b.m_b&&0===b.m_c?0<b.m_a?0:180:0>b.m_b?270:90},ru:function(b,a){var e=
this.Ym(b),c=a.w,g=a.Gg;if(90===e||270===e)var d=c,c=g,g=d;switch(e){case 0:return e=-b.m_h,d=b.m_v,{x1:e,y1:d-g,x2:d-g,y2:d};case 90:return d=-b.m_h,e=-b.m_v,{x1:e,y1:d,x2:e+c,y2:d+g};case 180:return e=b.m_h,d=-b.m_v,{x1:e-c,y1:d,x2:e,y2:d+g};case 270:return d=b.m_h,e=b.m_v,{x1:e-c,y1:d-g,x2:e,y2:d}}return null},Dj:function(b){this.gb=b},Pq:function(){return Promise.resolve({fonts:[],images:[]})},sA:function(b,a){if(this.gb){var e,c,g=this.K[a].width,d=this.K[a].height,f=b.getContext("2d");f.textAlign=
"center";f.textBaseline="top";var h=function(b){f.font=b.fontSize+"pt "+b.fontFamily;f.fillStyle=b.color;f.globalAlpha=b.opacity/100;c=1.5*b.fontSize},l=function(b){var a=[""],e=0;b.split(" ").forEach(function(b){b&&(f.measureText(a[e]+" "+b).width>=g/3&&(a[++e]=""),a[e]+=" "+b)});return a};this.gb.diagonal&&(f.save(),h.call(this,this.gb.diagonal),f.translate(g/2,d/2),f.rotate(-Math.atan(d/g)),this.gb.diagonal.text&&(e=this.gb.diagonal.text.split("\n"),e.forEach(function(b,a){f.fillText(b,0,(a-e.length/
2)*c)})),f.restore());if(this.gb.header){f.save();h.call(this,this.gb.header);var k=function(b){b.forEach(function(b,a){f.fillText(b,0,a*c)})};f.translate(g/6,0);this.gb.header.left&&k(l(this.gb.header.left));f.translate(g/3,0);this.gb.header.center&&k(l(this.gb.header.center));f.translate(g/3,0);this.gb.header.right&&k(l(this.gb.header.right));f.restore()}this.gb.footer&&(f.save(),h.call(this,this.gb.footer),h=function(b){b.forEach(function(a,e){f.fillText(a,0,(e-b.length)*c)})},f.translate(g/6,
d),this.gb.footer.left&&h(l(this.gb.footer.left)),f.translate(g/3,0),this.gb.footer.center&&h(l(this.gb.footer.center)),f.translate(g/3,0),this.gb.footer.right&&h(l(this.gb.footer.right)),f.restore())}}};g.hk=function(b){this.lk=this.Ya=null;this.Lm=new a.Oe.Ys;this.id=b;this.Fr=!1;this.me=null;this.xg={};this.hw=_.bind(this.hw,this);this.Cq=null;this.Xg=1;this.Nd={};this.gb=null;this.Ag=Promise.resolve()};g.hk.prototype=Object.create(g.Ko.prototype);g.hk.prototype.constructor=g.hk;$.extend(g.hk.prototype,
{mf:"Document/FixedDocument.fdoc",fg:"Document/DocProps/core.xml",kf:"Document/Structure/DocStruct.struct",tE:"Struct/font.xml",CF:"Struct/",BF:"Text/",Kg:function(b,e,c){this.Ya=b;this.xh=[];this.ql=new g.Metadata;this.K=[];this.Nc={};this.Nc[this.mf]=0;this.Nc[this.fg]=0;this.Nc[this.kf]=0;this.Ya.xj()&&(this.Rh={});var d=this,f;f=c&&c.annotsLoadedCallback?c.annotsLoadedCallback:function(){};b.bind("partReady",this.hw);this.bind("documentReady",function(b){1.2===d.Xg?(d.pG(),e(b),f()):d.Pa.Pf("Annots.xfdf",
function(a){a=a.data;var c="",g=0,q,h,l;for(2<=a.length&&"{"===a.charAt(0)&&"}"===a.charAt(1)&&(a=a.substr(2));g<a.length;)q=a.charCodeAt(g),9===q?(c+=String.fromCharCode(10),g++):128>q?(c+=String.fromCharCode(q),g++):191<q&&224>q?(h=a.charCodeAt(g+1),c+=String.fromCharCode((q&31)<<6|h&63),g+=2):(h=a.charCodeAt(g+1),l=a.charCodeAt(g+2),c+=String.fromCharCode((q&15)<<12|(h&63)<<6|l&63),g+=3);a=c;d.K[0].bq=a;c=(new DOMParser).parseFromString(a,"text/xml");d.qG(c);e(b);f(a,c)})});b instanceof a.o.V.sm?
(this.Fr=!0,this.jl(function(){b.db=d.me;b.Yr(e)})):b.Yr(e)},ur:function(b,e,c){var g=this;if(!this.Pa)throw Error("Document is not initialized!");1.2===this.Xg&&(this.Pa.Gr=!0);this.Pa.xv(b,e,function(e,n){var d=new a.Oe.nF(g.K[b],n,g.Lm);c(e,d)})},nl:function(b,a){if(!this.Pa)throw Error("Document is not initialized!");return this.Pa.Pf(b,a)},qK:function(b){var a=this;null===a.Cq?a.nl(a.tE,function(e){if(e.error)throw Error("SELECT: Error getting part "+e.qa+": "+e.error);var c=new XODText.Qs;c.yw(e.data);
a.Cq=c.fv;b(a.Cq)}):b(a.Cq)},Kd:function(b,a){var e=this;null!==e.K[b].text?a(e.K[b].text):b in e.Nd?e.Nd[b].push(a):(e.Nd[b]=[a],1.4>e.Xg?e.nl(e.BF+(b+1)+".xml",function(a){if(a.error)throw Error("SELECT: Error getting part "+a.qa+": "+a.error);var c=new XODTextOld.uf;c.UJ(a.data);a=new XODText.uf;a.xC(c);e.Hu(b,a);e.K[b].text=a;e.Nd[b].forEach(function(b){b(c)});delete e.Nd[b]}):e.qK(function(a){e.nl(e.CF+(b+1)+".xml",function(c){var g=new XODText.uf,d=new XODText.Ia;d.Qa(1,0,0,1,0,0);var n=new XODText.rm(a);
e.Pa.pB(b,function(a){function f(){return a.Jr().then(function(){if(!a.run(n,d))return f()})}f().then(function(){g.yw(c.data,n);e.Hu(b,g);e.K[b].text=g;e.Nd[b].forEach(function(b){b(g)});delete e.Nd[b]})["catch"](function(b){console.warn("Custom Canvas has encountered an error: "+b.message)})})})}))},Qn:function(){return 1.2>=this.Xg},gj:function(){return this.gl},Lg:function(b,e,c,g,d,h){var l=this,k=Date.now(),m=f(b,e,c,g,d,h),B=_.uniqueId();l.xg[B]={lj:null,paused:!1,gd:m.pageIndex};l.ur(m.pageIndex,
B,function(b,e){if(b)throw Error("Error loading page %d:",m.pageIndex);_.isUndefined(l.xg[B])||(l.xg[B].lj=e,l.xg[B].paused&&e.pause(),m.finishedLoading(b,e)&&e.tK(function(){m.resourcesLoaded()&&e.uH(m.getZoom(),m.getPageRotation(),function(b){a.utils.log("Render Time "+(Date.now()-k));m.drawComplete(b,m.pageIndex)},function(b){l.sA(b,m.pageIndex);m.drawProgressive(b,m.pageIndex)},m.canvasNum,m.getPageTransform(),m.renderRect,m.useProgress)},void 0,m.acquireResources()))});return B},Nr:function(b){if(b=
this.xg[b])b.paused=!0,b.lj&&b.lj.pause()},$r:function(b){if(b=this.xg[b])b.paused=!1,b.lj&&b.lj.resume&&b.lj.resume()},zo:function(b){this.wg(b)},wg:function(b){var a=this.xg[b];a&&(this.kq(a.gd,b),a=a.lj)&&(a.Ke(),a.abort&&a.abort());this.Mi(b)},Mi:function(b){delete this.xg[b]},pl:function(b,e){if(!this.Pa)throw Error("Document is not initialized!");var c=this,g;if(this.gl)g=_.uniqueId(),this.Pa.Ev(b,g,function(b){var g=new Image,d;d=b.data;k&&c.Ya instanceof k?d=c.Ya.path+d:(b=b.qa.match(/\.([a-zA-Z]+)$/)[1].toLowerCase(),
d=a.o.fB(b,d));g.onload=function(){g.src.startsWith("data")||URL.revokeObjectURL(g.src);e(g);g=g.onload=null};g.src=d},name);else{var d=this.K[b];g=this.Lg({pageIndex:b,zoom:d.width>d.height?150/d.width:150/d.height,drawComplete:function(b){b.style.backgroundColor="white";c.zo(g);e(b)}})}return g},jl:function(b){if(null===this.me){if(_.isUndefined(this.id)||_.isNull(this.id)){this.id=a.top.location.href;for(var e=a.top.location.hash.substring(1).split("&"),c=0;c<e.length;c++){var g=e[c].split("=");
if("d"===g[0]){this.id=g[1];break}}}var d=this;this.me=new a.o.YE(this.id);this.me.open(b,function(b){d.me=null;console.error(b)})}else console.warn("Offline DB is already initialized!"),b()},uo:function(b,e){function c(b){g.Ya.uu(b)}if(!this.Pa)throw b(),Error("Document is not initialized!");if(!this.me)throw b(),Error("Offline DB is not initialized!");if(this.Ya instanceof a.o.V.sm)throw b(),Error("Can't download file while in offline mode!");var g=this;g.Ya.qB(function(a){g.me.WM(g.Pa,a,!!g.Ya.decrypt,
b,e,c)})},jj:function(){if(!this.me)throw Error("Offline DB is not initialized!");return this.me.jj()},Zm:function(){if(!this.me)throw Error("Offline DB is not initialized!");this.me.jH()},Fn:function(){return this.Fr},oo:function(b){if(!this.me)throw Error("Offline DB is not initialized!");this.Fr!==b&&(!(this.Fr=b)||this.lk instanceof a.o.V.sm||(this.lk=new a.o.V.sm(this.me,this.Ya.decrypt,this.Ya.dn),this.lk.bind("partReady",this.Pa.Ir)),this.GD())},GD:function(){if(null!==this.lk){var b=this.lk;
this.lk=this.Ya;this.Ya=b;this.Pa.hd=this.Ya}},kq:function(b,a){if(!this.Pa)throw Error("Document is not initialized!");this.Pa.Lz(b,a)},Dk:function(b){this.gl?this.Pa.kH(b):this.wg(b)},xN:function(b,a){if(!a)return b;for(var e="",c=0,g,d,f;c<b.length;)g=b.charCodeAt(c),128>g?(e+=String.fromCharCode(g),c++):191<g&&224>g?(d=b.charCodeAt(c+1),e+=String.fromCharCode((g&31)<<6|d&63),c+=2):(d=b.charCodeAt(c+1),f=b.charCodeAt(c+2),e+=String.fromCharCode((g&15)<<12|(d&63)<<6|f&63),c+=3);return e},hw:function(b){if(b.error)return this.Nc[b.qa]=
3,this.ty();var e;e=this.Ya.decrypt?this.Ya.dA?this.Ya.decrypt(b.data,this.Ya.dn,b.qa):a.o.hg.hA(b.data,this.Ya.dn,b.qa):b.data;e=a.Wi(e);this.Ya.xj()&&(this.Rh[b.qa]={data:e,tb:b.tb},this.Ya.decrypt&&(this.Rh[b.qa].gI=b.data));b.tb&&(e=l.inflate(e));switch(b.qa){case this.mf:e=new a.qe(e);e.la();e.advance();b=e.J("JPGThumbs");this.Zv="true"===b;b=e.J("IncludesThumbs");this.gl=null===b||"false"!==b;b=e.J("Version");this.Xg=parseFloat(b);if(1.2>this.Xg)throw this.Nc[this.mf]=null,Error("The XOD version is out of date. Please re-convert the file with the most recent version of PDFNet or the command line converter.");
if(1.4<this.Xg)throw Error("The XOD file version is too new for this client. Please update the WebViewer client version.");for(b=this.Nc[this.mf]=1;e.advance();++b){var c=new a.Xo(parseFloat(e.J("Width")),parseFloat(e.J("Height")));c.ko=["Pages/"+b+".xaml","Annot/"+b+".xml","Pages/_rels/"+b+".xaml.rels"];this.K.push(c)}this.zr=this.iq();break;case this.fg:this.Nc[this.fg]=1;e=new a.qe(e);e.la();for(this.ql=new g.Metadata;e.advance();)b=e.sa().split(":"),this.ql.attributes[1===b.length?b[0]:b[1]]=
e.sd();break;case this.kf:this.Nc[this.kf]=1;this.xh=[];e=new a.qe(e);e.la();e.advance();e.la();e.advance();e.la();for(var d=0,f=null;e.advance();){var c=parseInt(e.J("OutlineLevel"),10),h=new a.CoreControls.Bookmark;h.children=[];h.name=this.xN(e.J("Description"),b.tb);if(d<c)h.parent=f;else for(h.parent=f.parent;d>c;)h.parent=h.parent.parent,--d;h.Rl=e.J("trn:Vpos");h.Rl=null===h.Rl?0:parseFloat(h.Rl);h.hl=e.J("trn:Hpos");h.hl=null===h.hl?0:parseFloat(h.hl);d=e.J("OutlineTarget").split("#");1===
d.length||0===d[1].length?h.url=d[0]:h.Qh=parseInt(d[1],10);null!==h.parent?h.parent.children[h.parent.children.length]=h:this.xh[this.xh.length]=h;d=c;f=h}break;default:if(this.Nc[this.mf])return this.Nc[this.fg]=this.Nc[this.fg]||2,this.Nc[this.kf]=this.Nc[this.kf]||2,this.By(b)}this.ty()},Vk:function(){return Promise.resolve(this.xh)},Cn:function(b){return 1.2===this.Xg?this.K[b].bq:this.K[b].links},Tb:function(){return this.K.length},bd:function(b){var a={};a.width=this.K[b].width;a.height=this.K[b].height;
return a},Rq:function(b,a,e){a={x:a,y:e};return this.K[b].Kb.inverse().W(a)},br:function(b,a,e){return this.K[b].Kb.W({x:a,y:e})},Ke:function(){if(document.fonts)for(var b in a.$g)a.$g[b].remove();a.ci={};a.$g={};b=a.ig.FontFace.prototype.ax;null!==b&&(document.head.removeChild(b),a.ig.FontFace.prototype.styleSheet=null,a.ig.FontFace.prototype.ax=null);this.Lm=new a.Oe.Ys;this.Ya instanceof a.o.V.Qx&&this.Ya.abort();this.wy()},wy:function(){this.Ya.unbind("partReady");this.Pa=new a.o.V.UE(this.Ya,
this.K,this.Lm);this.Pa.Zv=this.Zv},ty:function(){this.Nc[this.mf]&&this.Nc[this.fg]&&this.Nc[this.kf]&&this.By()},By:function(b){this.wy();if(this.Ya.xj()){for(var a in this.Rh)this.Pa.cache.setItem(a,this.Rh[a].data,this.Rh[a].tb),this.Ya.decrypt&&this.Pa.Ti.setItem(a,this.Rh[a].gI,this.Rh[a].tb);delete this.Rh}this.trigger("documentReady",3===this.Nc[this.mf]);b&&this.Ya.trigger("partReady",b)},pG:function(){var b=new XODText.Ia;b.Qa(4/3,0,0,-4/3,0,this.K[0].height);for(var a=this.K.length,e=0;e<
a;++e)this.K[e].Kb=b,this.K[e].rotation=0},qG:function(b){"string"===typeof b&&(b=(new DOMParser).parseFromString(b,"text/xml"));if(b&&b.querySelector("xfdf > pages")){var a=b.querySelector("xfdf > pages"),e,c,g;for(b=0;b<a.childNodes.length;++b){var d=a.childNodes[b].localName;if(d&&(g=a.childNodes[b],"defmtx"===d&&(c=g.getAttribute("matrix").split(","),e=new XODText.Ia,e.Qa(parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3]),parseFloat(c[4]),parseFloat(c[5])),c=this.Ym(e)),"pgmtx"===
d)){d=parseInt(g.getAttribute("page"),10);g=g.getAttribute("matrix").split(",");var f=new XODText.Ia;f.Qa(parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2]),parseFloat(g[3]),parseFloat(g[4]),parseFloat(g[5]));var h=this.Ym(f);g=this.ru(f,{w:this.K[d].width,Gg:this.K[d].height});this.K[d].rotation=h;f.Qa(4/3,0,0,-4/3,-g.x1,g.y2);this.K[d].Kb=f}}a=this.K.length;for(b=0;b<a;++b)null===this.K[b].Kb&&(d=new XODText.Ia,g=this.ru(e,{w:this.K[b].width,Gg:this.K[b].height}),d.Qa(4/3,0,0,-4/3,-g.x1,g.y2),this.K[b].Kb=
d,this.K[b].rotation=c)}}});g.Wj=function(){this.xh=[];this.ql=new g.Metadata;this.K=[];this.pw={};this.gl=!1;this.fj={};this.Nd={};this.ya=null;this.mw=2;this.gb=null};g.Wj.prototype=Object.create(g.Ko.prototype);g.Wj.prototype.constructor=g.Wj;$.extend(g.Wj.prototype,{oE:function(b){var e=new a.Xo(b.width,b.height);e.Kb=new XODText.Ia;b=b.matrix;e.Kb.Qa(b[0],b[1],b[2],b[3],b[4],b[5]);b=this.Ym(e.Kb);e.Kb=this.Fw({w:e.width,Gg:e.height});e.rotation=b;return e},Fw:function(b,a){var e=new XODText.Ia;
e.Qa.apply(e,b);var c=this.ru(e,a);e.Qa(1,0,0,-1,-c.x1,c.y2);return e},FA:function(b,a,e){this.NK||this.Gz({pageDimensions:b});this.zr=this.iq();e&&(this.Kn||this.wa.ZB(this.ya).then(function(b){e(b.xfdfString)}));this.Kn||this.trigger("documentComplete");a()},YI:function(b){var a=createPromiseCapability(),e=new XMLHttpRequest;e.open("GET",b.url);if(b=b.customHeaders)for(var c in b)e.setRequestHeader(c,b[c]);e.setRequestHeader("Range","bytes=1-150");e.responseType="arraybuffer";e.onreadystatechange=
function(){if(this.readyState===this.DONE){var b=e.response.byteLength;206!==e.status&&200!==e.status?a.reject({message:"Received http error code "+e.status}):150!==b&&a.reject({message:"Byte ranges are not supported by the server.",data:new Uint8Array(e.response)});var b=new Uint8Array(e.response),c=[76,105,110,101,97,114,105,122,101,100],g=e.getResponseHeader("Content-Range");if(g){var g=g.split("/")[1],d=0;do{a:{for(var f=b.length;d<f;++d)if(b[d]===c[0])break a;d=-1}d+=1;for(f=1;10>f;++f)if(b[d]===
c[f])++d;else break;if(10===f){a.resolve(parseInt(g));return}}while(0!==d);a.reject({message:"The file is not linearized."})}else a.reject({message:"Could not retrieve Content-Range header."})}};e.onerror=function(){a.reject({message:"Network or Cross Domain Access Error."})};e.send();return a.promise},Kg:function(b,e,c){function d(b){D.xh=[];D.ql=new g.Metadata;D.K=[];D.gl=!1;D.Kn=!1;D.bind("documentReady",e);var a,c;F.then(function(e){D.wa=e;e="object"===typeof b&&"url"in b;var g;if(g=J){g=J;var d=
Object.prototype.toString.call(g);g="object"===typeof g&&null!==g&&("[object File]"===d||"[object Blob]"===d)}g&&D.wa&&"ems"===D.wa.getWorkerType()?(a="file",c=J):e?(a="url",c=b,D.Kn=!0):"string"===typeof b?(a="filepath",c=b):"object"===typeof b&&null!==b&&void 0!==b.byteLength?(a="array",c=b.buffer):"object"===typeof b&&"type"in b&&"id"===b.type?(a="id",c=b.id):console.warn("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");m({type:a,value:c,extension:y,defaultPageSize:C,
pageSizes:G})})}function f(b,a){console.warn("Could not use incremental download for url "+b+". Reason: "+a)}function h(b){K=b;D.wa.rN(D.ya,b).then(function(b){b.success?k(b.pageDimensions):w(h)})}function l(){D.Ag=new Promise(function(b){D.bind("documentComplete",function(){D.unbind("documentComplete");b()})});D.wa.addEventListener(D.ya,function(b){D.dL(b)})}function k(a){D.Kn?D.wa.bK(D.ya).then(function(c){c?D.FA(a,e,B):(f(J.url,"Linearization data is invalid."),D.Ke(),b.getFileData(d))}):D.FA(a,
e,B)}function m(b){D.wa.mI(b).then(function(b){D.ya=b.docId;l();k(b.pageDimensions)},function(b){"NeedsPassword"===b.type&&w?(D.ya=b.docId,l(),K?h(K):w(h)):(D.Ag=Promise.reject(b),e(b))})}var B=c.annotsLoadedCallback,w=c.getPassword,y=c.extension,C=c.defaultPageSize,G=c.pageSizes,F=c.workerTransportPromise,D=this,J=b.getFile();a.utils.isJSWorker&&a.jsworker?(J=a.jsworker.worker.getPlatformFormatFilePath(J),d(J)):J&&J.url?this.YI(J).then(function(b){J.size=b;d(J)},function(a){f(J.url,a.message);a.data?
d(a.data):b.getFileData(d)}):J&&!a.utils.isChrome?d(J):b.getFileData(d);var K=null},Gz:function(b){var a=this;a.NK=!0;b=b.pageDimensions;var e=Object.keys(b);this.K.length=0;var g=this.K,d=this.pw,f=[],h={};e.forEach(function(e){var q=b[e],q={width:q.width,height:q.height,matrix:a.Fw(q.matrix,{w:q.width,Gg:q.height}),rotation:90*q.rotation,id:q.id,pageNum:e,contentChanged:!!q.contentChanged};d[q.id]&&f.push({before:d[q.id],after:q});d[q.id]=new c(q.width,q.height);var l=d[q.id];l.eM(q);g[e-1]=l;h[q.id]=
!0});this.zr=this.iq();Object.keys(d).forEach(function(b){b in h||delete d[b]});return f},dL:function(b){switch(b.type){case "pagesUpdated":b=this.Gz(b.data);this.tn({type:"pagesDiff",data:b});this.tn({type:"pagesUpdated",data:b.map(function(b){return b.after})});break;case "bookmarksUpdated":this.tn({type:"bookmarksUpdated",data:b.data});break;case "documentComplete":this.trigger("documentComplete");this.tn({type:"documentComplete",data:b.data});break;default:console.warn("Unknown event type: ",
b.type)}},Vk:function(){function b(a){var e=[];a.children.forEach(function(a){e.push(b(a))});return new g.Ne(e,a.name,a.pageNumber,a.parent,a.verticalOffset,a.horizontalOffset,a.url)}return this.wa.nK(this.ya).then(function(a){var e=[];a.bookmarks.forEach(function(a){e.push(b(a))});return e})},Kd:function(b,a){var e=this;null!==e.K[b].text?a(e.K[b].text):b in e.Nd?e.Nd[b].push(a):(e.wa.Kd(e.ya,b).then(function(a){var c=new XODText.uf;c.xC({Ta:a.struct,La:a.str,Ub:a.offsets,za:a.quads,jc:!0});e.Hu(b,
c);e.K[b].text=c;e.Nd[b].forEach(function(b){b(c)});delete e.Nd[b]},function(b){console.warn("Text generation failed: "+(b&&b.message?b.message:b))}),e.Nd[b]=[a])},Rk:function(b){return this.wa.ZB(this.ya,b)},Xn:function(b){return this.wa.Xn(this.ya,b)},getFileData:function(b){var a=this;b=b?b:{};"finishedWithDocument"in b||(b.finishedWithDocument=!1);"printDocument"in b||(b.printDocument=!1);b.docId=a.ya;return"filePath"in b?a.Ag.then(function(){return a.wa.OL(b)}):a.Ag.then(function(){return a.wa.NL(b)}).then(function(b){return b.fileData})},
Tb:function(){return this.K.length},JB:function(b,e,c,g,d,f,h){var l=this,k=a.o.am===a.o.am.nt;if(k){e=a.innerWidth;c=a.innerHeight;var m=a.utils.getCanvasMultiplier(),w={x:h.x,y:h.y};a.Pc(g.Lr,g.Kr,{x1:g.page.x1,x2:g.page.x2,y1:g.page.y1,y2:g.page.y2,width:g.page.width,height:g.page.height},w,!0,m);w.x=w?Math.round(w.x):0;w.y=w?Math.round(w.y):0;m=a.o.Ja.le;a.o.Ja.Mm(m,e,c);var y=w.x>=m.width/2;console.log("imagePathReceived for: "+b);console.log("tCanvas.width: "+m.width);console.log("translation.x: "+
w.x);console.log("isRightPage: "+y);"undefined"===typeof l.Un&&(l.Un=!1);if(y&&!l.Un){l.Uu=function(){var e=a.o.Ja.qo(g.page,g.Lr,g.Kr,h,f).canvas,c=h?Math.round(h.x):0,n=h?Math.round(h.y):0;console.log("Drawing: "+b);var q=new Image;$(q).css("width",g.rC);$(q).css("height",g.oC);var l=b;0!==l.indexOf("file://")&&(l="file://"+l);q.onload=function(){var b=e.getContext("2d");b.setTransform(1,0,0,1,0,0);b.drawImage(q,c,n);d||$(e).addClass("progressive");g.Tu(e);d&&g.Su(e);q=null;a.utils.isJSWorker&&
(console.log("[WebViewer|JSWorker]: Deleting file: "+l),a.jsworker.worker.deleteGeneratedImageRenderFile(l))};q.src=l};return}}var C=a.o.Ja.qo(g.page,g.Lr,g.Kr,h,f,g.Zf).canvas,G=h?Math.round(h.x):0,F=h?Math.round(h.y):0;console.log("Drawing: "+b);var D=new Image;$(D).css("width",g.rC);$(D).css("height",g.oC);var J=b;0!==J.indexOf("file://")&&(J="file://"+J);D.onload=function(){var b=C.getContext("2d");b.setTransform(1,0,0,1,0,0);b.drawImage(D,G,F);d||$(C).addClass("progressive");g.Tu(C);d&&g.Su(C);
D=null;a.utils.isJSWorker&&(console.log("[WebViewer|JSWorker]: Deleting file: "+J),a.jsworker.worker.deleteGeneratedImageRenderFile(J));k&&(y?l.Un=!1:(l.Un=!0,"function"===typeof l.Uu&&(l.Uu(),l.Uu=void 0,l.Un=!1)))};D.src=J},Nz:function(b,e,c,g,d,f,h){function l(){var b=Math.min(F,D),a=c-D,f=b*e*4;J.data.set(C.subarray(K,K+f));K+=f;G.putImageData(J,w,y+a,0,0,e,b);D-=b;0===D?(d||$(m).addClass("progressive"),k.sA(m,g.page.Wa-1),g.Tu(m),d&&g.Su(m),d&&delete k.fj[g.id]):(b=setTimeout(l,0),d&&(k.fj[g.id]=
b))}var k=this,m=a.o.Ja.qo(g.page,g.Lr,g.Kr,h,f,g.Zf).canvas,w=h?Math.round(h.x):0,y=h?Math.round(h.y):0,C=new Uint8ClampedArray(b),G=m.getContext("2d"),F=Math.ceil(1E6/e),D=c,J=G.createImageData(e,Math.min(F,c)),K=0;l()},Lg:function(b,e,c,g,d,h){var l=this,k=f(b,e,c,g,d,h);b=k.pageIndex;e=k.getZoom();c=k.getPageRotation();g=k.renderRect;var m=c===a.o.Ea.ce||c===a.o.Ea.Ue,B=a.utils.getCanvasMultiplier();"undefined"===typeof g?(d=(m?l.K[b].height:l.K[b].width)*e,m=(m?l.K[b].width:l.K[b].height)*e):
(d=(m?g.y2-g.y1:g.x2-g.x1)*e,m=(m?g.x2-g.x1:g.y2-g.y1)*e);d=Math.round(d);var m=Math.round(m),w=Math.floor(d*B),y=Math.floor(m*B);if(!w||!y)return c=l.wa.En(),this.fj[c]=setTimeout(function(){var b=document.createElement("canvas");b.width=w?w:1;b.height=y?y:1;k.drawComplete(b)},0),c;var C;a.utils.isJSWorker&&a.jsworker.worker.useFilePathForImageRenders()?(C=a.jsworker.worker.generateImageRenderFilePath(b),C=a.jsworker.worker.getPlatformFormatFilePath(C),console.log("imageRenderFilePath for page "+
b+' is: "'+C+'".'),B=l.wa.CI(l.ya,b,w,y,c,l.$v,l.mw,g,C)):B=l.wa.BI(l.ya,b,w,y,c,l.$v,l.mw,g);var G=B.hH,F={Tu:k.drawProgressive,Su:k.drawComplete,rC:d,oC:m,Lr:e,Kr:c,page:l.K[b],Zf:g,id:G},D=1,J;k.useProgress&&(J=setInterval(function(){var b;a.utils.isJSWorker&&a.jsworker.worker.useFilePathForImageRenders?(b=a.jsworker.worker.generateNextImageRenderFilePath(C,D++),b=a.jsworker.worker.getPlatformFormatFilePath(b),b=l.wa.VA(G,b)):b=l.wa.VA(G);b.then(function(b){"undefined"!==typeof b.filePath?l.JB(b.filePath,
b.pageWidth,b.pageHeight,F,!1,h):l.Nz(b.pageBuf,b.pageWidth,b.pageHeight,F,!1,h)},function(b){"type"in b&&"Queued"===b.type||(a.utils.log("Get canvas progressivegeneration failed: "+b.message+" CID "+G),clearInterval(J))})},a.o.rB()));B.promise.then(function(b){clearInterval(J);"undefined"!==typeof b.filePath?l.JB(b.filePath,b.pageWidth,b.pageHeight,F,!0,h,k.getPageTransform()):l.Nz(b.pageBuf,b.pageWidth,b.pageHeight,F,!0,h,k.getPageTransform())},function(b){"Cancelled"!==b.type&&a.utils.log("Canvas generation failed: "+
b.message);clearInterval(J);k.onError(b)});return G},Mi:function(){},Ke:function(){this.ya&&(this.wa.pH(this.ya),this.wa.Mu(this.ya),this.ya=null)},Mn:function(b,a,e){return this.wa.Mn(this.ya,b,a||612,e||792)},kl:function(b,a,e){b instanceof g.Document&&(b=b.v.ya);return this.wa.kl(this.ya,b,a,e,!0)},Yn:function(b,a){return this.wa.Yn(this.ya,b,a)},yl:function(b){b.sort(d);return this.wa.yl(this.ya,b)},Pk:function(){return this.wa.Pk(this.ya,this.$v)},Cl:function(b,a){b.sort(d);return this.wa.Cl(this.ya,
b,a)},Qk:function(b,a){return this.wa.Qk(this.ya,b,a).then(function(b){return b.fileData})},Ik:function(b,a,e,c,g){b.sort(d);return this.wa.Ik(this.ya,b,a,e,c,g)},Tq:function(b){return this.K[b].id},Gn:function(){return Object.keys(this.pw)},Zk:function(){var b=this;if("undefined"===typeof a.PDFNet)throw Error("getPDFDoc called without PDFNet being loaded. Are you running a lean version of PDFNetJS?");return b.wa.Zk(b.ya).then(function(e){e=new a.PDFNet.PDFDoc(e);e.documentCompletePromise=b.Ag;return e})},
Xk:function(){return this.wa.Xk(this.ya).then(function(b){return b})},hs:function(b){this.$v=b},ls:function(b){this.mw=b},pl:function(b,e,c){var g="page"===c;c=this.K[b];var d=a.utils.getCanvasMultiplier(),g=g?2E3:150*d,f=c.width>c.height?g/c.width:g/c.height,f=f/d;return this.Lg({pageIndex:b,getZoom:function(){return f},getPageRotation:function(){return a.o.Ea.Jf},drawComplete:function(b){e(b)},drawProgressive:function(){},useProgress:!1})},Dk:e,wg:e,gj:function(){return!1},Aj:function(b){this.Kn&&
this.wa.Aj(this.ya,b)}});_(g.Ko.prototype).extend(Backbone.Events);a.Xo=c})(window);
(function(a){a.Annotations=a.Annotations||{};var d=a.Annotations;d.Color=function(a,f,b,e){this.A=this.B=this.G=this.R=0;a instanceof d.Color?(this.R=a.R,this.G=a.G,this.B=a.B,this.A=a.A):_.isArray(a)?1===a.length?(this.B=this.G=this.R=a=Math.round(255*(a[0]||0)),this.A=1):3===a.length?(this.R=Math.round(255*(a[0]||0)),this.G=Math.round(255*(a[1]||0)),this.B=Math.round(255*(a[2]||0)),this.A=1):4===a.length&&(f=a[1]||0,b=a[2]||0,e=a[3]||0,this.R=Math.round(255*(1-(a[0]||0))*(1-e)),this.G=Math.round(255*
(1-f)*(1-e)),this.B=Math.round(255*(1-b)*(1-e)),this.A=1):_.isString(a)&&"#"===a[0]?(a=d.da.Oi(a),this.R=a.R,this.G=a.G,this.B=a.B,this.A=1):(_.isUndefined(a)||(this.R=Number(a)),_.isUndefined(f)||(this.G=Number(f)),_.isUndefined(b)||(this.B=Number(b)),_.isUndefined(e)?_.isUndefined(a)&&_.isUndefined(f)&&_.isUndefined(b)||(this.A=1):this.A=Number(e))};d.Color.prototype={toString:function(){var a=this.R+","+this.G+","+this.B;return"undefined"===typeof this.A?"rgb("+a+")":"rgba("+a+","+this.A+")"},
toHexString:function(){return d.da.Bj(this)},eN:function(){return d.da.toFixed(this.R/255,3)+" "+d.da.toFixed(this.G/255,3)+" "+d.da.toFixed(this.B/255,3)+" rg"},ij:function(){return 0===this.R&&0===this.G&&0===this.B&&1===this.A},VB:function(){return 0===this.A}};d.Point=function(a,d){this.x=a;this.y=d;"string"===typeof a&&(this.x=parseFloat(a));"string"===typeof d&&(this.y=parseFloat(d))};d.Point.prototype={toString:function(){return"[Point: x="+this.x+" y="+this.y+"]"}};d.fb=function(a,d,b,e,g,
l,k,h){this.x1=a;this.y1=d;this.x2=b;this.y2=e;this.x3=g;this.y3=l;this.x4=k;this.y4=h};d.fb.prototype={normalize:function(){}};d.Rect=function(a,f,b,e){a instanceof d.Rect?(this.x1=a.x1,this.y1=a.y1,this.x2=a.x2,this.y2=a.y2):_.isArray(a)?(this.x1=a[0],this.y1=a[1],this.x2=a[2],this.y2=a[3]):_.isObject(a)?(this.x1=a.x1,this.y1=a.y1,this.x2=a.x2,this.y2=a.y2):(this.x1=a,this.y1=f,this.x2=b,this.y2=e)};d.Rect.prototype={xa:function(){return this.x2-this.x1},ta:function(){return this.y2-this.y1},translate:function(a,
d){this.x1+=a;this.y1+=d;this.x2+=a;this.y2+=d},Bq:function(a){var d=0,b=0;if(this.xa()<=a.xa()){var e=a.x2-this.x2;0>e&&(d=e);e=a.x1-this.x1;0<e&&(d=e)}this.ta()<=a.ta()&&(e=a.y2-this.y2,0>e&&(b=e),a=a.y1-this.y1,0<a&&(b=a));this.translate(d,b)},normalize:function(){var a;0>this.xa()&&(a=this.x1,this.x1=this.x2,this.x2=a);0>this.ta()&&(a=this.y1,this.y1=this.y2,this.y2=a)},CA:function(){var a;this.x1>this.x2&&(a=this.x1,this.x1=this.x2,this.x2=a);this.y2>this.y1&&(a=this.y1,this.y1=this.y2,this.y2=
a)}};d.Math={};d.Math.BK=function(a,f){return a instanceof d.Point&&f instanceof d.Point?new d.Point((a.x+f.x)/2,(a.y+f.y)/2):null};d.Math.distance=function(a,f){if(!(a instanceof d.Point&&f instanceof d.Point))return null;var b=a.x-f.x,e=a.y-f.y;return Math.sqrt(b*b+e*e)};d.ControlHandle=function(a,d,b,e){this.x=a;this.y=d;this.width=b;this.height=e};d.ControlHandle.handleWidth=12;d.ControlHandle.handleHeight=12;d.ControlHandle.selectionAccuracyPadding=1;d.ControlHandle.prototype={testSelection:function(a,
f,b,e,g){a=this.getDimensions(a,f,b);f=0;1<d.ControlHandle.selectionAccuracyPadding&&(f=d.ControlHandle.selectionAccuracyPadding);return e>=a.x1-f&&e<=a.x1+a.xa()+f&&g>=a.y1-f&&g<=a.y1+a.ta()+f},draw:function(a,d,b,e){"undefined"===typeof e&&(e=1);this.Oc(a,e);var g=this.getDimensions(d,b,e);d=g.x1;b=g.y1;e=g.xa();g=g.ta();a.beginPath();a.arc(d+e/2,b+g/2,e/2,0,2*Math.PI);a.stroke();a.fill()},Oc:function(a,f){a.strokeStyle=d.SelectionModel.defaultSelectionOutlineColor.toString();a.fillStyle="rgb(255, 255, 255)";
a.lineWidth=d.SelectionModel.selectionOutlineThickness/f},move:function(){console.warn("ControlHandle move() not implemented")},getDimensions:function(){console.warn("ControlHandle getDimensions() not implemented");return new d.Rect(0,0,0,0)}};d.Sd=function(a,d,b,e){this.width=a;this.height=d;this.Ce=b;this.df=e};d.Sd.prototype={getDimensions:function(a,f,b){a=f.x1;var e=f.y1,g=this.width/b;b=this.height/b;this.Ce===d.ma.Nb.left?a+=-(g/2):this.Ce===d.ma.Nb.lq?a+=(f.xa()-g)/2:this.Ce===d.ma.Nb.right?
a+=f.xa()-g/2:console.warn("Invalid HorizonalAlignment");this.df===d.ma.$b.top?e+=-(b/2):this.df===d.ma.$b.Ar?e+=(f.ta()-b)/2:this.df===d.ma.$b.bottom?e+=f.ta()-b/2:console.warn("Invalid VerticalAlignment");return new d.Rect(a,e,a+g,e+b)},move:function(a,f,b){var e=f||b;if(!e)return!1;var g=a.he();if("Signature"===a.Subject){var l=a.Width,k=a.Height;if(l>k){if(b=k/l*(l+f)-k,this.Ce===d.ma.Nb.left&&this.df===d.ma.$b.bottom||this.Ce===d.ma.Nb.right&&this.df===d.ma.$b.top)b*=-1}else if(f=l/k*(k+b)-l,
this.Ce===d.ma.Nb.left&&this.df===d.ma.$b.bottom||this.Ce===d.ma.Nb.right&&this.df===d.ma.$b.top)f*=-1}this.Ce===d.ma.Nb.left?g.x1+=f:this.Ce===d.ma.Nb.right&&(g.x2+=f);this.df===d.ma.$b.top?g.y1+=b:this.df===d.ma.$b.bottom&&(g.y2+=b);a.resize(g);return e}};d.Sd.prototype=$.extend(!0,new d.ControlHandle,d.Sd.prototype);d.li=function(a,d,b,e,g){this.x=a;this.y=d;this.width=b;this.height=e;this.kj=g};d.li.prototype={getDimensions:function(a,f,b){a=this.width/b;b=this.height/b;return this.kj?new d.Rect(this.x-
.5*a,this.y,this.x+.5*a,this.y+b):new d.Rect(this.x-.5*a,this.y-b,this.x+.5*a,this.y)},move:function(a,d,b,e,g,l){b=a.ge();d=b[0];if("undefined"===typeof d)return!1;b=b[b.length-1];l=new window.ha.Cd(l);l.annotation=a;l.pageCoordinates[0]=g;e=Math.min(d.x1,d.x2,d.x3,d.x4);a=Math.max(b.x1,b.x2,b.x3,b.x4);d=Math.min(d.y1,d.y2,d.y3,d.y4);b=Math.max(b.y1,b.y2,b.y3,b.y4);this.kj?d={x:e+1,y:d,pageIndex:g.pageIndex}:(d=g,g={x:a-1,y:b,pageIndex:g.pageIndex});if(g.y<d.y)return!1;(d.x<g.x||d.y<g.y)&&l.select(d,
g);return!0},draw:function(a,f,b,e){var g,l,k,h;this.Oc(a,e);g=f.ge();this.kj?(h=g[g.length-1],g=h.x2,l=h.y2,k=h.x3,h=h.y3):(h=g[0],g=h.x1,l=h.y1,k=h.x4,h=h.y4);a.beginPath();a.moveTo(g,l);a.lineTo(k,h);a.stroke();d.ControlHandle.prototype.draw.call(this,a,f,b,e)}};d.li.prototype=$.extend(!0,new d.ControlHandle,d.li.prototype);d.tf=function(a,d,b,e,g){this.x=a;this.y=d;this.width=b;this.height=e;this.Vb=g};d.tf.prototype={getDimensions:function(a,f,b){a=this.width/b;b=this.height/b;f=this.x-.5*a;
var e=this.y-.5*b;return new d.Rect(f,e,f+a,e+b)},move:function(a,d,b){var e=a.Dg(this.Vb);a.He(this.Vb,e.x+d,e.y+b);return!0}};d.tf.prototype=$.extend(!0,new d.ControlHandle,d.tf.prototype);d.Yo=function(a,f,b,e,g){d.tf.apply(this,arguments)};d.Yo.prototype={move:function(a,f,b,e,g){d.tf.prototype.move.apply(this,arguments);if(0===this.Vb){var l=a.Dg(0);a.He(a.getPath().length-1,l.x,l.y)}return!0}};d.Yo.prototype=$.extend(!0,new d.tf,d.Yo.prototype);d.Lo=function(a,d,b,e,g){this.x=a;this.y=d;this.width=
b;this.height=e;this.Vb=g};d.Lo.prototype={move:function(a,f,b){var e=a.getPath().length-4,g=e+1,l=g+1,k=l+1,e=a.Dg(e),h=a.Dg(g),m=a.Dg(l),p=a.Dg(k);if(this.Vb===l){if(p.y<m.y+b||p.x<m.x+f)return}else if(this.Vb===k&&(p.y+b<m.y||p.x+f<m.x))return;f=d.tf.prototype.move.call(this,a,f,b);this.Vb===l&&(p.y<m.y&&a.He(l,m.x,p.y),p.x<m.x&&a.He(l,p.x,m.y),a.He(g,m.x,m.y+.5*(p.y-m.y)),f=!0);this.Vb===k&&(p.y<m.y&&a.He(l,p.x,m.y),p.x<m.x&&a.He(l,m.x,p.y),a.He(g,h.x,m.y+.5*(p.y-m.y)),f=!0);l=a.hv()/2;k=d.Math.BK(m,
p);m=[new d.Point(k.x,m.y+l),new d.Point(k.x,p.y-l),new d.Point(m.x+l,k.y),new d.Point(p.x-l,k.y)];p=[d.Math.distance(e,m[0]),d.Math.distance(e,m[1]),d.Math.distance(e,m[2]),d.Math.distance(e,m[3])];p=p.indexOf(Math.min.apply(Math,p));if(e.x!==m[p].x||e.y!==m[p].y)a.He(g,m[p].x,m[p].y),f=!0;return f}};d.Lo.prototype=$.extend(!0,new d.tf,d.Lo.prototype);d.Sj=function(a,d,b,e,g){this.x=a;this.y=d;this.width=b;this.height=e;this.kj=g};d.Sj.prototype={getDimensions:function(a,f,b){a=this.width/b;b=this.height/
b;f=this.x-.5*a;var e=this.y-.5*b;return new d.Rect(f,e,f+a,e+b)},move:function(a,d,b){this.kj?(a.End.x+=d,a.End.y+=b):(a.Start.x+=d,a.Start.y+=b);a.adjustRect();return!0}};d.Sj.prototype=$.extend(!0,new d.ControlHandle,d.Sj.prototype);d.SelectionModel=function(a,d,b){this.fc=[];this.zt=d;this.Nt=b};d.SelectionModel.selectionOutlineThickness=2;d.SelectionModel.selectionAccuracyPadding=2;d.SelectionModel.defaultSelectionOutlineColor=new d.Color(0,0,255);d.SelectionModel.defaultNoPermissionSelectionOutlineColor=
new d.Color(255,0,0);d.SelectionModel.selectionOutlineDashSize=4;d.SelectionModel.prototype={testSelection:function(a,f,b){return d.Zb.Ck(a,f,b)},vo:function(a,d,b,e){for(var g=this.fc.length-1;0<=g;g--){var l=this.fc[g];if(l.testSelection(a,this.getDimensions(a),d,b,e))return l}},EI:function(){return this.fc},getDimensions:function(a){return new d.Rect(a.X,a.Y,a.X+a.Width,a.Y+a.Height)},Fc:function(){return this.zt},draw:function(a,d,b){a.save();this.drawSelectionOutline(a,d,b);a.restore();for(var e=
0;e<this.fc.length;e++)this.fc[e]&&this.fc[e].draw(a,d,this.getDimensions(d),b)},drawSelectionOutline:function(a,f,b){a.save();f=this.getDimensions(f);"undefined"===typeof b&&(b=1);a.lineWidth=d.SelectionModel.selectionOutlineThickness/b;this.Fc()?a.strokeStyle=d.SelectionModel.defaultSelectionOutlineColor.toString():a.strokeStyle=d.SelectionModel.defaultNoPermissionSelectionOutlineColor.toString();a.beginPath();a.moveTo(f.x1,f.y1);a.lineTo(f.x2,f.y1);a.lineTo(f.x2,f.y2);a.lineTo(f.x1,f.y2);a.closePath();
a.stroke();"undefined"!==typeof a.setLineDash||"undefined"!==typeof a.mozDash?(b=d.SelectionModel.selectionOutlineDashSize/b,b=[b,b],a.setLineDash?a.setLineDash(b):a.mozDash=b):a.lineWidth/=2;a.strokeStyle="rgb(255, 255, 255)";a.beginPath();a.moveTo(f.x1,f.y1);a.lineTo(f.x2,f.y1);a.lineTo(f.x2,f.y2);a.lineTo(f.x1,f.y2);a.closePath();a.stroke();a.restore()}};d.Uo=function(){d.SelectionModel.call(this,0,!1,!1)};d.Uo.prototype={testSelection:function(){return!1},getDimensions:function(){return new d.Rect(0,
0,0,0)},draw:function(){},drawSelectionOutline:function(){}};d.Uo.prototype=$.extend(!0,new d.SelectionModel,d.Uo.prototype);d.ma=function(a,f,b){d.SelectionModel.call(this,0,f,b);b=d.ControlHandle.handleWidth;var e=d.ControlHandle.handleHeight;(this.zt=f)?(this.fc=[new d.Sd(b,e,d.ma.Nb.left,d.ma.$b.top),new d.Sd(b,e,d.ma.Nb.left,d.ma.$b.Ar),new d.Sd(b,e,d.ma.Nb.left,d.ma.$b.bottom),new d.Sd(b,e,d.ma.Nb.lq,d.ma.$b.top),new d.Sd(b,e,d.ma.Nb.lq,d.ma.$b.bottom),new d.Sd(b,e,d.ma.Nb.right,d.ma.$b.top),
new d.Sd(b,e,d.ma.Nb.right,d.ma.$b.Ar),new d.Sd(b,e,d.ma.Nb.right,d.ma.$b.bottom)],"Signature"===a.Subject&&(this.fc.splice(3,2),this.fc.splice(1,1),this.fc.splice(-2,1))):this.fc=[]};d.ma.Nb={left:1,lq:2,right:4};d.ma.$b={top:16,Ar:32,bottom:64};d.ma.prototype={testSelection:function(a,f,b){return this.Nt?d.Zb.Ck(a,f,b):d.Zb.$m(a,f,b)},getDimensions:function(a){return new d.Rect(a.X,a.Y,a.X+a.Width,a.Y+a.Height)}};d.ma.prototype=$.extend(!0,new d.SelectionModel,d.ma.prototype);d.Xj=function(a,f,
b){d.SelectionModel.call(this,0,f,b);if(f)for(a=a.getPath(),f=0;f<a.length;f++)b=a[f],this.fc.push(new d.tf(b.x,b.y,d.ControlHandle.handleWidth,d.ControlHandle.handleHeight,f))};d.Xj.prototype={testSelection:function(a,f,b){return this.Nt?d.Zb.Ck(a,f,b):d.Zb.$m(a,f,b)},draw:function(a,f,b){d.SelectionModel.prototype.draw.call(this,a,f,b)}};d.Xj.prototype=$.extend(!0,new d.SelectionModel,d.Xj.prototype);d.Ws=function(a,f,b){d.SelectionModel.call(this,0,f,b);if(f)for(a=a.getPath(),f=0;f<a.length-1;f++)b=
a[f],this.fc.push(new d.Yo(b.x,b.y,d.ControlHandle.handleWidth,d.ControlHandle.handleHeight,f))};d.Ws.prototype=$.extend(!0,new d.SelectionModel,d.Ws.prototype);d.km=function(a,f,b){d.SelectionModel.call(this,0,f,b);this.fc=f?[new d.Sj(a.Start.x,a.Start.y,d.ControlHandle.handleWidth,d.ControlHandle.handleHeight,0),new d.Sj(a.End.x,a.End.y,d.ControlHandle.handleWidth,d.ControlHandle.handleHeight,1)]:[]};d.km.prototype={testSelection:function(a,f,b){return d.Zb.$m(a,f,b)},drawSelectionOutline:function(a,
f,b){"undefined"===typeof b&&(b=1);a.lineWidth=d.SelectionModel.selectionOutlineThickness/b;var e=Math.atan((f.End.y-f.Start.y)/(f.End.x-f.Start.x)),g=Math.max(.5*f.StrokeThickness,1)*Math.sin(e),e=Math.max(.5*f.StrokeThickness,1)*Math.cos(e);this.Fc()?a.strokeStyle=d.SelectionModel.defaultSelectionOutlineColor.toString():a.strokeStyle=d.SelectionModel.defaultNoPermissionSelectionOutlineColor.toString();a.beginPath();a.moveTo(f.Start.x+g,f.Start.y-e);a.lineTo(f.End.x+g,f.End.y-e);a.stroke();a.beginPath();
a.moveTo(f.Start.x-g,f.Start.y+e);a.lineTo(f.End.x-g,f.End.y+e);a.stroke();"undefined"!==typeof a.setLineDash||"undefined"!==typeof a.mozDash?(b=d.SelectionModel.selectionOutlineDashSize/b,b=[b,b],a.setLineDash?a.setLineDash(b):a.mozDash=b):a.lineWidth/=2;a.strokeStyle="rgb(255, 255, 255)";a.beginPath();a.moveTo(f.Start.x+g,f.Start.y-e);a.lineTo(f.End.x+g,f.End.y-e);a.stroke();a.beginPath();a.moveTo(f.Start.x-g,f.Start.y+e);a.lineTo(f.End.x-g,f.End.y+e);a.stroke()}};d.km.prototype=$.extend(!0,new d.ma,
d.km.prototype);d.fm=function(a,f,b){d.ma.apply(this,arguments)};d.fm.prototype={getDimensions:function(a){return d.SelectionModel.prototype.getDimensions.apply(this,arguments)},testSelection:function(a,f,b){return d.Zb.Ck(a,f,b)}};d.fm.prototype=$.extend(!0,new d.ma,d.fm.prototype);d.Mo=function(a,f,b){d.SelectionModel.call(this,0,f,b);if(f)for(a=a.getPath(),f=0;f<a.length;f++)f!==a.length-3&&(b=a[f],this.fc.push(new d.Lo(b.x,b.y,d.ControlHandle.handleWidth,d.ControlHandle.handleHeight,f)))};d.Mo.prototype=
{testSelection:function(a,f,b){if(this.Nt)return d.Zb.Ck(a,f,b);var e=a.getPath().slice(-2),g=e[0],e=e[1];return f<g.x||f>e.x||b<g.y||b>e.y?d.Zb.$m(a,f,b):!0}};d.Mo.prototype=$.extend(!0,new d.SelectionModel,d.Mo.prototype);d.mi=function(a,f,b,e,g){d.SelectionModel.call(this,0,f,b);this.zt=f;if(a=a.ge())_.isUndefined(e)&&(e=!0),_.isUndefined(g)&&(g=!0),this.fc=[],f&&(f=a[0],a=a[a.length-1],f&&(this.fc=[],e&&this.fc.push(new d.li(f.x1,f.y3,d.ControlHandle.handleWidth,d.ControlHandle.handleHeight,!1)),
g&&this.fc.push(new d.li(a.x3,a.y1,d.ControlHandle.handleWidth,d.ControlHandle.handleHeight,!0))))};d.mi.prototype={testSelection:function(a,f,b){return d.Zb.LD(a,f,b)},getDimensions:function(a){var f=a.X-2,b=a.Y-2;return new d.Rect(f,b,f+(a.Width+4),b+(a.Height+4))}};d.mi.prototype=$.extend(!0,new d.SelectionModel,d.mi.prototype);d.ap=function(a,f,b){d.SelectionModel.call(this,0,f,b)};d.ap.prototype={testSelection:function(a,f,b,e){e=a.NoZoom?e:1;a=new d.Rect(a.Yk(),a.al(),a.Yk()+a.xa()/e,a.al()+
a.ta()/e);return f>=a.x1&&f<=a.x2&&b>=a.y1&&b<=a.y2}};d.ap.prototype=$.extend(!0,new d.SelectionModel,d.ap.prototype);d.Zb={Ck:function(a,d,b){a=a.he();return d>=a.x1&&d<=a.x2&&b>=a.y1&&b<=a.y2},$m:function(a,f,b){var e;d.Zb.IB?e=d.Zb.IB:(e=document.createElement("canvas"),d.Zb.IB=e);var g=e.getContext("2d");e.width=100;e.height=100;g.setTransform(1,0,0,1,-(f-a.dl()),-(b-a.fl()));f=a.StrokeThickness;a.si=f+d.Zb.canvasVisibilityPadding;g.translate(-1*a.dl(),-1*a.fl());a.draw(g);b=1<g.getImageData(0,
0,1,1).data[3];g.setTransform(1,0,0,1,0,0);g.clearRect(0,0,2,2);a.si=f;return b},LD:function(a,d,b){a=a.Quads;for(var e=0;e<a.length;e++){var g=a[e],l=Math.min(g.y1,g.y2,g.y3,g.y4),k=Math.max(g.y1,g.y2,g.y3,g.y4),h=Math.max(g.x1,g.x2,g.x3,g.x4);if(d>=Math.min(g.x1,g.x2,g.x3,g.x4)&&d<=h&&b>=l&&b<=k)return!0}return!1}};d.Zb.canvasVisibilityPadding=5})(window);
(function(a){var d=XODText;a.ha=function(){};var c=a.ha;c.kO={};c.Tool=function(b){this.kb=this.ed=null;this.u=this.docViewer=b;this.pageCoordinates=[]};c.Tool.ENABLE_TEXT_SELECTION=!0;c.Tool.ENABLE_AUTO_SWITCH=!0;c.Tool.prototype={Lf:function(b){var a={},c=this.u.Jb(),d=c.scrollLeft()||0,c=c.scrollTop()||0;b.originalEvent&&b.originalEvent.touches?(b=0===b.originalEvent.touches.length?b.originalEvent.changedTouches[0]:b.originalEvent.touches[0],a.x=d+b.clientX,a.y=c+b.clientY):(a.x=d+b.pageX,a.y=
c+b.pageY);return a},mouseLeftDown:function(b){var a=this.Lf(b),c=this.u.na;this.ed=a;this.kb={x:a.x,y:a.y};this.pageCoordinates[0]=this.vd(this.ed);this.pageCoordinates[1]=this.pageCoordinates[0];b.data={mouseCoordinate:{x:a.x,y:a.y},pageCoordinate:this.pageCoordinates[0]};(b=c.Uk(b))&&(b instanceof Annotations.Ec?this.u.el.css("cursor",this.cursor):this.u.el.css("cursor","move"))},mouseLeftUp:function(b){var a=this.Lf(b);this.kb=a;this.pageCoordinates[1]=this.vd(this.kb);b.data={mouseCoordinate:{x:a.x,
y:a.y},pageCoordinate:this.pageCoordinates[1]}},mouseMove:function(b){var a=this.Lf(b),c=this.u.na;this.kb=a;var d=this.vd(this.kb);d&&(this.SD(c,d),this.RD(c,b),this.pN(c,d));if(null!==this.ed){c=this.vd(this.ed);if(null===c)return;var f=c.pageIndex,c=this.u.Mc(f),d=this.u.Lc(f),f=this.vd(this.kb,f);0>f.x&&(f.x=0);0>f.y&&(f.y=0);f.x>c&&(f.x=c);f.y>d&&(f.y=d);this.pageCoordinates[1]=f}else this.pageCoordinates[1]=this.vd(this.kb);b.data={mouseCoordinate:{x:a.x,y:a.y},pageCoordinate:this.pageCoordinates[1]}},
SD:function(b,a){if(c.Tool.ENABLE_TEXT_SELECTION&&c.Tool.ENABLE_AUTO_SWITCH){var g=this.u.Zq();!this.uc&&(g instanceof c.Xl||g instanceof c.bk)&&(this.Fd&&0<Object.keys(this.Fd).length||0<b.je().length||this.u.cD(a.pageIndex,a,function(b,a){0<a.length?this.u.ns(this.u.cj("TextSelect")):0===a.length&&this.u.ns(this.u.cj("AnnotationEdit"))}.bind(this)))}},RD:function(b,a){var c=b.Uk(a);c?b.hj(c)?c instanceof Annotations.Ec?this.u.el.css("cursor",this.cursor):this.u.el.css("cursor","move"):this.u.el.css("cursor",
"pointer"):this.u.el.css("cursor",this.cursor)},pN:function(b,e){for(var c=b.je(),d=0;d<c.length;d++){var f=c[d],h=(new f.selectionModel(f,b.Fc(f))).vo(f,this.u.Ib(f.PageNumber-1),e.x,e.y);if(!h)break;h instanceof Annotations.Sd?this.u.el.css("cursor",(h.df===Annotations.ma.$b.Ar?"ew":h.Ce===Annotations.ma.Nb.lq?"ns":h.df===Annotations.ma.$b.top?h.Ce===Annotations.ma.Nb.right?"nesw":"nwse":h.Ce===Annotations.ma.Nb.right?"nwse":"nesw")+"-resize"):h instanceof Annotations.li?(f=this.u.de(f.PageNumber),
f===a.o.Ea.Jf||f===a.o.Ea.Lk?this.u.el.css("cursor","ew-resize"):this.u.el.css("cursor","ns-resize")):this.u.el.css("cursor","default")}},mouseDoubleClick:function(b){var a=this.Lf(b);this.ed={x:a.x,y:a.y};this.kb={x:a.x,y:a.y};var a=this.u.na,c=this.vd(this.kb);c&&(this.yk=c.x,this.zk=c.y,b=a.Uk(b),!b||b.bf()||b.Hidden||a.trigger("annotationDoubleClicked",b))},mouseLeave:function(){},tap:function(){},keyDown:function(){},contextMenu:function(){},switchIn:function(){},switchOut:function(){this.u.el.css("cursor",
"default");this.u.na.Zc()},Zi:function(){return this.u},vd:function(b,a){var c=this.docViewer.xn().Xq(b,b);if("undefined"===typeof a){if(c=null===c.first?c.last:c.first,null===c)return null}else c=a;c=this.docViewer.xn().Uh(b,c);return{pageIndex:c.pageIndex,x:c.x,y:c.y}}};var f=c.Tool;c.AnnotationSelectTool=function(b){f.call(this,b);this.zk=this.yk=0;this.qh={x:0,y:0};this.yh=this.Qb=null;this.state=c.AnnotationSelectTool.sb.NONE;this.ye=NaN;this.uc=!1;this.cursor="default";this.overrideSelection=
!1};c.AnnotationSelectTool.sb={NONE:0,Js:1,Kx:2,Ro:3,Is:4};c.AnnotationSelectTool.PAGE_PADDING=new Annotations.Rect(2,2,2,2);c.AnnotationSelectTool.prototype=$.extend(new f,{mouseLeftDown:function(b){f.prototype.mouseLeftDown.call(this,b);if(this.overrideSelection)this.state=c.AnnotationSelectTool.sb.NONE;else{this.uc=!0;this.state=c.AnnotationSelectTool.sb.NONE;var a=this.u.na,g=this.vd(this.kb);if(g){this.ye=g.pageIndex;this.yk=g.x;this.zk=g.y;this.qh.x=this.yk;this.qh.y=this.zk;for(var d=a.je(),
k=0;k<d.length;k++){var h=d[k];if("undefined"!==typeof h.selectionModel){var m=(new h.selectionModel(h,a.Fc(h))).vo(h,this.u.Ib(h.Hb()),g.x,g.y);if(m){this.Qb=h;this.yh=m;!this.Qb.NoResize&&a.Fc(this.Qb)?this.state=c.AnnotationSelectTool.sb.Is:(this.state=c.AnnotationSelectTool.sb.NONE,a.Zc());return}}else if(console.warn("no selection model for annotation"),this.yh=a.XA(this.ye,g)){this.Qb=this.yh.RG;!this.Qb.NoResize&&a.Fc(this.Qb)?this.state=c.AnnotationSelectTool.sb.Kx:(this.state=c.AnnotationSelectTool.sb.NONE,
a.Zc());return}}if(0<a.je().length&&(g=a.RA(b),0<g.length)){this.Qb=null;for(d=0;d<g.length;++d)if(a.hj(g[d])){this.Qb=g[d];break}this.Qb||(this.Qb=g[0]);g=a.hj(this.Qb);!this.Qb.NoMove&&a.Fc(this.Qb)&&g?this.state=c.AnnotationSelectTool.sb.Js:b.ctrlKey?this.state=c.AnnotationSelectTool.sb.Ro:(this.state=c.AnnotationSelectTool.sb.NONE,a.Zc());return}}a.Zc()}},mouseMove:function(b){f.prototype.mouseMove.call(this,b);!this.isSelecting()&&this instanceof c.nm||b.preventDefault();if(!this.overrideSelection&&
this.state!==c.AnnotationSelectTool.sb.NONE){b=this.u.na;var a=this.pageCoordinates[1];if(a&&this.ye===a.pageIndex){var g=a.x-this.qh.x,d=a.y-this.qh.y;if(this.state===c.AnnotationSelectTool.sb.Js&&this.Qb){"move"!==this.u.el.css("cursor")&&this.u.el.css("cursor","move");var k=b.je(),h,m,p,n,q,v,r,u=!1;for(h=0;h<k.length;h++)p=k[h],b.Fc(p)&&!p.NoMove&&(m=p.he(),u?(m.x1<n&&(n=m.x1),m.y1<q&&(q=m.y1),m.x2>v&&(v=m.x2),m.y2>r&&(r=m.y2)):(n=m.x1,q=m.y1,v=m.x2,r=m.y2,u=!0));m=this.u.Mc(this.ye);p=this.u.Lc(this.ye);
h=new Annotations.Rect;this.u.Ib(this.Qb.Hb());h.x1=1*c.AnnotationSelectTool.PAGE_PADDING.x1;h.y1=1*c.AnnotationSelectTool.PAGE_PADDING.y1;h.x2=m-1*c.AnnotationSelectTool.PAGE_PADDING.x2;h.y2=p-1*c.AnnotationSelectTool.PAGE_PADDING.y2;n=Math.max(0+c.AnnotationSelectTool.PAGE_PADDING.x1,n);q=Math.max(0+c.AnnotationSelectTool.PAGE_PADDING.y1,q);v=Math.min(v,m-c.AnnotationSelectTool.PAGE_PADDING.x2);r=Math.min(r,p-c.AnnotationSelectTool.PAGE_PADDING.y2);if(u){n=n+g>=h.x1?g:h.x1-n;q=q+d>=h.y1?d:h.y1-
q;v=v+g<=h.x2?g:h.x2-v;r=r+d<=h.y2?d:h.y2-r;g=0<=g?Math.min(n,v):Math.max(n,v);d=0<=d?Math.min(q,r):Math.max(q,r);this.qh.x=a.x;this.qh.y=a.y;a={};for(h=0;h<k.length;h++)if(p=k[h],b.Fc(p)&&!p.NoMove&&(m=p.he(),m.x1+=g,m.y1+=d,m.x2+=g,m.y2+=d,0!==g||0!==d))p.resize(m),p.Dz=!0,a[p.sc()]=!0;for(var x in a)this.u.na.$c(x)}}else this.state===c.AnnotationSelectTool.sb.Is&&this.yh&&this.Qb&&(x=this.yh.move(this.Qb,g,d,this.vd(new Annotations.Point(this.ed.x,this.ed.y)),a,this.u),this.qh.x=a.x,this.qh.y=
a.y,x&&this.u.na.kc(this.Qb))}}},mouseLeftUp:function(){if(!this.overrideSelection){this.uc=!1;var b=this.u.na,a=b.je();if(this.state===c.AnnotationSelectTool.sb.Js)for(var g=0;g<a.length;g++){var d=a[g];d.Dz&&(d.Dz=void 0,b.trigger("annotationChanged",[[d],"modify"]))}else this.state===c.AnnotationSelectTool.sb.Kx?(g=this.yh.RG,this.yh&&b.trigger("annotationChanged",[[g],"modify"])):this.state===c.AnnotationSelectTool.sb.Is&&this.Qb&&b.trigger("annotationChanged",[[this.Qb],"modify"]);0<a.length?
this.u.el.css("cursor","default"):this.u.el.css("cursor",this.cursor);this.state=c.AnnotationSelectTool.sb.NONE}},Cw:function(){this.u.na.Jk(this.annotation);this.annotation=null},keyDown:function(b){27===b.which&&void 0!==this.annotation&&null!==this.annotation&&this.Cw();46!==b.which&&8!==b.which||a.utils.isEditableElement($(b.target))||(b=this.u.Ic().je(),this.u.Ic().Lu(b))},tap:function(b){if(!this.overrideSelection){var a=this.u.Ic(),c=a.Uk(b);if(c){var d=a.hj(c);b.originalEvent.ctrlKey||b.originalEvent.metaKey?
d?a.en(c):a.Fl(c):d||(a.Zc(),a.Fl(c));b.preventDefault()}}},isSelecting:function(){return this.state!==c.AnnotationSelectTool.sb.NONE}});c.nm=function(b){c.AnnotationSelectTool.call(this,b);this.au={x:0,y:0};this.zp=!1;this.cursor="url(Resources/hand.png), url(Resources/hand.cur), pointer"};c.nm.prototype=$.extend(new c.AnnotationSelectTool,{switchIn:function(){this.u.el.css("cursor",this.cursor)},mouseLeftDown:function(b){c.AnnotationSelectTool.prototype.mouseLeftDown.call(this,b);this.isSelecting()||
(this.au=this.Lf(b),this.zp=!0,this.u.el.css("cursor","url(Resources/dragginghand.png),url(Resources/dragginghand.cur), pointer"))},mouseLeftUp:function(b){c.AnnotationSelectTool.prototype.mouseLeftUp.call(this,b);this.isSelecting()||(this.zp=!1)},mouseMove:function(b){c.AnnotationSelectTool.prototype.mouseMove.call(this,b);if(!this.isSelecting()&&this.zp){var a=this.u.Jb(),g=this.Lf(b);b=this.au.x-g.x;g=this.au.y-g.y;this.u.scrollTo((a.scrollLeft()||0)+b,(a.scrollTop()||0)+g);this.u.el.css("cursor",
"url(Resources/dragginghand.png),url(Resources/dragginghand.cur), pointer")}},mouseLeave:function(){this.zp=!1;this.u.el.css("cursor",this.cursor)}});c.Cb=function(b){f.call(this,b);this.uc=!1;this.cursor="text"};c.Cb.SELECTION_MODE="structural";c.Cb.prototype={switchIn:function(){this.Oz(null,this.u.de());this.u.on("rotationUpdated.textTool",_.bind(this.Oz,this))},switchOut:function(b){f.prototype.switchOut.call(this,b);this.u.off("rotationUpdated.textTool")},Oz:function(b,e){this.cursor=e===a.o.Ea.ce||
e===a.o.Ea.Ue?"vertical-text":"text";this.u.el.css("cursor",this.cursor)},mouseLeftDown:function(b){c.AnnotationSelectTool.prototype.mouseLeftDown.call(this,b);this.isSelecting()||(b.altKey&&(c.Cb.SELECTION_MODE="rectangular"),this.uc=!0,this.u.cn())},mouseMove:function(b){c.AnnotationSelectTool.prototype.mouseMove.call(this,b);this.isSelecting()||!0!==this.uc||(1!==b.which&&0!==b.which?this.uc=!1:(b.data&&(this.pageCoordinates[1]=this.vd(b.data.mouseCoordinate)),this.select(this.pageCoordinates[0],
this.pageCoordinates[1])))},select:function(b,a){var c=this.u;if(b&&a){var f,k;a.pageIndex>=b.pageIndex?(f=b,k=a):(f=a,k=b);var h=f.pageIndex,m=k.pageIndex;if(null!==h&&null!==m){var p=new d.Fa,n=c.v.bd(h);1<=m-h?p.Qa(f.x,f.y,n.width,n.height):p.Qa(f.x,f.y,k.x,k.y);this.u.Gl(h,p,_.bind(this.textSelected,this));for(f=h+1;f<m;f++)n=c.v.bd(f),p=new d.Fa,p.Qa(0,0,n.width,n.height),c.Gl(f,p,_.bind(this.textSelected,this));h!==m&&(p=new d.Fa,p.Qa(0,0,k.x,k.y),c.Gl(m,p,_.bind(this.textSelected,this)))}}},
textSelected:function(){},mouseLeftUp:function(b){c.AnnotationSelectTool.prototype.mouseLeftUp.call(this,b);this.isSelecting()||(b.altKey&&"rectangular"===c.Cb.SELECTION_MODE&&(c.Cb.SELECTION_MODE="structural"),this.uc=!1)}};c.Cb.prototype=$.extend(new c.AnnotationSelectTool,c.Cb.prototype);c.bk=function(b){c.Cb.call(this,b);this.Fd={};this.Ey=this.oz=this.mk=null};c.bk.prototype=$.extend(new c.Cb,{select:function(){this.u.Tz();this.Fd={};c.Cb.prototype.select.apply(this,arguments)},mouseLeftDown:function(b){b.preventDefault();
this.mk=null;var a=this.vd(this.Lf(b));if(a){var g=a.pageIndex,d=this.hG(g),f=this;d.ge=function(){return f.Fd[g]};var h=!1,m=!1,p=this.Jt();0<p.length&&(g===p[0]&&(h=!0),g===p[p.length-1]&&(m=!0));if(a=(new Annotations.mi(d,!0,!1,h,m)).vo(d,this.u.Ib(g),a.x,a.y))this.mk=a,this.mk.kj?this.oz=this.jG():this.Ey=this.iG()}this.mk||(c.Cb.prototype.mouseLeftDown.apply(this,arguments),this.Fd={});this.uc=!0},mouseMove:function(b){b.preventDefault();if(this.uc&&this.mk){var a=this.vd(this.Lf(b));if(a){var g;
this.mk.kj?g=this.oz:(g=a,a=this.Ey);this.Fd={};this.select(g,a)}}else c.Cb.prototype.mouseMove.apply(this,arguments)},mouseLeftUp:function(){c.Cb.prototype.mouseLeftUp.apply(this,arguments);0<Object.keys(this.Fd).length?(this.u.el.css("cursor","default"),this.du()):0===this.u.Ic().je().length&&this.u.el.css("cursor",this.cursor)},textSelected:function(b,a,c){this.u.Qr(b,a,c);0<a.length&&(this.u.el.css("cursor","default"),this.Fd[b]=a.map(function(b){return b.Qf()}));this.uc||this.du()},mouseDoubleClick:function(){var b=
this.pageCoordinates[0];if(b){var a=this;this.u.cD(b.pageIndex,b,function(){a.textSelected.apply(a,arguments);a.du()})}},cn:function(){this.Fd={}},du:function(){var b=this.Ny();b.quad&&this.trigger("selectionComplete",[b,this.Fd])},Jt:function(){return Object.keys(this.Fd).map(function(b){return parseInt(b,10)}).sort(function(b,a){return b-a})},Ny:function(){var b=this.Jt()[0],a=this.Fd[b];return{quad:a?a[0]:null,pageIndex:b}},jG:function(){var b=this.Ny(),a=b.quad;return{x:a.x1,y:(a.y1+a.y3)/2,pageIndex:b.pageIndex}},
iG:function(){var b=this.Jt(),b=b[b.length-1],a=this.Fd[b],a=a[a.length-1];return{x:a.x3,y:(a.y1+a.y3)/2,pageIndex:b}},hG:function(b){var a=Infinity,c=Infinity,d=0,f=0;if(b=this.Fd[b])for(var h=0;h<b.length;++h)var m=b[h],a=Math.min(a,m.x1,m.x2,m.x3,m.x4),c=Math.min(c,m.y1,m.y2,m.y3,m.y4),d=Math.max(d,m.x1,m.x2,m.x3,m.x4),f=Math.max(f,m.y1,m.y2,m.y3,m.y4);return{X:a,Y:c,Width:d-a,Height:f-c}}},a.utils.eventHandler);c.nb=function(b,a,g){c.AnnotationSelectTool.call(this,b);this.annotation=null;this.lu=
a;this.wH=g;this.cursor="crosshair";this.defaults={StrokeColor:new Annotations.Color(0,0,0),FillColor:new Annotations.Color(0,0,0,0),StrokeThickness:1,Opacity:1}};c.nb.prototype=$.extend(new c.AnnotationSelectTool,{switchIn:function(){this.u.el.css("cursor",this.cursor);this.u.xd({annotMode:!0})},switchOut:function(b){null!==this.annotation&&void 0!==this.annotation&&(this.u.na.Jk(this.annotation),this.annotation=null);c.AnnotationSelectTool.prototype.switchOut.call(this,b);this.u.xd({annotMode:!1})},
mouseLeftDown:function(b){c.AnnotationSelectTool.prototype.mouseLeftDown.call(this,b);if(!this.isSelecting()&&!this.annotation&&(b=this.pageCoordinates[0])){var a=this.u.na;this.annotation=new this.lu(this.wH);this.annotation.X=b.x;this.annotation.Y=b.y;this.annotation.PageNumber=b.pageIndex+1;this.annotation.Author=a.Xi();null!==this.annotation.StrokeColor&&(b=this.defaults.StrokeColor,this.annotation.StrokeColor=new Annotations.Color(b.R,b.G,b.B,b.A));null!==this.annotation.StrokeThickness&&(this.annotation.StrokeThickness=
this.defaults.StrokeThickness);null!==this.annotation.FillColor&&(b=this.defaults.FillColor,this.annotation.FillColor=new Annotations.Color(b.R,b.G,b.B,b.A));this.annotation.Opacity=this.defaults.Opacity;this.trigger("annotationCreated",[this.annotation])}},mouseLeftUp:function(b){c.AnnotationSelectTool.prototype.mouseLeftUp.call(this,b);this.isSelecting()||this.finish()},mouseMove:function(b){c.AnnotationSelectTool.prototype.mouseMove.call(this,b);if(!this.isSelecting()&&this.annotation&&"undefined"!==
typeof this.pageCoordinates){b=this.pageCoordinates[0];var a=this.pageCoordinates[1];null!==a&&null!==b&&b.pageIndex===a.pageIndex&&(b=new Annotations.Rect(b.x,b.y,a.x,a.y),b.normalize(),this.annotation.dg(b),this.u.na.kc(this.annotation))}},finish:function(){if(this.annotation){var b=this.annotation.xa(),a=this.annotation.ta(),c=2*(this.annotation.getRectPadding()+1);b<=c&&a<=c?this.u.na.Jk(this.annotation):(this.u.na.Ef(this.annotation),this.trigger("annotationAdded",[this.annotation]));this.annotation=
null}}},a.utils.eventHandler);new c.nb;c.Xl=function(b){c.AnnotationSelectTool.call(this,b);this.Mh=null};c.Xl.prototype=$.extend(new c.AnnotationSelectTool,{switchIn:function(){this.u.el.css("cursor","default")},switchOut:function(b){f.prototype.switchOut.call(this,b)},mouseLeftDown:function(b){c.AnnotationSelectTool.prototype.mouseLeftDown.call(this,b);if(!this.isSelecting()){this.uc=!0;this.state=c.AnnotationSelectTool.sb.NONE;b=this.u.na;var a=this.vd(this.kb);a&&(this.ye=a.pageIndex,b.Zc(),this.state=
c.AnnotationSelectTool.sb.Ro)}},mouseMove:function(b){c.AnnotationSelectTool.prototype.mouseMove.call(this,b);if(this.state===c.AnnotationSelectTool.sb.Ro&&(b=this.pageCoordinates[1])&&this.ye===b.pageIndex){var e=b.x,g=b.y;b=0>e-this.yk?e:this.yk;var d=0>g-this.zk?g:this.zk,e=Math.abs(e-this.yk),g=Math.abs(g-this.zk),f=$("#annoteditselectrect");0===f.length&&(f=$("<div id='annoteditselectrect' class='ui-selectable-helper'></div>").appendTo(this.u.el));var h=this.kb.x-this.ed.x,m=this.kb.y-this.ed.y,
p=this.u.Jb(),n=p.scrollLeft()||0,p=p.scrollTop()||0,q=this.ed.x-n,v=this.ed.y-p,r=this.kb.x-n,u=this.kb.y-p,x=this.u.Mc(this.ye),z=this.u.Lc(this.ye),v=Math.min(u,v),q=Math.min(r,q),r=this.docViewer.xn().De({x:0,y:0},this.ye),E=this.docViewer.xn().De({x:x,y:z},this.ye),x=Math.min(r.x,E.x),z=Math.min(r.y,E.y),u=Math.max(r.x,E.x),r=Math.max(r.y,E.y),x=x-n,z=z-p;z>v&&(m+=z-v,v=z);x>q&&(h+=x-q,q=x);h=a.Rc.Math.Qz(Math.abs(h),0,u-n-q);m=a.Rc.Math.Qz(Math.abs(m),0,r-p-v);n="inline";if(5>h||5>m)n="none";
f.css({width:h,height:m,top:v,left:q,"z-index":"44",position:"absolute",border:"1px dotted black",display:n});this.Mh=a.Rc.eC(b,d,e,g)}},mouseLeftUp:function(b){if(this.state!==c.AnnotationSelectTool.sb.Ro)c.AnnotationSelectTool.prototype.mouseLeftUp.call(this,b);else{var a=this;this.uc=!1;var g=function(){a.Mh=null;a.state=c.AnnotationSelectTool.sb.NONE;$("#annoteditselectrect").css("display","none")};if(!this.Mh){g();return}if(this.Mh.x1===this.Mh.x2&&this.Mh.y1===this.Mh.y2)c.AnnotationSelectTool.prototype.mouseLeftUp.call(this,
b);else{var d=this.fG(this.ye,this.Mh);this.u.Ic().Gw(d)}g()}if(g=this.pageCoordinates[1])d=this.u.na,this.SD(d,g),this.RD(d,b)},fG:function(b,e){for(var c,d=[],f=this.u.Ic().dc.filter(function(a){return a.Hb()===b&&!a.bf()&&!a.Hidden}),h=0;h<f.length;h++){c=f[h];var m=1;!0===c.NoZoom&&(m=this.u.Ib(c.Hb()));a.Rc.mL(e,a.Rc.eC(c.Yk(),c.al(),c.xa()/m,c.ta()/m))&&d.push(c)}return d}});c.Tj=function(b){c.nb.call(this,b,a.Annotations.Bd)};c.Tj.prototype=$.extend(new c.nb,{mouseLeftDown:function(b){c.nb.prototype.mouseLeftDown.call(this,
b);this.isSelecting()||this.annotation&&(this.annotation.Start={x:this.pageCoordinates[0].x,y:this.pageCoordinates[0].y})},mouseMove:function(b){c.AnnotationSelectTool.prototype.mouseMove.call(this,b);if(!this.isSelecting()&&this.annotation&&"undefined"!==typeof this.pageCoordinates){b=this.pageCoordinates[0];var a=this.pageCoordinates[1];null!==a&&null!==b&&b.pageIndex===a.pageIndex&&(this.annotation.End={x:a.x,y:a.y},this.annotation.adjustRect(),this.u.na.kc(this.annotation))}}});c.Cs=function(b){c.Tj.call(this,
b)};c.Cs.prototype=$.extend(new c.Tj,{mouseLeftDown:function(b){c.Tj.prototype.mouseLeftDown.call(this,b);this.annotation&&this.annotation.Tg("OpenArrow")}});c.Xs=function(b){c.nb.call(this,b,a.Annotations.fi)};c.Xs.prototype=new c.nb;c.Ls=function(b){c.nb.call(this,b,a.Annotations.Mj)};c.Ls.prototype=new c.nb;c.FreeHandCreateTool=function(b){c.nb.call(this,b,a.Annotations.FreeHandAnnotation);this.Vb=0;this.qq=null;this.uc=!1;this.pointerType=null};c.FreeHandCreateTool.prototype=$.extend(new c.nb,
{createDelay:1500,simplifyPen:!1,mouseLeftDown:function(b){c.AnnotationSelectTool.prototype.mouseLeftDown.call(this,b);if(!this.isSelecting()&&this.pageCoordinates[0]){this.uc=!0;if(this.annotation)if(this.pageCoordinates[0].pageIndex===this.annotation.PageNumber-1){b=this.pageCoordinates[0].x;var a=this.pageCoordinates[0].y,g=!1,d=this.annotation.getPath(this.Vb);d&&0<d.length&&(d=d[d.length-1],d.x===b&&d.y===a&&(g=!0));g||this.annotation.Fb(b,a,this.Vb)}else this.complete(),c.FreeHandCreateTool.prototype.mouseLeftDown.call(this,
b);else c.nb.prototype.mouseLeftDown.call(this,b);clearTimeout(this.qq)}},complete:function(){this.annotation&&0<this.annotation.aj().length?(this.u.na.kc(this.annotation),this.annotation.finish(),c.nb.prototype.mouseLeftUp.call(this,null),this.hz()):this.annotation=null},Br:function(){this.complete()},switchOut:function(b){this.complete();c.nb.prototype.switchOut.call(this,b)},mouseLeftUp:function(){c.AnnotationSelectTool.prototype.mouseLeftUp.apply(this,arguments);if(!this.isSelecting()&&(this.uc=
!1,this.annotation)){var b=this.u.na,a=this.annotation.getPath(this.Vb);if(a){if(4>a.length)this.annotation.aj().pop(),this.annotation.adjustRect(),b.kc(this.annotation);else{if("pen"!==this.pointerType||this.simplifyPen)this.annotation.RM(.75),b.kc(this.annotation);this.Vb++}this.qq=setTimeout(_.bind(this.complete,this),this.createDelay)}0===this.annotation.aj().length&&(this.complete(),clearTimeout(this.qq))}},mouseMove:function(b){c.AnnotationSelectTool.prototype.mouseMove.call(this,b);!this.isSelecting()&&
!1!==this.uc&&this.annotation&&null!==this.pageCoordinates&&null!==this.pageCoordinates[1]&&this.pageCoordinates[0].pageIndex===this.pageCoordinates[1].pageIndex&&(this.annotation.Fb(this.pageCoordinates[1].x,this.pageCoordinates[1].y,this.Vb),this.u.na.kc(this.annotation))},hz:function(){this.Vb=0;this.uc=!1;clearTimeout(this.qq)},Cw:function(){this.hz();c.AnnotationSelectTool.prototype.Cw.call(this)},contextMenu:function(b){b.preventDefault()},DC:function(b){this.pointerType=b.originalEvent.pointerType}});
c.SignatureCreateTool=function(b){c.Tool.call(this,b);this.fh=100;this.location=null;this.ln=!1;this.rs=this.Vb=0;this.visible=!1;this.Ku=null;this.cursor="crosshair";var a=this;$(document).on("mouseup",function(){a.ln&&(a.visible=!0);a.Hy()})};c.SignatureCreateTool.prototype={switchIn:function(){this.u.el.css("cursor",this.cursor);this.initAnnot()},Ly:function(b){var a,c=this.canvas[0].getBoundingClientRect();b.originalEvent&&b.originalEvent.touches&&(b=0===b.originalEvent.touches.length?b.originalEvent.changedTouches[0]:
b.originalEvent.touches[0]);a=b.clientX;b=b.clientY;return{x:a-c.left,y:b-c.top}},uy:function(){this.ctx.setTransform(1,0,0,1,0,0);this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)},sH:function(){this.uy();this.drawBackground();this.freeHandAnnot.eI();this.rs=this.Vb=0},Hy:function(){this.ln&&(this.Vb++,this.visible&&(this.rs++,this.visible=!1));this.ln=!1},drawBackground:function(){var b=window.utils.getCanvasMultiplier();this.ctx.scale(b,b);this.ctx.save();var a=2/3*this.ctx.canvas.height/
b;this.ctx.strokeStyle="#000";this.ctx.lineCap="square";this.ctx.lineWidth=1;this.ctx.beginPath();this.ctx.moveTo(10,a);this.ctx.lineTo(this.ctx.canvas.width/b-10,a);this.ctx.stroke();this.ctx.fillStyle="#000";var c=i18n.t("signatureDialog.signHere");this.ctx.textAlign="center";this.ctx.textBaseline="top";this.ctx.font="15px Verdana,Arial,sans-serif";this.ctx.fillText(c,this.ctx.canvas.width/b/2,a-20);this.ctx.restore()},Cy:function(){this.uy();this.drawBackground();this.freeHandAnnot.draw(this.ctx)},
initAnnot:function(){var b=this.u.Ic();this.freeHandAnnot=new Annotations.FreeHandAnnotation;this.freeHandAnnot.Author=b.Xi();this.freeHandAnnot.StrokeColor=new Annotations.Color(0,0,0);this.freeHandAnnot.StrokeThickness=3;this.freeHandAnnot.Subject=i18n.t("annotations.types.signature")},KB:function(b){this.Ku=b=$.extend(!0,[],b)},zG:function(b){this.KB(b);this.trigger("saveDefault",[b])},EJ:function(){return this.Ku?!0:!1},LK:function(){this.drawBackground()},GG:function(){var b=this.Ku;if(b){for(var b=
$.extend(!0,[],b),a=0;a<b.length;++a){for(var c=0;c<b[a].length;++c)b[a][c]=new Annotations.Point(b[a][c].x,b[a][c].y);this.freeHandAnnot.setPath(b[a],a)}this.rs=b.length;this.Az()}},Az:function(b){if(this.PB())return!1;b&&this.zG(this.freeHandAnnot.aj());b=this.u.Ic();var e=this.location.pageIndex+1;this.freeHandAnnot.PageNumber=e;this.freeHandAnnot.StrokeThickness=1;e=this.u.de(e);e!==a.o.Ea.Jf&&this.freeHandAnnot.rotate(e*-Math.PI/2,this.location);var c=this.freeHandAnnot.Width,d=this.freeHandAnnot.Height,
f,h;c>d?(e=this.location.x-this.fh,f=this.location.y-d/c*this.fh,h=this.location.x+this.fh,d=this.location.y+d/c*this.fh):(e=this.location.x-c/d*this.fh,f=this.location.y-this.fh,h=this.location.x+c/d*this.fh,d=this.location.y+this.fh);c=this.u.getDocument().bd(this.location.pageIndex);e=new Annotations.Rect(e,f,h,d);e.Bq(new Annotations.Rect(0,0,c.width,c.height));this.freeHandAnnot.resize(e);b.Ef(this.freeHandAnnot);b.kc(this.freeHandAnnot);this.trigger("annotationAdded",[this.freeHandAnnot]);this.initAnnot();
return!0},PB:function(){return 0===this.rs},DM:function(b){var a=this;this.canvas=b;this.ctx=b[0].getContext("2d");this.canvas.on("mousedown touchstart",function(b){if(1===b.which||0===b.which)b=a.Ly(b),a.freeHandAnnot.Fb(b.x,b.y,a.Vb),a.Cy(),a.ln=!0});this.canvas.on("touchmove",function(b){b.preventDefault()});this.canvas.on("mousemove touchmove",_.throttle(function(b){a.ln&&(b=a.Ly(b),a.freeHandAnnot.Fb(b.x,b.y,a.Vb),a.Cy(),a.visible=!0)},20));this.canvas.on("mouseup touchend",function(){a.Hy()})},
mouseLeftDown:function(b){b.preventDefault();c.Tool.prototype.mouseLeftDown.apply(this,arguments);this.u.na.Zc()},mouseLeftUp:function(b){b.preventDefault();c.Tool.prototype.mouseLeftUp.apply(this,arguments);var a=this.pageCoordinates[1];a&&(this.location=a,this.trigger("locationSelected",a))}};c.SignatureCreateTool.prototype=$.extend(new c.Tool,c.SignatureCreateTool.prototype,a.utils.eventHandler);c.Cd=function(b,a){c.Cb.call(this,b);this.text=this.annotation=null;this.lu=a;this.defaults={StrokeColor:new Annotations.Color(255,
0,0)}};c.Cd.AUTO_SET_TEXT=!0;c.Cd.prototype=$.extend(new c.Cb,{switchIn:function(b){c.Cb.prototype.switchIn.call(this,b);this.u.xd({annotMode:!0})},switchOut:function(b){c.Cb.prototype.switchOut.call(this,b);this.u.xd({annotMode:!1})},mouseLeftDown:function(b){c.Cb.prototype.mouseLeftDown.call(this,b);this.isSelecting()||this.annotation||!this.pageCoordinates||(b=this.u.na,this.annotation=new this.lu,this.annotation.Author=b.Xi(),b=this.defaults.StrokeColor,this.annotation.StrokeColor=new Annotations.Color(b.R,
b.G,b.B,b.A),this.trigger("annotationCreated",[this.annotation]))},textSelected:function(b,a,d){this.annotation&&this.pageCoordinates[0].pageIndex===b&&0<a.length&&(this.annotation.Uw(a.map(function(b){return b.Qf()})),this.annotation.PageNumber=b+1,this.text=d,c.Cd.AUTO_SET_TEXT&&this.annotation.Il(this.text),this.u.na.kc(this.annotation))},mouseLeftUp:function(b){c.Cb.prototype.mouseLeftUp.call(this,b);!this.isSelecting()&&this.annotation&&(b=this.u.na,!this.text||1>this.text.length?b.Jk(this.annotation):
(b.Ef(this.annotation),this.trigger("annotationAdded",[this.annotation])),this.annotation=this.text=null)}},a.utils.eventHandler);c.ht=function(b){c.Cd.call(this,b,a.Annotations.kg);this.defaults.StrokeColor=new Annotations.Color(255,255,0)};c.ht.prototype=new c.Cd;c.kt=function(b){c.Cd.call(this,b,a.Annotations.ek)};c.kt.prototype=new c.Cd;c.jt=function(b){c.Cd.call(this,b,a.Annotations.dk)};c.jt.prototype=$.extend(new c.Cd,{mouseLeftUp:function(){c.Cd.prototype.mouseLeftUp.apply(this,arguments);
if(!this.isSelecting()){var b=this.annotation,a=this.u.na;b&&a.Hh(b)&&a.kc(b)}}});c.it=function(b){c.Cd.call(this,b,a.Annotations.ck)};c.it.prototype=new c.Cd;c.et=function(b){f.call(this,b);this.annotation=null;this.defaults={StrokeColor:new Annotations.Color(255,255,0),Opacity:1};this.cursor="crosshair"};c.et.prototype=$.extend(new c.Tool,{switchIn:function(){this.u.el.css("cursor",this.cursor)},mouseLeftDown:function(b){if(!this.annotation){f.prototype.mouseLeftDown.call(this,b);var a=this.pageCoordinates[0];
if(a){var c=this.u.na;c.Zc();this.annotation=new Annotations.gh;var d=this.u.Ib(this.pageCoordinates[0].pageIndex);this.annotation.X=a.x-this.annotation.xa()/2/d;this.annotation.Y=a.y-this.annotation.ta()/2/d;this.annotation.PageNumber=a.pageIndex+1;this.annotation.Author=c.Xi();a=this.defaults.StrokeColor;this.annotation.StrokeColor=new Annotations.Color(a.R,a.G,a.B,a.A);this.annotation.Opacity=this.defaults.Opacity;this.trigger("annotationCreated",[this.annotation]);c.Ef(this.annotation);this.trigger("annotationAdded",
[this.annotation]);c.kc(this.annotation);this.annotation=null;b.preventDefault()}}}},a.utils.eventHandler);c.dt=function(b){f.call(this,b);this.annotation=null;this.defaults={StrokeColor:new Annotations.Color(255,0,0),Opacity:1};this.cursor="crosshair"};c.dt.prototype=$.extend(new c.Tool,{switchIn:function(){this.u.el.css("cursor",this.cursor)},mouseLeftDown:function(b){if(!this.annotation){f.prototype.mouseLeftDown.call(this,b);this.u.Ic().Zc();var a=this.pageCoordinates[0];if(a){var c=this.vd(this.kb).pageIndex,
d=document.createElement("input");d.setAttribute("type","file");d.setAttribute("accept","image/*");d.setAttribute("display","none");d.onchange=function(){if(d.files&&d.files[0]){var b=new FileReader;b.onload=function(b){var d=this.u.na;this.annotation=new Annotations.ji;this.annotation.X=a.x;this.annotation.Y=a.y;this.annotation.PageNumber=a.pageIndex+1;this.annotation.Author=d.Xi();this.annotation.ImageData=b.target.result;var f=90*this.u.de(this.annotation.PageNumber);this.annotation.Rotation=f;
var n=new Image;n.onload=function(){var b=n.width,a=n.height;if(90===f||270===f)var e=b,b=a,a=e;var h=b/a,e=this.u.Mc(c),l=this.u.Lc(c),b=Math.min(b,e),a=Math.min(a,l);b/a!==h&&(a*h<b?b=a*h:a=b/h);this.annotation.Width=b;this.annotation.Height=a;this.annotation.X-=this.annotation.Width/2;this.annotation.Y-=this.annotation.Height/2;b=this.annotation.he();b.Bq(new Annotations.Rect(0,0,e,l));this.annotation.resize(b);this.trigger("annotationCreated",[this.annotation]);d.Ef(this.annotation);this.trigger("annotationAdded",
[this.annotation]);d.kc(this.annotation);this.annotation=null}.bind(this);n.src=b.target.result}.bind(this);b.readAsDataURL(d.files[0]);document.body.removeChild(d)}}.bind(this);document.body.appendChild(d);d.click();b.preventDefault()}}}},a.utils.eventHandler);c.Zj=function(b){c.nb.call(this,b,a.Annotations.Yj);this.annotation=null;this.uj=!1};c.Zj.prototype=$.extend(new c.nb,{mouseLeftDown:function(b){var a;c.nb.prototype.mouseLeftDown.call(this,b);!this.isSelecting()&&this.annotation&&((a=b.data.pageCoordinate,
a&&a.pageIndex===this.annotation.Hb())?null!==a.x&&null!==a.y&&(0===this.annotation.fa.length?this.annotation.Fb(a.x,a.y):this.uj||(this.annotation.wl(),this.annotation.Fb(a.x,a.y)),this.uj=!0):this.mouseDoubleClick(b))},mouseLeftUp:function(b){c.AnnotationSelectTool.prototype.mouseLeftUp.call(this,b)},mouseMove:function(b){c.AnnotationSelectTool.prototype.mouseMove.call(this,b);if(this.annotation&&!this.isSelecting()&&b.data&&(b=b.data.pageCoordinate,null!==b&&null!==b.x&&null!==b.y&&b.pageIndex===
this.annotation.Hb())){this.uj||this.annotation.wl();var a=this.annotation.getPath();0===a.length?(this.annotation.Fb(b.x,b.y),this.uj=!1):0<a.length&&(a[a.length-1].x!==b.x||a[a.length-1].y!==b.y)&&(this.annotation.Fb(b.x,b.y),this.uj=!1);this.annotation.X=this.annotation.Oa.x;this.annotation.Y=this.annotation.Oa.y;this.u.na.kc(this.annotation)}},mouseDoubleClick:function(){this.annotation&&(this.annotation.finish(),this.finish())},Br:function(b){this.annotation&&this.mouseDoubleClick(b)},contextMenu:function(b){b.preventDefault()},
tap:function(){}});c.bi=function(b){c.nb.call(this,b,a.Annotations.dh);this.annotation=null;this.uj=!1};c.bi.prototype={};c.bi.prototype=$.extend(new c.Zj,c.bi.prototype);c.pm=function(b){c.nb.call(this,b,a.Annotations.dh);this.annotation=null;this.uj=!1};c.pm.prototype={mouseLeftDown:function(){c.bi.prototype.mouseLeftDown.apply(this,arguments);this.annotation&&(this.annotation.Style="cloudy",this.annotation.Intent="PolygonCloud")}};c.pm.prototype=$.extend(new c.bi,c.pm.prototype);c.Lj=function(b){c.nb.call(this,
b,a.Annotations.Ma,Annotations.Ma.Dc.FreeTextCallout);this.defaults.TextColor=new Annotations.Color(255,0,0);this.defaults.FontSize="9pt"};c.Lj.LineCount=2;c.Lj.prototype={};$.extend(c.Lj.prototype,c.Zj.prototype,{mouseLeftDown:function(b){c.Zj.prototype.mouseLeftDown.call(this,b);if(null!==this.annotation&&(this.annotation.CalloutLineCount=c.Lj.LineCount,this.annotation.getPath().length>=this.annotation.CalloutLineCount+1)){this.annotation.getPath().length>this.annotation.CalloutLineCount+1&&this.annotation.wl();
var a=this.annotation.getPath()[this.annotation.CalloutLineCount],d=90*this.u.de(this.annotation.PageNumber),f=this.u.Mc(this.annotation.Hb()),k=this.u.Lc(this.annotation.Hb());a.x+150>f&&(a.x-=150);a.y+15>k?a.y-=15:0>a.y-15&&(a.y+=15);90===d||270===d?(this.annotation.Fb(a.x-15,a.y),this.annotation.Fb(a.x+15,a.y+150)):(this.annotation.Fb(a.x,a.y-15),this.annotation.Fb(a.x+150,a.y+15));this.annotation.Rotation=d;a=this.defaults.TextColor;this.annotation.TextColor=new Annotations.Color(a.R,a.G,a.B,
a.A);this.annotation.FontSize=this.defaults.FontSize;this.u.na.kc(this.annotation);this.finish();b.preventDefault()}},mouseDoubleClick:function(b){this.annotation||c.Tool.prototype.mouseDoubleClick.call(this,b)},Br:function(){if(null!==this.annotation){var b=this.annotation.sc();this.annotation=null;this.u.na.$c(b)}},contextMenu:function(b){b.preventDefault()}});c.Rs=function(b){c.nb.call(this,b,a.Annotations.Ma);this.defaults.StrokeThickness=0;this.defaults.TextColor=new Annotations.Color(255,0,
0);this.defaults.FontSize="9pt";this.ll=!1};c.Rs.prototype=$.extend(new c.nb,{initialText:"Insert text here",mouseLeftDown:function(b){c.nb.prototype.mouseLeftDown.call(this,b);this.isSelecting()||this.ll||!this.annotation||(this.annotation.StrokeThickness=Math.max(this.annotation.StrokeThickness,1),this.annotation.FillColor=new Annotations.Color(200,220,250,.2),this.annotation.Jl(Annotations.Ma.Dc.FreeText),this.annotation.Il(this.initialText),this.annotation.Rotation=90*this.u.de(this.annotation.PageNumber),
b=this.defaults.TextColor,this.annotation.TextColor=new Annotations.Color(b.R,b.G,b.B,b.A),this.annotation.FontSize=this.defaults.FontSize)},mouseMove:function(b){c.AnnotationSelectTool.prototype.mouseMove.call(this,b);if(!this.isSelecting()&&!this.ll&&this.annotation&&"undefined"!==typeof this.pageCoordinates){b=this.pageCoordinates[0];var a=this.pageCoordinates[1];null!==a&&null!==b&&b.pageIndex===a.pageIndex&&(b=new Annotations.Rect(b.x,b.y,a.x,a.y),b.normalize(),this.annotation.dg(b),this.annotation.Kl(new Annotations.Rect(0,
0,0,0)),this.u.na.kc(this.annotation))}},mouseLeftUp:function(b){c.AnnotationSelectTool.prototype.mouseLeftUp.call(this,b);if(!this.isSelecting()){if(this.u.Ic().Uk(b)&&this.annotation){b=this.annotation.xa();var a=this.annotation.ta(),d=2*(this.annotation.getRectPadding()+1);if(b<=d||a<=d){this.ll=!0;this.annotation=null;return}}if(this.ll)this.ll=!1,this.annotation=null;else if(this.annotation){b=this.annotation.xa();a=this.annotation.ta();d=2*(this.annotation.getRectPadding()+1);if(b<=d||a<=d)b=
Number(this.annotation.FontSize.split("pt")[0]),this.annotation.rD(10*b),this.annotation.no(2*b),this.annotation.Y-=this.annotation.ta()/2;this.annotation.StrokeThickness=this.defaults.StrokeThickness;b=this.defaults.FillColor;this.annotation.FillColor=new Annotations.Color(b.R,b.G,b.B,b.A);b=this.annotation.getRectPadding();this.annotation.Kl(new Annotations.Rect(b,b,b,b));this.u.na.kc(this.annotation);this.u.na.Ef(this.annotation);this.trigger("annotationAdded",[this.annotation]);this.annotation=
null;this.ll=!0}}}})})(window);
(function(a){function d(){function b(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b()}function c(b,a,e){var c=$("#text-width-tester");b=b.split("\n").join("<br>&nbsp;").split(" ").join("&nbsp;");c.length?c.css({"font-family":e,"font-size":a}).html(b):(c="display:none;",_.isString(e)&&(c+="font-family:"+e+";"),_.isUndefined(a)||(c+="font-size:"+a+";"),c=$('<span id="text-width-tester" style="'+c+'">'+b+"</span>"),$("body").append(c));
return{width:c.width(),height:c.height()}}function f(b,a){var e=(f.canvas||(f.canvas=document.createElement("canvas"))).getContext("2d");e.font=a;return e.measureText(b).width}function b(b,a,e){if(b){b.css("font-size",a+"px");for(var c=0,d;c<=a;)d=Math.floor((c+a)/2),b.css("overflow","hidden"),b[0].offsetHeight,b.css("font-size",d+"px"),e&&b.css("line-height",e(d)),b.css("overflow","auto"),b[0].scrollHeight>Math.ceil(b.outerHeight())?a=d-1:c=d+1;b[0].scrollHeight>Math.ceil(b.outerHeight())&&b.css("font-size",
"-=2");return parseFloat(b.css("font-size"))}return a/2}function e(b,e){if(a.utils.disableFormCharacterProcessing)b.on("change",function(){e({change:this.value,QB:!0})});else b.on("input",function(b){b.change=this.value;e(b)})}function g(b){return a.utils.ie?{CC:b,css:1}:{CC:b+4,css:1+4/b}}var l;if(!(l=!Object.defineProperty)){var k;try{Object.defineProperty({},"x",{}),k=!0}catch(n){k=!1}l=!k}l&&(Object.defineProperty=function(b,a,e){if(b!==Object(b))throw new TypeError("Object.defineProperty called on non-object");
Object.prototype.__defineGetter__&&"get"in e&&Object.prototype.__defineGetter__.call(b,a,e.get);Object.prototype.__defineSetter__&&"set"in e&&Object.prototype.__defineSetter__.call(b,a,e.set);"value"in e&&(b[a]=e.value);return b});"function"!==typeof Object.defineProperties&&(Object.defineProperties=function(b,a){if(b!==Object(b))throw new TypeError("Object.defineProperties called on non-object");for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&Object.defineProperty(b,e,a[e]);return b});
a.Annotations=a.Annotations||{};var h=a.Annotations,m=1;h.Annotation=function(){this.Subject="Annotation";this.gy=1;this.ot=this.rt=this.ut=this.st=0;this.Yx=void 0;this.jO=this.iO=!1;this.py=void 0;this.Ft=new Date;this.Py=d();this.Lt=!0;this.rk=this.Ty=this.Bi=!1;this.Vy=this.Yt=!0;this.Kp=[]};h.Annotation.prototype={elementName:"annotation",selectionModel:h.Uo,GB:!1,Av:function(){return null},draw:function(){},render:function(){},kx:function(){},Jh:function(){return!1},RB:function(){return!1},
dg:function(b){var a=this.he();b=new h.Rect(b.x1,b.y1,b.x2,b.y2);0>b.xa()&&(b.x1=a.x1,b.x2=a.x2);0>b.ta()&&(b.y1=a.y1,b.y2=a.y2);this.X=b.x1;this.Y=b.y1;this.Width=b.xa();this.Height=b.ta()},adjustRect:function(){},resize:function(b){this.dg(b)},dl:function(){return this.X},KM:function(b){this.X=parseFloat(b)},fl:function(){return this.Y},LM:function(b){this.Y=parseFloat(b)},xa:function(){return this.Width},rD:function(b){this.Width=parseFloat(b)},ta:function(){return this.Height},no:function(b){this.Height=
parseFloat(b)},he:function(){return new h.Rect(this.X,this.Y,this.X+this.Width,this.Y+this.Height)},getRectPadding:function(){return 0},sc:function(){return this.PageNumber},Hb:function(){return"undefined"===typeof this.PageNumber?void 0:this.PageNumber-1},kD:function(b){this.PageNumber=parseInt(b,10)},Yk:function(){return this.dl()},wB:function(){return this.Yk()+this.Width},al:function(){return this.fl()},SA:function(){return this.al()+this.Height},FI:function(){return this.Custom},ZL:function(b){this.Custom=
b},vn:function(){return this.ZK},Il:function(b){this.ZK=b;this.lb()},iu:function(b){this.Kp.push(b)},OH:function(b){b=this.Kp.indexOf(b);-1<b&&this.Kp.splice(b,1)},Vq:function(){return this.Kp},bf:function(){return!(_.isUndefined(this.InReplyTo)||_.isNull(this.InReplyTo))},FL:function(){return this.Yt},lb:function(){this.isImporting||(this.Ft=new Date);this.Lt||(this.Bi=!0)},serialize:function(b,e){var c=$(b),d=h.da,g=this.he();g.CA();g={subject:this.Subject,page:this.Hb(),rect:d.ds(g,e),flags:"print"};
this.Hidden&&(g.flags+=",hidden");this.Id&&(g.name=this.Id);this.Author&&(g.title=this.Author);this.Rotation&&(g.rotation=this.Rotation);this.DateModified&&(g.date=d.hx(this.DateModified));c.attr(g);if(d=this.vn()){var g=document.createElementNS("","contents-richtext"),f;if(a.utils.xmlSerializerNamespaceSupported){f=document.createElementNS("http://www.w3.org/1999/xhtml","body");var l=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:spec");l.nodeValue="2.0.2";f.setAttributeNodeNS(l);
l=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion");l.nodeValue="Acrobat:10.1.3";f.setAttributeNodeNS(l);f=$(f)}else f=$("<body>").attr({xmlns:"http://www.w3.org/1999/xhtml","xmlns:xfa":"http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion":"Acrobat:10.1.3","xfa:spec":"2.0.2"});f.appendTo($(g));f=$('<p dir="ltr"></p>').appendTo(f);l=";font-weight:normal;font-style:normal";l=this instanceof h.Ma?h.da.TL(this,e)+l:"font-size:10.0pt;text-align:left;color:#000000"+
l;$('<span dir="ltr"></span>').attr("style",l).text(d).appendTo(f);c.append(g);d=$(document.createElementNS("","contents")).text(d);c.append(d)}return b},vg:function(b){return(b=$(b).prop("nodeName"))&&this.elementName?b.toLowerCase()===this.elementName.toLowerCase():!1},deserialize:function(b,a){var e=$(b),c=h.da,d=$(b).attr("page"),d=parseInt(d,10);this.PageNumber=d+1;d=e.attr("rect")||"0,0,100,100";d=c.Pu(d,a);d.normalize();this.dg(d);this.Id=e.attr("name");this.Author=e.attr("title");"undefined"!==
typeof e.attr("subject")&&(this.Subject=e.attr("subject"));d=e.attr("flags");"undefined"!==typeof d&&(this.NoZoom=-1!==d.indexOf("nozoom"),this.NoRotate=-1!==d.indexOf("norotate"),this.Hidden=-1!==d.indexOf("hidden"));(d=e.attr("rotation"))&&(this.Rotation=d);(e=e.attr("date"))&&(this.DateModified=c.Ou(e));c="";e=b.getElementsByTagName("contents");if(0<e.length)c=$(e[0]).text();else if(d=b.getElementsByTagName("contents-richtext"),0<d.length)if(e=d[0].getElementsByTagName("body"),0<e.length)if(d=
e[0].getElementsByTagName("span"),0<d.length)for(e=0;e<d.length;++e)c+=$(d[e]).text();else c=$(e[0]).text();else c=$(d[0]).text();this.Il(c)}};h.Annotation.prototype=$.extend(Object.create(a.utils.eventHandler),h.Annotation.prototype);Object.defineProperties(h.Annotation.prototype,{X:{get:function(){return this.st},set:function(b){this.st=parseFloat(b);this.lb()}},Y:{get:function(){return this.ut},set:function(b){this.ut=parseFloat(b);this.lb()}},Width:{get:function(){return this.rt},set:function(b){this.rt=
parseFloat(b);this.lb()}},Height:{get:function(){return this.ot},set:function(b){this.ot=parseFloat(b);this.lb()}},NoMove:{get:function(){return this.ey},set:function(b){this.ey=!0===b||"true"===b}},NoResize:{get:function(){return this.fy},set:function(b){this.fy=!0===b||"true"===b}},PageNumber:{get:function(){return this.gy},set:function(b){this.gy=parseInt(b,10)}},DateModified:{get:function(){return this.Ft},set:function(b){this.Ft=b instanceof Date?b:new Date(b)}},Id:{get:function(){return this.Py},
set:function(b){this.Py=b}},Author:{get:function(){return this.py},set:function(b){this.py=b}},IsAdded:{get:function(){return this.Lt},set:function(b){this.Lt=b}},IsModified:{get:function(){return this.Bi},set:function(b){this.Bi=b}},IsDeleted:{get:function(){return this.Ty},set:function(b){this.Ty=b}},Filtered:{get:function(){return this.rk},set:function(b){this.rk=b}},Custom:{get:function(){return this.Yx},set:function(b){this.Yx=b}},Listable:{get:function(){return this.Vy},set:function(b){this.Vy=
b?!0:!1}}});h.Yl=function(b){this.lg=new h.Color;this.Fi=this.zi=this.Ak=0;this.Vc=null;this.set(b)};h.Yl.prototype={set:function(b){b instanceof h.Yl?(this.lg=new h.Color(b.lg),this.Ak=b.Ak,this.zi=b.zi,this.Fi=b.Fi,this.Vc=b.Vc):_.isArray(b)?3===b.length||4===b.length?(_.isUndefined(b[0])||(this.zi=Number(b[0])),_.isUndefined(b[1])||(this.Fi=Number(b[1])),_.isUndefined(b[2])||(this.Ak=Number(b[2])),4===b.length&&_.isArray(b[3])&&console.warn("dashed borders are currently unsupported")):console.warn("Invalid border specification ",
b," should be 3 or 4 elements long"):_.isObject(b)&&(_.isArray(b.border)&&this.set(b.border),_.isUndefined(b.color)||(this.lg=new h.Color(b.color)),_.isUndefined(b.width)||(this.Ak=Number(b.width)),_.isUndefined(b.cornerRadius)?_.isArray(b.cornerRadius)&&(this.zi=b.cornerRadius[0]||0,this.Fi=b.cornerRadius[1]||0):this.Fi=this.zi=Number(b.cornerRadius),_.isString(b.style)&&(this.Vc=b.style))},serialize:function(b){var a=$(b),e=h.da;this.UF&&a.attr("width",this.UF);this.Vc&&a.attr("style",this.Vc);
a=this.color;b.setAttribute("BC",[a.R/255,a.G/255,a.B/255].map(e.toFixed).join(","))},deserialize:function(b){var a=h.da,e={};a.getAttribute(b,"width")?e.width=parseInt(a.getAttribute(b,"width"),10):e.width=1;a.getAttribute(b,"style")&&(e.style=a.getAttribute(b,"style"),"bevelled"===e.style&&(e.style="beveled"));a.getAttribute(b,"BC")&&(e.color=a.getAttribute(b,"BC").split(",").map(Number));this.set(e)},gx:function(){var b=_.isNull(this.Vc)?"solid":this.Vc,a=this.Ak,e=this.zi.toFixed(6)+"px "+this.Fi.toFixed(6)+
"px",c={};"underline"===b?(c["border-bottom-style"]="solid",c["border-top-style"]="hidden",c["border-left-style"]="hidden",c["border-right-style"]="hidden"):(b={solid:"solid",beveled:"outset",inset:"inset"}[b],_.isUndefined(b)&&(b="solid"),c["border-style"]=b);c["border-color"]=this.lg.toString();c["border-width"]=a;c["border-top-left-radius"]=e;c["border-top-right-radius"]=e;c["border-bottom-left-radius"]=e;c["border-bottom-right-radius"]=e;return c}};Object.defineProperties(h.Yl.prototype,{color:{get:function(){return this.lg},
set:function(b){this.set({color:b})}},width:{get:function(){return this.Ak},set:function(b){this.set({width:b})}},style:{get:function(){return this.Vc},set:function(b){this.set({style:b})}},cornerRadius:{get:function(){return[this.zi,this.Fi]},set:function(b){this.set({cornerRadius:b})}}});h.HTMLAnnotation=function(b){h.Annotation.call(this);a.Actions.gg.call(this,b);this.lg=new h.Color(0,0,0,1);this.kp=new h.Color;this.lp=new h.Yl;this.sp=!1;this.Zt=0;this.kh=this.Wd=null;this.on("contentRemoved",
function(){this.kh=this.Wd=null;this.yt=!1});this.Qp=!0;_.isObject(b)&&(_.isUndefined(b.border)||this.lp.set(b.border),_.isUndefined(b.backgroundColor)||(this.kp=new h.Color(b.backgroundColor)),_.isUndefined(b.color)||(this.lg=new h.Color(b.color)),_.isUndefined(b.rect)||(this.rect=new h.Rect(b.rect)));var e=this.Jn(),c=this;Object.keys(e).forEach(function(b){var a=e[b];$(c).on(a.internal_name,function(e){c.Od(b,a.getEvent(c,e))})})};h.HTMLAnnotation.prototype={zh:"",Gv:function(b){return(this.xa()-
(this.Qp?2*this.border.width:0))*b},$q:function(b){return(this.ta()-(this.Qp?2*this.border.width:0))*b},zD:function(b){this.Qp=!!b},serialize:function(){this.Hidden=this.hidden;h.Annotation.prototype.serialize.apply(this,arguments)},deserialize:function(){h.Annotation.prototype.deserialize.apply(this,arguments);this.Hidden&&(this.hidden=!0,this.Hidden=!1)},Jn:function(){return{}},Li:function(){},Ye:function(b){var e=this.Zt,c=a.utils.getRotationOffsets(e,this.xa(),this.ta()),d=c.dx*b,c=c.dy*b;return $.extend({left:this.X*
b,top:this.Y*b,width:this.Gv(b),height:this.$q(b),position:"absolute",padding:"0",margin:"0","background-color":this.kp.toString(),"z-index":"35",display:this.sp?"none":"",transform:"translate("+d+"px,"+c+"px) rotate("+-e+"deg)","transform-origin":"top left","-webkit-transform":"translate("+d+"px,"+c+"px) rotate("+-e+"deg)","-webkit-transform-origin":"top left","-ms-transform":"translate("+d+"px,"+c+"px) rotate("+-e+"deg)","-ms-transform-origin":"top left","-moz-transform":"translate("+d+"px,"+c+
"px) rotate("+-e+"deg)","-moz-transform-origin":"top left","-webkit-appearance":"none"},this.Qp?this.lp.gx(b):{})},Sb:function(b){if(!b)throw"no zoom?";return{position:"absolute","font-size":"inherit","font-family":"inherit","font-weight":"inherit","font-style":"inherit",color:"inherit",width:this.Gv(b),height:this.$q(b),border:0,padding:0,margin:0,"background-color":"transparent","vertical-align":"top"}},Ie:function(b){this.sp=!b;this.Wd&&this.Wd.css("display",this.sp?"none":"")},createInnerElement:function(){console.warn("missing inner element");
return null},gB:function(){return this.kh},bB:function(){return this.Wd},render:function(b,a,e){this.Wd=this.Wd||$('<div class="'+this.zh+'" />');this.Wd.css(this.Ye(e));if(this.kh=this.kh||this.createInnerElement())this.kh.trigger("focusout"),this.kh.css(this.Sb(e)),this.yt||(this.Li(a),this.yt=!0);this.Wd[0].parentNode!==b[0]&&(b.append(this.Wd),this.Wd.append(this.kh))},kx:function(){this.Wd&&(this.Wd.remove(),this.yt=!1)}};h.HTMLAnnotation.prototype=$.extend(Object.create(h.Annotation.prototype),
h.HTMLAnnotation.prototype,a.Actions.gg.prototype);Object.defineProperties(h.HTMLAnnotation.prototype,{rect:{get:function(){return this.he()},set:function(b){this.dg(b)}},element:{get:function(){return this.bB()}},innerElement:{get:function(){return this.gB()}},hidden:{get:function(){return this.sp},set:function(b){this.Ie(!b)}},color:{get:function(){return this.lg},set:function(b){this.lg=new h.Color(b)}},border:{get:function(){return this.lp},set:function(b){this.lp.set(b)}},backgroundColor:{get:function(){return this.kp},
set:function(b){this.kp=new h.Color(b)}},actions:{get:function(){return this.Ui()}},rotation:{get:function(){return this.Zt},set:function(b){this.Zt=Number(b)}}});h.pf=function(b){this.xi=this.qd="";this._size=0;this.np=new h.Color([0,0,0]);this.cu=new h.Color([0,0,0]);this.Rp="Type1";this.vi=0;this.set(b)};h.pf.prototype={set:function(b){_.isObject(b)?(b.name&&(this.qd=String(b.name),this.xi=h.da.co(this.qd),this.zy=h.da.wC(this.qd),this.xy=h.da.vC(this.qd)),b.size&&(this._size=Number(b.size)),b.fillColor&&
(this.np=new h.Color(b.fillColor)),b.strokeColor&&(this.cu=new h.Color(b.strokeColor)),b.type&&(this.Rp=b.type)):_.isString(b)&&(this.qd=b,this.xi=h.da.co(this.qd),this.zy=h.da.wC(this.qd),this.xy=h.da.vC(this.qd))},sI:function(a,e,d){if(0===this._size){var g=e.$q(1);if(0===a.replace(/\s/g,"").length)return this.vi=Math.min(g/2,12);var f=20;d?f=b(e.innerElement,g)/m:(e=.95*e.Gv(1),g*=.95,a=c(a,f,this.xi?this.xi:void 0),f*=Math.min(e/a.width,g/a.height));return this.vi=Math.min(f,12)}},deserialize:function(b,
a){var e=h.da;if(e.getAttribute(b,"FontName")){var c=e.getAttribute(b,"FontName");this.qd=c;this.xi=h.da.co(c)}if(e.getAttribute(b,"FontSize")){var c=parseFloat(e.getAttribute(b,"FontSize")),e=a.W({x:0,y:0}),d=a.W({x:c,y:0}),c=e.x-d.x,e=e.y-d.y;this._size=Math.sqrt(c*c+e*e)}},ij:function(){return this.np.ij()&&this.cu.ij()},gx:function(b){var a={};""!==this.xi&&(a["font-family"]=this.xi,a["font-weight"]=this.zy,a["font-style"]=this.xy);a["font-size"]=0===this._size&&0!==this.vi?String(this.vi*b)+
"px":String(this._size*b)+"px";a.color=this.np.toString();3>parseFloat(a["font-size"])&&(a["font-size"]="3px");return a}};Object.defineProperties(h.pf.prototype,{name:{get:function(){return this.qd},set:function(b){this.set({name:b})}},size:{get:function(){return this._size},set:function(b){this.set({size:b})}},type:{get:function(){return this.Rp}},strokeColor:{get:function(){return this.cu},set:function(b){this.set({strokeColor:b})}},fillColor:{get:function(){return this.np},set:function(b){this.set({fillColor:b})}},
calculatedSize:{get:function(){return 0===this._size?this.vi:this._size}}});h.ih=function(b){this.sg={};this.wk=null;this.Om=0;_.isObject(b)&&_.isArray(b.mask)&&this.pn(b.mask)};h.ih.prototype={Zg:{ReadOnly:1,Required:2,NoExport:4,Multiline:4096,Password:8192,NoToggleToOff:16384,Radio:32768,PushButton:65536,Combo:131072,Edit:262144,DoNotScroll:8388608,RadiosInUnison:33554432},clear:function(){this.sg={}},pn:function(b){_.isNull(this.wk)&&(this.wk={});for(var a=b.length,e=0;e<a;++e){var c=b[e];this.wk[c]=
this.Zg[c]||0}},KH:function(b){var a=[],e=this.wk||this.Zg;Object.keys(e).forEach(function(c){0!==(b&e[c])&&(b&=~e[c],a.push(c))});return{result:a,jN:b}},get:function(b){return!!this.sg[b]},fN:function(){var b=0,a;for(a in this.sg)this.sg.hasOwnProperty(a)&&!0===this.sg[a]&&(b|=this.Zg[a]);return b|this.Om},toArray:function(){var b=this;return Object.keys(this.sg).filter(function(a){return b.sg[a]})},deserialize:function(b){b=h.da.getAttribute(b,"Ff");this.set(parseInt(b,10))},serialize:function(b){b.setAttribute("Ff",
String(this.fN()))},set:function(b,a){if(_.isArray(b))for(var e=b.length,c=0;c<e;++c)this.set(b[c]);else _.isNumber(b)?(e=this.KH(b),this.Om|=e.jN,this.set(e.result)):_.isString(b)&&(e=!0,_.isUndefined(a)||(e=!!a),this.wk?_.isUndefined(this.wk[b])?this.Om|=this.Zg[b]||0:this.sg[b]=e:this.sg[b]=e)}};h.WidgetAnnotation=function(b,a){h.HTMLAnnotation.call(this,a);if(!b)throw Error("Please set the field properly in the widget constructor");this._value=null;this.Ba=b;this.sk=null;b.PG(this,a?a.index:void 0);
this.IsAdded=!1;this.WN=new Date;this.fz="Left-justified";this.Listable=!1;this.ny="";this.xt={};this.qy={Normal:"",Rollover:"",Down:""};this.mp=!1;this.Db=new h.ih({mask:"Invisible Hidden NoPrint NoZoom NoRotate NoView ReadOnly Locked ToggleNoView LockedContents".split(" ")});this["_xsi:type"]="Widget";this.Subject=this["_xsi:type"];this.set(a);var e=this;this.on("commit",_.bind(this.Fu,this));this.on("change",function(b,a){e.fD();e.cf(a);e.trigger("commit")});this.on("blur",function(){e.fieldFlags.get("ReadOnly")||
e.mb(e.Ba.value);e.refresh()});this.on("focus",function(){e.fieldFlags.get("ReadOnly")||e.cf(e.Ba.value);e.refresh()})};h.WidgetAnnotation.prototype={elementName:"widget",Hj:null,vg:function(b){if(!h.Annotation.prototype.vg.call(this,b)||!this.Hj)return!1;b=h.da.getAttribute(b,"FT");return this.Hj===b},Bg:function(){var b="";Object.keys(this.appearances).forEach(function(a){"Off"!==a&&(b=a)});return b},Ze:function(b){this.cf(b)},fD:function(){this.mp=!0},set:function(b){if(_.isObject(b)){_.isUndefined(b.value)||
(this.value=String(b.value));_.isUndefined(b.flags)||(this.Db.set(b.flags),this.Db.get("Hidden")&&this.Ie(!1),this.Db.get("NoView")&&this.Ie(!1));if(!_.isUndefined(b.captions)){var a=b.captions,e=this.qy;Object.keys(a).forEach(function(b){e[b]=a[b]})}_.isUndefined(b.page)||(this.PageNumber=b.page);_.isUndefined(b.quadding)||(this.quadding=b.quadding);_.isUndefined(b.appearances)||(this.xt=b.appearances);_.isUndefined(b.appearance)||(this.appearance=b.appearance);_.isUndefined(b.rotation)||(this.rotation=
b.rotation);_.isUndefined(b.font)||(this.font=b.font)}},Ye:function(b){var a=h.HTMLAnnotation.prototype.Ye.apply(this,arguments);return $.extend(a,this.font.gx(b))},Sb:function(){var b=h.HTMLAnnotation.prototype.Sb.apply(this,arguments);return $.extend(b,{"text-align":{"Left-justified":"left",Centered:"center","Right-justified":"right"}[this.quadding]})},Yi:function(){var b=h.WidgetAnnotation.getCustomStyles;return b&&b(this)},Jh:function(){return!0},Ka:function(){return this._value},mb:function(b){b=
a.Annotations.N.hb.Events.ca.create("Format",this.Ba,{value:b});this.Ba.Od("F",b);this.cf(b.value)},Ie:function(b){this.Db.set("Hidden",!b);h.HTMLAnnotation.prototype.Ie.call(this,b)},render:function(b,a,e){m=e;var c=!1;this.innerElement&&this.element||(c=!0);h.HTMLAnnotation.prototype.render.apply(this,arguments);c&&(this.element.attr("id",this.NO),this.refresh())},cf:function(b){this._value=b;this.refresh()},refresh:function(){var b=this.fieldFlags.get("Multiline");this.font.sI(this._value?String(this._value):
"",this,b);if(b=this.element)if(b.attr("id",this.Ba.name),b.css(this.Ye(m)),b=this.innerElement)this.Ba&&this.Ba.userName&&b.attr("title",this.Ba.userName),b.css(this.Sb(m))},Eg:function(){return null},deserialize:function(b,a,e){h.HTMLAnnotation.prototype.deserialize.call(this,b,a);var c=h.da;this.Ba.pD(c.getAttribute(b,"FT"));c.getAttribute(b,"creationdate")&&(this.DateCreated=c.Ou(c.getAttribute(b,"creationdate")));this.border.deserialize(b);this.fieldFlags.deserialize(b);this.font.deserialize(b,
a);var d=c.Gq(b,"V","value");this.Ze(d);this.Ba.Ze(d);this.defaultValue=c.Gq(b,"DV","defaultvalue");d=c.uC(b);c.getAttribute(b,"color")?this.color=c.getAttribute(b,"color").split(","):d.color&&(this.color=d.color);c.getAttribute(b,"BG")&&(this.backgroundColor=c.getAttribute(b,"BG").split(","));this.rotation=c=(c=c.getAttribute(b,"rotation"))?parseInt(c,10):0;if(90===c||270===c)c=this.Width,this.Width=this.Height,this.Height=c;this.sz(b,a,e)},serialize:function(){},jb:function(){return this.Ba},hD:function(b){this.Ba=
b;this.cf(this.Ba.value)},cg:function(b){h.HTMLAnnotation.prototype.cg.call(this,b);this.Ba&&this.Ba.cg(b)},HG:function(b,a){this.Ba.Hi(b,a)},Hi:function(b,a){-1!==["K","V","F","C"].indexOf(b)?this.HG(b,a):h.HTMLAnnotation.prototype.Hi.call(this,b,a)},Fu:function(){this.Ba.trigger("commit",this.Ka(),this)},Jn:function(){var b=a.Annotations.N.hb.Events,e=this;return $.extend(h.HTMLAnnotation.prototype.Jn.call(this),{E:{triggers:"mouseenter",internal_name:"mouseenter",getEvent:function(){return b.ca.create("Mouse Enter",
e.jb())}},X:{triggers:"mouseleave",internal_name:"mouseleave",getEvent:function(){return b.ca.create("Mouse Leave",e.jb())}},D:{triggers:"mousedown",internal_name:"mousedown",getEvent:function(){return b.ca.create("Mouse Down",e.jb())}},U:{triggers:a.utils.mouseUpEventBug?"touchend":"mouseup",internal_name:"mouseup",getEvent:function(){return b.ca.create("Mouse Up",e.jb())}},Bl:{triggers:"focusout",internal_name:"blur",getEvent:function(){var a=e.jb();return b.ca.create("Blur",a,{value:a.value})}},
Fo:{triggers:"focusin",internal_name:"focus",getEvent:function(){return b.ca.create("Focus",e.jb())}}})},FJ:function(){return!!this.sk},Li:function(){h.HTMLAnnotation.prototype.Li.apply(this,arguments);var b=this,e=this.innerElement;e&&(e.on("focusout",function(){b.mp&&(b.mp=!1,b.trigger("commit"));b.trigger("blur")}),e.on("focusin",function(){b.trigger("focus")}),e.on("mouseenter",function(){b.trigger("mouseenter")}),e.on("mouseleave",function(){b.trigger("mouseleave")}),e.on("mousedown",function(){b.trigger("mousedown")}),
e.on(b.UD?"click":a.utils.mouseUpEventBug?"touchend":"mouseup",function(){b.trigger("mouseup")}))}};h.WidgetAnnotation.prototype=$.extend(!0,Object.create(h.HTMLAnnotation.prototype),h.WidgetAnnotation.prototype);Object.defineProperties(h.WidgetAnnotation.prototype,{fieldName:{get:function(){return this.Ba.name}},value:{get:function(){return this.Ka()},set:function(b){this.mb(b)}},defaultValue:{get:function(){return this.Ba.defaultValue},set:function(b){this.Ba.defaultValue=b}},fieldFlags:{get:function(){return this.Ba.flags}},
flags:{get:function(){return this.Db}},font:{get:function(){return this.sk||this.Ba.font},set:function(b){this.sk=new a.Annotations.pf(b)}},fieldActions:{get:function(){return this.Ba.actions}},appearance:{get:function(){return this.ny},set:function(b){this.xt[b]?this.ny=b:console.log("Unknown appearance: "+b)}},quadding:{get:function(){return this.fz},set:function(b){this.fz=b}},appearances:{get:function(){return this.xt}},captions:{get:function(){return this.qy}}});h.md=function(b){h.HTMLAnnotation.call(this,
b);this.Listable=!1};h.md.prototype=Object.create(h.HTMLAnnotation.prototype);h.md.prototype.elementName="link";h.md.prototype.createInnerElement=function(){return $('<span class="link" tabindex="0" />')};h.md.prototype.Li=function(){h.HTMLAnnotation.prototype.Li.apply(this,arguments);var b=this;this.innerElement.on("tap",function(){b.trigger("mouseup")})};h.md.prototype.RB=function(){return!0};h.md.prototype.Jn=function(){var b=a.Annotations.N.hb.Events;return $.extend(h.HTMLAnnotation.prototype.Jn.call(this),
{U:{triggers:"tap",internal_name:"mouseup",getEvent:function(){return b.md.create("Mouse Up")}}})};h.md.prototype.deserialize=function(b,a,e){h.HTMLAnnotation.prototype.deserialize.call(this,b,a,e);var c=h.da.getAttribute(b,"color");c&&(this.color=c);this.sz(b,a,e)};h.md.prototype.serialize=function(b,a){h.HTMLAnnotation.prototype.serialize.call(this,b,a);b.setAttribute("color",this.color.toHexString());this.LL(b,a);return b};h.ni=function(b,a){h.WidgetAnnotation.call(this,b,a);this.fieldFlags.pn(["Multiline",
"DoNotScroll","Password"]);this.mp=!1;this.we=this.Ba.maxLen};h.ni.prototype={Hj:"Tx",zh:"text",Li:function(){h.WidgetAnnotation.prototype.Li.apply(this,arguments);this.Wd.on("touchstart touchmove touchend mousedown mousemove mouseup",function(b){b.stopPropagation()})},refresh:function(){h.WidgetAnnotation.prototype.refresh.call(this);var b=this.innerElement;b&&(this.fieldFlags.get("ReadOnly")?b.text(this.value):this.innerElement.val(this.value))},Ye:function(){var b=h.WidgetAnnotation.prototype.Ye.apply(this,
arguments);return $.extend(b,{})},Sb:function(){var b=h.WidgetAnnotation.prototype.Sb.apply(this,arguments),a={"word-wrap":"break-word",resize:"none","background-color":"transparent","overflow-y":this.fieldFlags.get("Multiline")?"auto":"hidden","overflow-x":"hidden"};if(this.fieldFlags.get("Comb")){var e=h.WidgetAnnotation.prototype.Ye.apply(this,arguments),e=f("1",e["font-size"]+" "+e["font-family"]),c=b.width/this.we;a["margin-left"]=.2*c+"px";a["letter-spacing"]=c-e+"px"}return $.extend(b,a,this.Yi())},
Eg:function(){var b=this.innerElement;if(b)return this.fieldFlags.get("ReadOnly")?b.text():b.val()},RI:function(b,a){if(b!==a){for(var e=0;b.charAt(e)===a.charAt(e);)e++;for(var c=0;b.charAt(b.length-1-c)===a.charAt(a.length-1-c)&&c+e<b.length&&c+e<a.length;)c++;var d,g=0;b.length!==e+c&&(g=b.length-c-e,d="");a.length!==e+c&&(d=a.slice(e,a.length-c));return{result:d,start:e,end:e+g}}},createInnerElement:function(){var b=this,d=this.fieldFlags,g=d.get("Multiline"),f=d.get("ReadOnly"),h=d.get("DoNotScroll"),
l;f?l=$('<div class="text" />'):(l=g?$("<textarea />"):$('<input type="text" />'),-1!==this.we&&l.attr("maxlength",this.we));e(l,function(e){var d=0,f=0,k=e.change,q=b.Ka()||"";if(!e.QB){f=b.RI(q,k);if(!f)return;e.change=f.result;d=f.start;f=f.end}k=a.Annotations.N.hb.Events;d=k.ca.create("Keystroke",b.jb(),{value:e.QB?"":q,change:e.change,selStart:d,selEnd:f,willCommit:!1});b.Ba.Od("K",d);d.rc?(d=k.Wk(d),q=!0,h&&(g?l[0].scrollHeight>l.outerHeight()&&(q=!1):q=d.length<b._value.length?!0:c(d||"",l.css("font-size"),
l.css("font-family")).width<l.width()),-1!==b.we&&(q=q&&d.length<=b.we),q?(b._value=d,document.activeElement===l[0]?b.fD():b.trigger("commit")):(l.val(b.Ka()),e.preventDefault())):(l.val(b.Ka()),e.preventDefault())});return l}};h.ni.prototype=$.extend(Object.create(h.WidgetAnnotation.prototype),h.ni.prototype);h.jf=function(b,e){var c=this;c.on("change",function(b,e){var d=a.Annotations.N.hb.Events.ca.create("Keystroke",c.Ba,{value:e,change:"",willCommit:!1,selStart:-1,selEnd:-1});c.Ba.Od("K",d)});
h.WidgetAnnotation.call(this,b,e)};h.jf.FORCE_SELECT=!1;h.jf.prototype={Hj:"Ch",zh:"choice",vg:function(b){if(h.WidgetAnnotation.prototype.vg.call(this,b)){var a=new h.ih({mask:["Combo"]});a.deserialize(b);if(a.get("Combo"))return!0}return!1},deserialize:function(b,a,e){h.WidgetAnnotation.prototype.deserialize.call(this,b,a,e);a=h.da;a.getAttribute(b,"Opt")&&(b=a.getAttribute(b,"Opt"),this.Ba.options=b.split(",").map(function(b){return{value:b,displayValue:b}}),this.jb().Ze(this.Ka()),this.Ze(this.jb().Ka()))},
Ye:function(){return $.extend(h.WidgetAnnotation.prototype.Ye.apply(this,arguments),{"overflow-y":"visible","overflow-x":"hide","z-index":"36"})},Sb:function(b){return $.extend(h.WidgetAnnotation.prototype.Sb.apply(this,arguments),{resize:"none","min-height":"",height:this.$q(b)},this.Yi())},refresh:function(){h.WidgetAnnotation.prototype.refresh.apply(this,arguments);var b=this.innerElement,a=this.Ka();b&&b.val(a)},Eg:function(){var b=this.innerElement;if(b)return b.val()},createInnerElement:function(){function b(){a(50,
f.length);e.off("mousedown",null,b);e.off("touchend",null,b)}function a(b,e){for(var c=document.createDocumentFragment(),g=b;g<e;++g){var h=f[g],n=document.createElement("OPTION");n.text=_.isUndefined(h.displayValue)?h.value:h.displayValue;n.value=h.value;c.appendChild(n)}d.appendChild(c)}var e,c,d,g=this;!g.fieldFlags.get("Edit")||window.utils.isSafari||h.jf.FORCE_SELECT?(e=$("<select />"),d=e[0],c=""):(c='<input list="'+g.fieldName+'_list" /><datalist id="'+g.fieldName+'_list">',e=$(c+"</datalist>"),
d=e[1]);g.fieldFlags.get("ReadOnly")&&e.prop("disabled",!0);var f=g.options;50<f.length?(a(0,50),e.on("mousedown",b),e.on("touchend",b)):a(0,f.length);e.on("change",function(){g.trigger("change",[g.Eg()])});return e}};h.jf.prototype=$.extend(Object.create(h.WidgetAnnotation.prototype),h.jf.prototype);Object.defineProperties(h.jf.prototype,{options:{get:function(){return this.Ba.options}}});h.ah=function(b,a){h.WidgetAnnotation.call(this,b,a)};h.ah.prototype={Hj:"Ch",zh:"list",refresh:function(){h.WidgetAnnotation.prototype.refresh.apply(this,
arguments);var b=this.innerElement;b&&b.val(this.Ka())},vg:function(b){if(h.WidgetAnnotation.prototype.vg.call(this,b)){var a=new h.ih({mask:"Combo"});a.deserialize(b);if(!a.get("Combo"))return!0}return!1},deserialize:function(b,a,e){h.WidgetAnnotation.prototype.deserialize.call(this,b,a,e);a=h.da;a.getAttribute(b,"Opt")&&(b=a.getAttribute(b,"Opt"),this.Ba.options=b.split(",").map(function(b){return{value:b,displayValue:b}}),this.jb().Ze(this.Ka()),this.Ze(this.jb().Ka()))},Ye:function(){return $.extend(h.WidgetAnnotation.prototype.Ye.apply(this,
arguments),{"overflow-y":"auto","overflow-x":"hidden"})},Eg:function(){var b=this.innerElement;return b?b.val():null},Sb:function(){return $.extend(h.WidgetAnnotation.prototype.Sb.apply(this,arguments),{"overflow-y":"scroll","overflow-x":"hidden"},this.Yi())},createInnerElement:function(){var b=$('<select name="'+this.fieldName.replace(/\.|\s/g,"_")+'" size="'+this.options.length+'" />'),a="";this.options.forEach(function(b){a+='<option value="'+b.value+'">'+(_.isUndefined(b.displayValue)?b.value:
b.displayValue)+"</option>"});b.append(a);this.fieldFlags.get("ReadOnly")&&b.prop("disabled",!0);this.fieldFlags.get("MultiSelect")&&b.prop("multiple",!0);var e=this;b.on("change",function(){e.trigger("change",[e.Eg()])});return b}};h.ah.prototype=$.extend(Object.create(h.WidgetAnnotation.prototype),h.ah.prototype);Object.defineProperties(h.ah.prototype,{options:{get:function(){return this.Ba.options}}});h.Mb=function(b,a){h.WidgetAnnotation.call(this,b,a)};h.Mb.prototype={Hj:"Btn",hq:null,vg:function(b){if(h.WidgetAnnotation.prototype.vg.call(this,
b)){var a=new h.ih({mask:["PushButton","Radio"]}),e="C";a.deserialize(b);a.get("PushButton")?e="P":a.get("Radio")&&(e="R");return e===this.hq}return!1}};h.Mb.prototype=$.extend(Object.create(h.WidgetAnnotation.prototype),h.Mb.prototype);h.di=function(b,a){h.Mb.call(this,b,a)};h.di.prototype={hq:"P",zh:"pButton",Sb:function(){return $.extend(h.Mb.prototype.Sb.apply(this,arguments),{"background-color":"transparent"},this.Yi())},deserialize:function(b,a,e){var c=h.da;h.Mb.prototype.deserialize.call(this,
b,a,e);(b=c.getAttribute(b,"ButtonLabel"))&&(this.captions.Normal=b)},Eg:function(){return null},createInnerElement:function(){var b=$('<button tabindex="0" />');b.append(this.captions.Normal);this.fieldFlags.get("ReadOnly")&&b.prop("disabled",!0);return b}};h.di.prototype=$.extend(!0,Object.create(h.Mb.prototype),h.di.prototype);h.Yg=function(b,a){h.Mb.call(this,b,a);this.zD(!1);var e=this;this.UD=!0;this.on("click",function(){"Off"===this.Ka()?e.trigger("change",e.Bg()):e.trigger("change","Off")})};
h.Yg.prototype={hq:"C",zh:"checkBox",refresh:function(){h.WidgetAnnotation.prototype.refresh.call(this);var b=this.innerElement;b&&(b.prop("checked",this.Ka()===this.Bg()),b.css(this.Sb(m)))},cf:function(b){b===this.Bg()?(this.appearance=b,h.Mb.prototype.cf.call(this,b)):(this.appearance="Off",h.Mb.prototype.cf.call(this,"Off"))},Sb:function(){var b=h.Mb.prototype.Sb.apply(this,arguments);b.left=Math.round(b.left);b.top=Math.round(b.top);return $.extend(b,{border:"none",margin:0},this.Yi())},Eg:function(){var b=
this.innerElement;if(b)return b.prop("checked")?this.Bg():"Off"},createInnerElement:function(){var b=$('<input type="checkbox" tabindex="0" />');this.fieldFlags.get("ReadOnly")&&b.prop("disabled",!0);var a=this;b.on("click",function(){a.trigger("click")});return b},deserialize:function(b,a,e){var c=h.da.getAttribute(b,"N");c&&(this.appearances.Off={},this.appearances[c]={});h.Mb.prototype.deserialize.call(this,b,a,e)}};h.Yg.prototype=$.extend(!0,Object.create(h.Mb.prototype),h.Yg.prototype);Object.defineProperties(h.Yg.prototype,
{buttonName:{set:function(b){this.VF=b},get:function(){return this.VF}}});h.ei=function(b,a){h.Mb.call(this,b,a);this.zD(!1);var e=this;this.UD=!0;this.on("click",function(){"Off"===this.Ka()?e.trigger("change",e.Bg()):e.trigger("change","Off")})};h.ei.prototype={hq:"R",zh:"radioButton",Eg:function(){return this.Bg()},refresh:function(){var b=this.innerElement;b&&(b.prop("checked",this.Ba.Ka()===this.Eg()),b.css(this.Sb(m)))},Sb:function(){var b=h.Mb.prototype.Sb.apply(this,arguments);b.left=Math.round(b.left);
b.top=Math.round(b.top);return $.extend(b,{border:"none",margin:0},this.Yi())},cf:function(b){"Off"!==b&&-1!==Object.keys(this.appearances).indexOf(b)?(this.appearance=b,h.Mb.prototype.cf.call(this,b)):(this.appearance="Off",h.Mb.prototype.cf.call(this,"Off"))},createInnerElement:function(){var b=$('<input type="radio" tabindex="0" />');this.fieldFlags.get("ReadOnly")&&b.prop("disabled",!0);var a=this;b.on("click",function(){a.trigger("click")});return b},deserialize:function(b,a,e){var c=h.da.getAttribute(b,
"N");c&&(this.appearances.Off={},this.appearances[c]={});h.Mb.prototype.deserialize.call(this,b,a,e)}};h.ei.prototype=$.extend(!0,Object.create(h.Mb.prototype),h.ei.prototype);h.ii=function(b,a){h.WidgetAnnotation.call(this,b,a)};h.ii.prototype={Hj:"Sig",zh:"signature",deserialize:function(b,a,e){h.WidgetAnnotation.prototype.deserialize.call(this,b,a,e);if(b=b.querySelector("imagedata"))this.appearances._DEFAULT={Normal:b.textContent},this.appearance="_DEFAULT"},Sb:function(){var b=h.WidgetAnnotation.prototype.Sb.apply(this,
arguments),e=b.width,c=b.height,d=this.rotation;if(90===d||270===d)var g=e,e=c,c=g;var f=a.utils.getRotationOffsets((360-d)%360,e,c),g=f.dx,f=f.dy;return $.extend(b,{transform:"translate("+g+"px,"+f+"px) rotate("+d+"deg)","transform-origin":"top left","-webkit-transform":"translate("+g+"px,"+f+"px) rotate("+d+"deg)","-webkit-transform-origin":"top left","-ms-transform":"translate("+g+"px,"+f+"px) rotate("+d+"deg)","-ms-transform-origin":"top left","-moz-transform":"translate("+g+"px,"+f+"px) rotate("+
d+"deg)","-moz-transform-origin":"top left",width:e,height:c},this.Yi())},createInnerElement:function(){var b=new Image,a=this.appearances[this.appearance];a&&(b.src=a.Normal||"");return $(b)}};h.ii.prototype=$.extend(Object.create(h.WidgetAnnotation.prototype),h.ii.prototype);h.eh=function(){h.Annotation.call(this);this._isOpen=!1};h.eh.prototype={isOpen:function(){return this._isOpen},jD:function(b){this._isOpen=b},deserialize:function(b,a){h.Annotation.prototype.deserialize.apply(this,arguments);
var e=b.getAttribute("open");this.jD(e&&"yes"===e)}};h.eh.prototype=$.extend(new h.Annotation,h.eh.prototype);h.oa=function(){h.Annotation.call(this);this.od=new h.Color(0,0,0,0);this.ri=new h.Color(0,0,0);this._opacity=this.si=1;this.Ay=new Date;this.Km=null};h.oa.prototype={Oc:function(b){null!==this.Opacity&&(b.globalAlpha=this.Opacity);null!==this.FillColor&&(b.fillStyle=this.FillColor.toString());null!==this.StrokeColor&&(b.strokeStyle=this.StrokeColor.toString());b.lineWidth=0===this.StrokeThickness?
.001:this.hv()},Av:function(){return this.Km},Tw:function(b){this.Km=b},hv:function(){return this.StrokeThickness},serialize:function(b,a){var e=h.Annotation.prototype.serialize.apply(this,arguments),c=h.da,d={},g=c.Bj(this.StrokeColor);null!==g&&(d.color=g);c=c.Bj(this.FillColor);null!==c&&(d["interior-color"]=c);_.isUndefined(this.StrokeThickness)||_.isNull(this.StrokeThickness)||(d.width=h.Ud.Bk(a,this.StrokeThickness));_.isUndefined(this.Opacity)||_.isNull(this.Opacity)||(d.opacity=this.Opacity);
this.fringe&&(d.fringe=h.da.Jw(this.fringe,a));this.DateCreated&&(d.creationdate=h.da.hx(this.DateCreated));$(e).attr(d);this.Km||(d=new h.eh,d.PageNumber=this.PageNumber,d.dg(new h.Rect(0,0,150,100)),this.Tw(d));d=this.Km.isOpen()?"yes":"no";c=$(document.createElementNS("","popup"));g=this.Km.he();g.CA();c.attr({flags:"print,nozoom,norotate",page:this.Hb(),rect:h.da.ds(g,a)}).appendTo($(e));c[0].setAttribute("open",d);return e},deserialize:function(b,a){h.Annotation.prototype.deserialize.apply(this,
arguments);var e=$(b),c=h.da,d=e.attr("opacity");"undefined"!==typeof d&&(this.Opacity=parseFloat(d));d=e.attr("width");"undefined"!==typeof d&&(this.si=h.Ud.Bk(a,parseFloat(d)));d=e.attr("fringe");"undefined"!==typeof d&&(this.fringe=c.kA(d,a));d=c.Oi(e.attr("color"));null!==d&&(this.StrokeColor=d);d=c.Oi(e.attr("interior-color"));this.FillColor=null!==d?d:new h.Color(0,0,0,0);(d=e.attr("creationdate"))&&(this.DateCreated=c.Ou(d));e=e.find("popup");c=this.Av()||new h.eh;0<e.length?c.deserialize(e[0],
a):(c.PageNumber=this.PageNumber,c.dg(new h.Rect(0,0,150,100)));this.Tw(c)},selectionModel:h.ma,GB:!0};h.oa.prototype=$.extend(!0,new h.Annotation,h.oa.prototype);Object.defineProperties(h.oa.prototype,{FillColor:{get:function(){return this.od},set:function(b){b instanceof h.Color&&(this.od=b,this.lb())}},StrokeColor:{get:function(){return this.ri},set:function(b){b instanceof h.Color&&(this.ri=b,this.lb())}},StrokeThickness:{get:function(){return this.si},set:function(b){this.si=parseFloat(b);this.lb();
this.adjustRect()}},Opacity:{get:function(){return this._opacity},set:function(b){this._opacity=parseFloat(b);this.lb()}},DateCreated:{get:function(){return this.Ay},set:function(b){this.Ay=b instanceof Date?b:new Date(b)}}});h.Bd=function(){h.oa.call(this);this["_xsi:type"]="Line";this.Subject=i18n.t("annotations.types.line");this.rh=this.qk=this.End=this.Start=this.od=null};h.Bd.prototype={elementName:"line",resize:function(b){var a=b.x1;b=b.y1;var e=a-this.X,c=b-this.Y;if(0!==e||0!==c)this.Start.x+=
e,this.Start.y+=c,this.End.x+=e,this.End.y+=c,this.X=a,this.Y=b},adjustRect:function(){if(!_.isNull(this.Start)||!_.isNull(this.End)){var b=this.getRectPadding();this.X=Math.min(this.Start.x,this.End.x)-b;this.Y=Math.min(this.Start.y,this.End.y)-b;this.Width=Math.abs(this.Start.x-this.End.x)+2*b;this.Height=Math.abs(this.Start.y-this.End.y)+2*b}},getRectPadding:function(){return this.StrokeThickness},oD:function(b,a){this.Start=new h.Point(b,a)},sJ:function(){return this.Start},setEndPoint:function(b,
a){this.End=new h.Point(b,a)},II:function(){return this.End},Tg:function(b){this.rh=b},bj:function(){return this.rh||"None"},gs:function(b){this.qk=b},Jq:function(){return this.qk||"None"},draw:function(b){this.Oc(b);if(this.Start&&this.End){b.beginPath();b.moveTo(this.Start.x,this.Start.y);b.lineTo(this.End.x,this.End.y);var a=!1;_.isNull(this.rh)||"None"===this.rh||(h.Ud.Ru(b,this.Start,this.End,this.StrokeThickness),a=!0);_.isNull(this.qk)||"None"===this.qk||(h.Ud.Ru(b,this.End,this.Start,this.StrokeThickness),
a=!0);a||b.stroke()}else b.beginPath(),b.moveTo(0,0),b.lineTo(this.xa(),this.ta()),b.stroke()},serialize:function(b,a){b=h.oa.prototype.serialize.apply(this,arguments);var e=new h.Point(this.Start.x,this.Start.y),c=new h.Point(this.End.x,this.End.y),d=h.da;$(b).attr({start:d.cs(e,a),end:d.cs(c,a),head:this.bj(),tail:this.Jq()});return b},deserialize:function(b,a){h.oa.prototype.deserialize.apply(this,arguments);var e=h.da,c=$(b),d=e.lA(c.attr("start"),a);null!==d&&this.oD(d.x,d.y);e=e.lA(c.attr("end"),
a);null!==e&&this.setEndPoint(e.x,e.y);this.Tg(c.attr("head")||"None");this.gs(c.attr("tail")||"None");this.adjustRect();this.od=null},selectionModel:h.km};h.Bd.prototype=$.extend(new h.oa,h.Bd.prototype);h.fi=function(){h.oa.call(this);this["_xsi:type"]="Rectangle";this.Subject=i18n.t("annotations.types.rectangle");var b=this.getRectPadding();this.fringe=new h.Rect(b,b,b,b);this.lh=2;this.Vc="solid"};h.fi.prototype={elementName:"square",draw:function(b){this.Oc(b);var a=this.he();a.x1+=this.fringe.x1;
a.y1+=this.fringe.y1;a.x2-=this.fringe.x2;a.y2-=this.fringe.y2;"cloudy"===this.Style?(this.fa=[new h.Point(a.x1,a.y1),new h.Point(a.x2,a.y1),new h.Point(a.x2,a.y2),new h.Point(a.x1,a.y2),{x:a.x1,y:a.y1}],h.Ud.rA.call(this,b),b.closePath(),b.lineJoin="round"):(b.lineWidth*=2,b.beginPath(),b.moveTo(a.x1,a.y1),b.lineTo(a.x2,a.y1),b.lineTo(a.x2,a.y2),b.lineTo(a.x1,a.y2),b.closePath(),b.clip());b.fill();b.stroke()},getRectPadding:function(){return 0},serialize:function(){var b=h.oa.prototype.serialize.apply(this,
arguments);"cloudy"===this.Style&&(b.setAttribute("style",this.Style),b.setAttribute("intensity",this.Intensity));return b},deserialize:function(b){h.oa.prototype.deserialize.apply(this,arguments);var a=$(b);this.Vc=a.attr("style");this.lh=a.attr("intensity")}};h.fi.prototype=$.extend(new h.oa,h.fi.prototype);Object.defineProperties(h.fi.prototype,{Intensity:{get:function(){return this.lh},set:function(b){this.lh=b;this.lb()}},Style:{get:function(){return this.Vc},set:function(b){this.Vc=b;this.lb()}}});
h.bm=function(){h.oa.call(this);this["_xsi:type"]="Caret";this.Subject=i18n.t("annotations.types.caret");this.StrokeThickness=0;this.od=null};h.bm.prototype={elementName:"caret",draw:function(b){this.Oc(b);var e=this.Width,c=this.Height,d=Number(this.Rotation);if(90===d||270===d)d=e,e=c,c=d;b.translate(this.X,this.Y);b.rotate(-this.Rotation*Math.PI/180);d=a.utils.getRotationOffsets((360-this.Rotation)%360,this.Width,this.Height);b.translate(-d.dx,-d.dy);b.translate(-this.X,-this.Y);b.beginPath();
b.fillStyle=this.StrokeColor.toString();e=new h.Rect(this.X,this.Y,this.X+e,this.Y+c);d=(e.x1+e.x2)/2;c=e.y1+3*c/4;b.moveTo(d,e.y1);b.quadraticCurveTo(d,c,e.x1,e.y2);b.lineTo(e.x2,e.y2);b.quadraticCurveTo(d,c,d,e.y1);b.closePath();b.fill();b.stroke()},selectionModel:h.ma,deserialize:function(b,a){h.oa.prototype.deserialize.apply(this,arguments);var e=Number(this.Rotation);if(90===e||270===e)e=this.Width,this.Width=this.Height,this.Height=e},serialize:function(b,a){var e=Number(this.Rotation),c;if(90===
e||270===e)c=this.Width,this.Width=this.Height,this.Height=c;h.oa.prototype.serialize.apply(this,arguments);if(90===e||270===e)c=this.Width,this.Width=this.Height,this.Height=c;return b}};h.bm.prototype=$.extend(new h.oa,h.bm.prototype);h.Mj=function(){h.oa.call(this);this["_xsi:type"]="Ellipse";this.Subject=i18n.t("annotations.types.ellipse");var b=this.getRectPadding();this.fringe=new h.Rect(b,b,b,b)};h.Mj.prototype={elementName:"circle",draw:function(b){this.Oc(b);var a=this.X+this.fringe.x1,e=
this.Y+this.fringe.y1,c=this.xa()-this.fringe.x1-this.fringe.x2,d=this.ta()-this.fringe.y1-this.fringe.y2,g=Math.min(c,d);b.lineWidth>=g&&(b.lineWidth=g-1);g=(c-b.lineWidth)/(d-b.lineWidth);isNaN(g)||Infinity===g||(b.save(),b.translate(a+(1-g)*c/2,e),b.scale(g,1),b.beginPath(),b.arc(.5*c,.5*d,Math.max(.5*d-b.lineWidth/2,0),0,2*Math.PI,!1),b.restore(),b.fill(),b.stroke())},getRectPadding:function(){return 0},selectionModel:h.ma};h.Mj.prototype=$.extend(new h.oa,h.Mj.prototype);h.ji=function(){h.oa.call(this);
this["_xsi:type"]="Stamp";this.Subject=i18n.t("annotations.types.stamp");this.Icon="Draft";this.ri=this.od=null;this.NH="bold italic "+this.JD+"px Verdana"};h.ji.prototype={elementName:"stamp",padding:20,JD:30,Ju:10,draw:function(b){this.Oc(b);b.translate(this.X,this.Y);b.rotate(-this.Rotation*Math.PI/180);var e=a.utils.getRotationOffsets((360-this.Rotation)%360,this.Width,this.Height);b.translate(-e.dx,-e.dy);if(this.image){var e=this.Width,c=this.Height;if(this.Rotation&&(90===Number(this.Rotation)||
270===Number(this.Rotation)))var d=e,e=c,c=d;b.drawImage(this.image,0,0,e,c)}else if("SHAccepted"===this.Icon)b.lineWidth=.2*Math.min(this.Width,this.Height),b.strokeStyle="#426922",b.beginPath(),b.moveTo(.05*this.Width,.5*this.Height),b.lineTo(.4*this.Width,.85*this.Height),b.lineTo(.95*this.Width,.05*this.Height),b.stroke();else if("SBRejected"===this.Icon)b.lineWidth=.2*Math.min(this.Width,this.Height),b.strokeStyle="#8F110F",b.beginPath(),b.moveTo(.05*this.Width,.05*this.Height),b.lineTo(.95*
this.Width,.95*this.Height),b.moveTo(.95*this.Width,.05*this.Height),b.lineTo(.05*this.Width,.95*this.Height),b.stroke();else{e=this.DI();b.fillStyle=e.fill;b.strokeStyle=e.wr;b.lineWidth=1;c=this.Ju;if(this.xa()<=2*this.Ju||this.ta()<=2*this.Ju)c=Math.min(this.xa()/2,this.ta()/2);this.cI(b,0,0,this.xa(),this.ta(),c);b.font=this.NH;b.fillStyle=e.wr;e=this.DD.toUpperCase();c=b.measureText(e).width+2*this.padding;b.save();c=this.xa()/c;d=this.ta()/(1.5*this.JD);b.scale(c,d);b.textBaseline="middle";
b.textAlign="center";b.fillText(e,this.xa()/(2*c),this.ta()/(2*d));b.restore()}},xJ:function(){var b=this.Icon;if(this.lc[b])return this.lc[b];if(0===b.indexOf("SB")||0===b.indexOf("SH")){var a=this.lc[b.substring(2)];if(a)return a}return b},DI:function(){var b=_.isUndefined(this.opacity)?1:parseFloat(this.opacity),a={wr:"rgba(145, 15, 5, "+b+")",fill:"rgba(242, 230, 227, "+.7*b+")"},e={wr:"rgba(65, 106, 28, "+b+")",fill:"rgba(215, 226, 207, "+.7*b+")"},b={wr:"rgba(24, 37, 100, "+b+")",fill:"rgba(224, 235, 246, "+
.7*b+")"};switch(this.DD){case this.lc.Approved:case this.lc.Completed:case this.lc.Final:return e;case this.lc.Asis:case this.lc.Confidential:case this.lc.Departmental:case this.lc.Draft:case this.lc.Experimental:case this.lc.ForComment:case this.lc.ForPublicRelease:case this.lc.NotForPublicRelease:case this.lc.Sold:case this.lc.TopSecret:return b;case this.lc.Expired:case this.lc.NotApproved:case this.lc.Void:return a;default:return b}},lc:{Approved:"Approved",AsIs:"As Is",Completed:"Completed",
Confidential:"Confidential",Departmental:"Departmental",Draft:"Draft",Experimental:"Experimental",Expired:"Expired",Final:"Final",ForComment:"For Comment",ForPublicRelease:"For Public Release",InformationOnly:"Information Only",NotApproved:"Not Approved",NotForPublicRelease:"Not For Public Release",PreliminaryResults:"Preliminary Results",Sold:"Sold",TopSecret:"Top Secret",Void:"Void"},cI:function(b,a,e,c,d,g){b.beginPath();b.moveTo(a+g,e);b.lineTo(a+c-g,e);b.quadraticCurveTo(a+c,e,a+c,e+g);b.lineTo(a+
c,e+d-g);b.quadraticCurveTo(a+c,e+d,a+c-g,e+d);b.lineTo(a+g,e+d);b.quadraticCurveTo(a,e+d,a,e+d-g);b.lineTo(a,e+g);b.quadraticCurveTo(a,e,a+g,e);b.closePath();b.fill();b.stroke()},serialize:function(b,a){var e=h.oa.prototype.serialize.apply(this,arguments),c=$(e);c.attr("icon",this.Icon);this.image&&$(document.createElementNS("","imagedata")).text(this.image.src).appendTo(c);return e},deserialize:function(b,a){h.oa.prototype.deserialize.apply(this,arguments);var e=$(b),c=e.attr("icon");c?this.Icon=
c:this.Subject&&(this.Icon=this.Subject);e=e.find("imagedata");0<e.length&&(this.ImageData=e.text())}};h.ji.prototype=$.extend(new h.oa,h.ji.prototype,a.utils.eventHandler);Object.defineProperties(h.ji.prototype,{Icon:{get:function(){return this.SF},set:function(b){this.SF=b;this.DD=this.xJ();this.lb()}},ImageData:{get:function(){return this.image.src},set:function(b){this.image||(this.image=new Image);if(this.image.src!==b){this.Yt=!1;this.image.src=b;var a=this;this.image.onload=function(){a.Yt=
!0;a.trigger("resourcesLoaded")};this.lb()}}},FillColor:{get:function(){return this.od},set:function(){}},StrokeColor:{get:function(){return this.ri},set:function(){}}});h.ld=function(){h.oa.call(this);this.fa=[];this.Oa={x:0,y:0};this.ib={x:0,y:0}};h.ld.prototype={Fb:function(b,a){var e=this.getRectPadding();this.fa.push(new h.Point(b,a));1===this.fa.length?(this.Oa={x:b,y:a},this.ib={x:b,y:a},this.X=b-e,this.Y=a-e):(b>this.ib.x&&(this.Width=b-this.Oa.x+2*e,this.ib.x=b),a>this.ib.y&&(this.Height=
a-this.Oa.y+2*e,this.ib.y=a),b<this.Oa.x&&(this.Width=this.ib.x-b+2*e,this.X=b-e,this.Oa.x=b),a<this.Oa.y&&(this.Height=this.ib.y-a+2*e,this.Y=a-e,this.Oa.y=a))},He:function(b,a,e){this.fa&&this.fa.length>b?(this.fa[b].x=a,this.fa[b].y=e,this.adjustRect()):this.fa&&this.fa.length===b&&this.Fb(a,e)},Dg:function(b){return this.fa&&this.fa.length>b?this.fa[b]:null},wl:function(){var b=this.fa.pop();this.adjustRect();return b},getPath:function(){return this.fa},setPath:function(b){this.fa=b;this.adjustRect()},
getRectPadding:function(){return this.StrokeThickness},adjustRect:function(){if(0!==this.fa.length){this.Oa={x:Number.MAX_VALUE,y:Number.MAX_VALUE};this.ib={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};for(var b=0;b<this.fa.length;b++)if(null!==this.fa[b]){var a=this.fa[b].x,e=this.fa[b].y;a>this.ib.x&&(this.ib.x=a);e>this.ib.y&&(this.ib.y=e);a<this.Oa.x&&(this.Oa.x=a);e<this.Oa.y&&(this.Oa.y=e)}b=this.getRectPadding();this.X=this.Oa.x-b;this.Y=this.Oa.y-b;this.Width=Math.max(0,this.ib.x-this.Oa.x)+2*
b;this.Height=Math.max(0,this.ib.y-this.Oa.y)+2*b}},selectionModel:h.Xj};h.ld.prototype=$.extend(new h.oa,h.ld.prototype);h.FreeHandAnnotation=function(){h.oa.call(this);this.Aa=[];this.LeftMost=Infinity;this.RightMost=0;this.TopMost=Infinity;this.BottomMost=0;this.Oa={x:0,y:0};this.ib={x:0,y:0};this.yp=!1;this["_xsi:type"]="Free Hand";this.Subject=i18n.t("annotations.types.freeHand");this.wf=this.od=null};h.FreeHandAnnotation.opacityCap=.7;h.FreeHandAnnotation.Dc={InkHighlight:"InkHighlight"};h.FreeHandAnnotation.prototype=
{elementName:"ink",shouldSimplifyPath:!0,Fb:function(b,a,e){"undefined"===typeof e&&(e=0);if(e===this.Aa.length)this.Aa.push([]);else if(e>this.Aa.length){console.warn("FreeHandAnnotation addPathPoint: pathIndex out of bounds.");return}this.LeftMost=Math.min(this.LeftMost,b);this.RightMost=Math.max(this.RightMost,b);this.TopMost=Math.min(this.TopMost,a);this.BottomMost=Math.max(this.BottomMost,a);var c=this.getRectPadding();this.st=this.LeftMost-c;this.ut=this.TopMost-c;this.rt=this.RightMost-this.LeftMost+
2*c;this.ot=this.BottomMost-this.TopMost+2*c;this.Aa[e].push(new h.Point(b,a))},He:function(b,a,e,c){"undefined"===typeof c&&(c=0);var d;this.Aa.length>c?(d=this.Aa[c],d.length>b?(d[b].x=a,d[b].y=e,this.adjustRect()):d.length===b&&this.Fb(a,e,c)):this.Aa.length===c?this.Fb(a,e,c):console.warn("FreeHandAnnotation setPathPoint: pathIndex out of bounds.")},Dg:function(b,a){"undefined"===typeof a&&(a=0);return this.Aa&&this.Aa.length>a&&this.Aa[a].length>b?this.Aa[a][b]:null},wl:function(b){"undefined"===
typeof b&&(b=0);var a=null;this.Aa.length>b&&(a=this.Aa[b].pop(),this.adjustRect());return a},getPath:function(b){"undefined"===typeof b&&(b=0);return this.Aa.length>b?this.Aa[b]:null},setPath:function(b,a){"undefined"===typeof a&&(a=0);this.Aa.length<a?console.warn("FreeHandAnnotation setPath: pathIndex out of bounds."):this.Aa.length>a?this.Aa[a]=b:this.Aa.length===a&&this.Aa.push(b);this.adjustRect()},eI:function(){this.Aa=[]},finish:function(){this.yp||(this.lb(),this.yp=!0)},resize:function(b){var a=
b.x1,e=b.y1,c=b.xa(),d=b.ta();b=e-this.Y;if(!(0===a-this.X&&0===b&&c===this.Width&&d===this.Height||1>c||1>d)){var g=b=1;"undefined"!==typeof c&&"undefined"!==typeof d&&(b=d/this.Height,g=c/this.Width,this.Width=c,this.Height=d);for(c=0;c<this.Aa.length;c++)for(d=0;d<this.Aa[c].length;d++)this.Aa[c][d].x=(this.Aa[c][d].x-this.X)*g+a,this.Aa[c][d].y=(this.Aa[c][d].y-this.Y)*b+e;this.X=a;this.Y=e}},draw:function(b){this.Oc(b);this.wf===h.FreeHandAnnotation.Dc.InkHighlight&&b.globalAlpha>h.FreeHandAnnotation.opacityCap&&
(b.globalAlpha=h.FreeHandAnnotation.opacityCap);b.beginPath();for(var a=this.aj(),e=0;e<a.length;e++)this.bI(b,a[e]);b.lineCap="round";b.lineJoin="round";b.stroke()},aj:function(){return this.Aa},RM:function(b,a){if(this.shouldSimplifyPath)for(var e=0;e<this.Aa.length;e++){var c=window.simplify(this.getPath(e),b,a);this.setPath(c,e)}},bI:function(b,a){var e="undefined"===typeof a?0:a.length;if(3<=e){b.moveTo(a[0].x,a[0].y);for(e=1;e<a.length-2;e++)b.quadraticCurveTo(a[e].x,a[e].y,(a[e].x+a[e+1].x)/
2,(a[e].y+a[e+1].y)/2);e+1<a.length&&b.quadraticCurveTo(a[e].x,a[e].y,a[e+1].x,a[e+1].y)}else 2===e&&(b.moveTo(a[0].x,a[0].y),b.lineTo(a[1].x,a[1].y))},rotate:function(b,e){this.Aa.forEach(function(c){for(var d=0;d<c.length;++d)c[d]=a.Rc.Math.IL(c[d],b,e)});this.adjustRect()},adjustRect:function(){if(0!==this.Aa.length){this.Oa={x:Number.MAX_VALUE,y:Number.MAX_VALUE};this.ib={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};var b,a;for(b=0;b<this.Aa.length;b++)for(a=0;a<this.Aa[b].length;a++)if(null!==this.Aa[b][a]){var e=
this.Aa[b][a].x,c=this.Aa[b][a].y;e>this.ib.x&&(this.ib.x=e);c>this.ib.y&&(this.ib.y=c);e<this.Oa.x&&(this.Oa.x=e);c<this.Oa.y&&(this.Oa.y=c)}b=this.getRectPadding();this.X=this.Oa.x-b;this.Y=this.Oa.y-b;this.Width=Math.max(0,this.ib.x-this.Oa.x)+2*b;this.Height=Math.max(0,this.ib.y-this.Oa.y)+2*b}},getRectPadding:function(){return this.StrokeThickness},serialize:function(b,a){for(var e=h.oa.prototype.serialize.apply(this,arguments),c=$(e),d=$(document.createElementNS("","inklist")),g=this.aj(),f=
0;f<g.length;f++)if(!(1>g[f].length)){var l=h.da.Hl(g[f],a);$(document.createElementNS("","gesture")).text(l).appendTo(d)}c.append(d);this.wf&&(e.setAttribute("IT",this.wf),this.wf===h.FreeHandAnnotation.Dc.InkHighlight&&0!==this.Opacity&&this.Opacity>h.FreeHandAnnotation.opacityCap&&e.setAttribute("opacity",h.FreeHandAnnotation.opacityCap));return e},deserialize:function(b,a){h.oa.prototype.deserialize.apply(this,arguments);var e=this;e.Aa=[];var c=$(b);c.find("inklist gesture").each(function(){var b=
$(this).text(),b=h.da.Pi(b,a),b=this.shouldSimplifyPath?window.simplify(b,.5):b;e.Aa.push(b)});this.adjustRect();this.wf=c.attr("IT");this.od=null},selectionModel:h.ma};h.FreeHandAnnotation.prototype=$.extend(new h.oa,h.FreeHandAnnotation.prototype);Object.defineProperties(h.FreeHandAnnotation.prototype,{Intent:{get:function(){return this.wf},set:function(b){this.wf=b;this.lb()}}});h.dh=function(){h.oa.call(this);this.fa=[];this.yp=!1;this.Vc="solid";this.lh=2;this["_xsi:type"]="Polygon";this.Subject=
i18n.t("annotations.types.polygon");this.Oa={x:0,y:0};this.ib={x:0,y:0}};h.dh.prototype={elementName:"polygon",resize:function(b){var a=b.x1;b=b.y1;var e=a-this.X,c=b-this.Y;if(0!==e||0!==c){for(var d=0;d<this.fa.length;d++)this.fa[d].x+=e,this.fa[d].y+=c;this.X=a;this.Y=b}},finish:function(){a.Rc.Math.tw(this.fa)&&(this.fa[this.fa.length]={x:this.fa[0].x,y:this.fa[0].y});this.adjustRect()},draw:function(b){this.Oc(b);if("cloudy"===this.Style)h.Ud.rA.call(this,b);else for(var a=0;a<this.fa.length;a++){var e=
this.fa[a];0===a?(b.beginPath(),b.moveTo(e.x,e.y)):b.lineTo(e.x,e.y)}1<this.fa.length&&(b.closePath(),b.lineJoin="round",b.fill(),b.stroke())},Jl:function(b){this.Intent=b},Fh:function(){return this.Intent},serialize:function(b,a){var e=h.oa.prototype.serialize.apply(this,arguments);"cloudy"===this.Style&&(e.setAttribute("style",this.Style),e.setAttribute("intensity",this.Intensity),e.setAttribute("IT","PolygonCloud"));var c=this.getPath();c&&0<c.length&&$(document.createElementNS("","vertices")).text(h.da.Hl(c,
a)).appendTo($(e));return e},deserialize:function(b,e){h.oa.prototype.deserialize.apply(this,arguments);var c=$(b),d=c.find("vertices");0<d.length&&(d=d.text(),this.fa=h.da.Pi(d,e));a.Rc.Math.tw(this.fa)&&(this.fa[this.fa.length]={x:this.fa[0].x,y:this.fa[0].y});this.Vc=c.attr("style");this.lh=c.attr("intensity");this.wf=c.attr("IT");this.adjustRect()},selectionModel:h.Ws};h.dh.prototype=$.extend(new h.ld,h.dh.prototype);Object.defineProperties(h.dh.prototype,{Intensity:{get:function(){return this.lh},
set:function(b){this.lh=b;this.lb()}},Style:{get:function(){return this.Vc},set:function(b){this.Vc=b;this.lb()}},Intent:{get:function(){return this.wf},set:function(b){this.wf=b;this.lb()}}});h.Yj=function(){h.oa.call(this);this.fa=[];this.yp=!1;this["_xsi:type"]="Polyline";this.Subject=i18n.t("annotations.types.polyline");this.Oa={x:0,y:0};this.ib={x:0,y:0};this.od=null};h.Yj.prototype={elementName:"polyline",resize:function(b){var a=b.x1;b=b.y1;var e=a-this.X,c=b-this.Y;if(0!==e||0!==c){for(var d=
0;d<this.fa.length;d++)this.fa[d].x+=e,this.fa[d].y+=c;this.X=a;this.Y=b}},finish:function(){this.adjustRect()},draw:function(b){this.Oc(b);for(var a=0;a<this.fa.length;a++){var e=this.fa[a];0===a?(b.beginPath(),b.moveTo(e.x,e.y)):b.lineTo(e.x,e.y)}1<this.fa.length&&(b.lineJoin="round",b.stroke())},Tg:function(b){this.rh=b},bj:function(){return this.rh||"None"},gs:function(b){this.qk=b},Jq:function(){return this.qk||"None"},serialize:function(b,a){var e=h.oa.prototype.serialize.apply(this,arguments),
c=$(e),d=this.getPath();d&&0<d.length&&$(document.createElementNS("","vertices")).text(h.da.Hl(d,a)).appendTo(c);$(e).attr({head:this.bj(),tail:this.Jq()});return e},deserialize:function(b,a){h.oa.prototype.deserialize.apply(this,arguments);var e=$(b),c=e.find("vertices");0<c.length&&(c=c.text(),this.fa=h.da.Pi(c,a));this.Tg(e.attr("head")||"None");this.gs(e.attr("tail")||"None");this.adjustRect();this.od=null},selectionModel:h.Xj};h.Yj.prototype=$.extend(new h.ld,h.Yj.prototype);var p;h.Ma=function(b){h.ld.call(this);
this.fa=[];this.Oa={x:0,y:0};this.ib={x:0,y:0};this["_xsi:type"]="FreeText";this.Subject=i18n.t("annotations.types.freetext");this.StrokeThickness=1;this.Jl(b);this.nr="left";this.ly=new h.Color(255,0,0);this.$x="Verdana";this.ay="9pt";this.ky="left";this.iy=0;this.jk=2};h.Ma.Dc={FreeText:"FreeText",FreeTextCallout:"FreeTextCallout",FreeTextTypeWriter:"FreeTextTypeWriter"};h.Ma.prototype={elementName:"freetext",Fh:function(){return this.intent},Jl:function(b){this.intent=b||h.Ma.Dc.FreeText;b!==h.Ma.Dc.FreeTextCallout?
(this.selectionModel=h.fm,this.Subject=i18n.t("annotations.types.freetext")):(this.Tg("OpenArrow"),this.selectionModel=h.Mo,this.Subject=i18n.t("annotations.types.callout"))},Tg:function(b){this.rh=b},bj:function(){return this.rh},Fb:function(b,a){5>this.fa.length&&h.ld.prototype.Fb.call(this,b,a)},adjustRect:function(){this.Fh()===h.Ma.Dc.FreeTextCallout&&h.ld.prototype.adjustRect.apply(this,arguments)},resize:function(b){if(this.Fh()===h.Ma.Dc.FreeTextCallout){var a=b.y1-this.Y,e=b.xa()/this.Width,
c=b.ta()/this.Height;if(0!==b.x1-this.X||0!==a||1!==e||1!==c){var d=this;this.fa.forEach(function(a){a.x=(a.x-d.X)*e+b.x1;a.y=(a.y-d.Y)*c+b.y1});this.adjustRect()}}else this.dg(b),a=this.getRectPadding(),this.Kl(new h.Rect(a,a,a,a))},getRectPadding:function(){return this.Fh()===h.Ma.Dc.FreeTextCallout?this.StrokeThickness/2:0},Kl:function(b){var a=0;this.Fh()===h.Ma.Dc.FreeTextCallout&&(a+=this.jk+1);this.fa[a]=new h.Point(this.X+b.x1,this.Y+b.y2);this.fa[a+1]=new h.Point(this.X+this.Width-b.x2,this.Y+
this.Height-b.y1)},oB:function(){var b=this.fa.slice(-2),a=b[0],b=b[1];return new h.Rect(a.x-this.X,this.Y+this.Height-b.y,this.X+this.Width-b.x,a.y-this.Y)},pv:function(){return this.FontSize.slice(-2)||"px"},ov:function(){var b=parseFloat(this.FontSize);"px"===this.pv(b)&&(b*=.75);return b},EN:function(b,a,e,c,d,g,f){for(var h,l=c,k=b.measureText(".").width||1,k=2*Math.ceil(d/k),m=a.split("\n"),p=0;p<m.length;p++){for(var G=m[p].split(" "),F="",D=0;D<G.length;D++){a=G[D];h=b.measureText(a);if(h.width>
d){for(var J=1,K=k,I;J<=K;)if(I=Math.floor((K+J)/2),h=b.measureText(a.slice(0,I),b),h.width<d)J=I+1;else if(h.width>d)K=I-1;else break;a=a.slice(0,Math.max(1,K))}G[D]!==a&&(G.splice(D+1,0,G[D].substr(a.length)),G[D]=a);a=F+G[D];h=b.measureText(a);if(h.width>d&&0<D){b.fillText(F,e,c);F=G[D]+" ";if(c-l>=g)return;c+=f}else F=a+" "}b.fillText(F.slice(0,-1),e,c);if(c-l>=g)break;c+=f}},draw:function(a){p||(p=$('<textarea class="freetext" />').css({visibility:"hidden",position:"absolute",top:"-9001px"}),
$("body").append(p));var e,c=!1;this.Oc(a);if(this.Fh()===h.Ma.Dc.FreeTextCallout){a.lineJoin="miter";for(var c=Math.min(this.jk+1,this.fa.length),d=0;d<c;d++)e=this.fa[d],0===d?(a.beginPath(),a.moveTo(e.x,e.y)):a.lineTo(e.x,e.y);1<this.fa.length&&h.Ud.Ru(a,this.fa[0],this.fa[1],this.StrokeThickness);c=this.fa.length===this.jk+3}else c=2===this.fa.length;if(c){c=this.fa.slice(-2);e=c[0];var f=c[1],c=e.x,d=e.y,l=f.x-e.x,k=f.y-e.y;a.save();a.beginPath();a.rect(c,d,l,k);a.closePath();a.fill();0<this.StrokeThickness&&
(a.clip(),a.lineWidth*=2,a.strokeRect(c,d,l,k));a.restore();e=this.vn();if("undefined"!==typeof e){a.textBaseline="top";a.fillStyle=this.TextColor.toString();var m=a.lineWidth,f=0+m;a.save();a.beginPath();a.rect(c+m,d+m,Math.max(l-2*m,0),Math.max(k-2*m));a.closePath();a.clip();a.textAlign=this.TextAlign;if(this.Rotation){a.translate(c,d);a.rotate(-(Math.PI/180*this.Rotation));a.translate(-c,-d);if(90===this.Rotation||270===this.Rotation)m=l,l=k,k=m;90===this.Rotation?a.translate(-l,0):270===this.Rotation?
a.translate(0,-k):180===this.Rotation&&a.translate(-l,-k)}var m=l-2*f,B=k-2*f,w=parseFloat(this.FontSize),y=this.pv();"pt"===y&&(w*=.75);0===w&&(p.css({width:l,height:k,"font-family":this.Font}),e=e.replace(/\s+$/g,""),p.val(e),w=b(p,B,function(b){return g(b).css}),y="px");var k=g(w).CC,C=c+f;"center"===this.TextAlign?C=c+l/2:"right"===this.TextAlign&&(C=c+l-f);a.font=w+y+" "+this.Font;this.EN(a,e,C,d+f,m,B,k);a.restore()}}},serialize:function(b,a){var e=h.oa.prototype.serialize.apply(this,arguments),
c=$(e),d=this.getPath(),g={},f=this.oB(),f=h.da.Jw(f,a);g.fringe=f;f=h.da.Bj(this.FillColor);null!==f?g.color=f:c.removeAttr("color");c.removeAttr("interior-color");var f=h.Ud.Bk(a,this.ov()),l=$(document.createElementNS("","defaultappearance"));l.text(this.StrokeColor.eN()+" "+h.da.VL(this.Font,f));c.append(l);var l=$(document.createElementNS("","defaultstyle")),k=h.da.UL(this,a);l.text(k);c.append(l);this.nr&&"left"!==this.nr&&(g.justification=this.nr);l=h.da.Bj(this.TextColor);null!==l&&e.setAttribute("TextColor",
l);e.setAttribute("FontSize",f);e.setAttribute("rotation",this.Rotation);f=this.Fh();f===h.Ma.Dc.FreeTextCallout&&(d=h.da.Hl(d.slice(0,-2),a,",",","),g.callout=d,g.head=this.bj(),e.setAttribute("IT",f));c.attr(g);return e},deserialize:function(b,a){function e(b){var c=b.slice(-2);b=parseFloat(b);return String(h.Ud.Bk(a,b))+c}this.TextColor=new h.Color(0,0,0);var c=h.da,d=$(b);h.oa.prototype.deserialize.apply(this,arguments);null!==c.Oi(d.attr("color"))?this.FillColor=this.StrokeColor:this.FillColor=
new h.Color(0,0,0,0);var g=c.uC(b);g.color&&(this.StrokeColor=c.Oi(g.color));g.font&&(this.Font=g.font.name,this.FontSize=e(g.font.size));g=c.RK(b);g.font&&(this.Font=g.font.name,this.FontSize=e(g.font.size));g.textAlign&&(this.TextAlign=g.textAlign);g.color&&(this.TextColor=c.Oi(g.color));var f;if((g=d.attr("IT")||d.attr("it")||b.getAttribute("IT"))&&g===h.Ma.Dc.FreeTextCallout){if(this.Jl(h.Ma.Dc.FreeTextCallout),this.Tg(d.attr("head")||"OpenArrow"),f=d.attr("callout")){g=c.Pi(f,a);3>g.length&&
(f=c.Pi(f,a,",",","),4>f.length&&(g=f,this.jk=g.length-1));f=this.getPath();for(var l=0;l<g.length;l++)f[l]=new h.Point(parseFloat(g[l].x),parseFloat(g[l].y))}}else this.Jl(h.Ma.Dc.FreeText),f=this.getPath();this.fringe?this.Kl(this.fringe):this.Kl(new h.Rect(0,0,0,0));if(g=d.attr("justification"))this.nr=g;c=c.Oi(d.attr("TextColor")||b.getAttribute("TextColor"));null!==c&&(this.TextColor=c);c=d.attr("FontSize")||b.getAttribute("FontSize");_.isUndefined(c)||_.isNull(c)||(this.FontSize=e(c+"pt"));
(d=d.attr("rotation"))&&(this.Rotation=parseInt(d,10));this.adjustRect()},selectionModel:h.fm};h.Ma.prototype=$.extend(new h.ld,h.Ma.prototype);Object.defineProperties(h.Ma.prototype,{CalloutLineCount:{get:function(){return this.jk},set:function(b){this.jk=b;this.lb()}},TextColor:{get:function(){return this.ly},set:function(b){this.ly=b;this.lb()}},FontSize:{get:function(){return this.ay},set:function(b){this.ay=b;this.lb()}},Font:{get:function(){return this.$x},set:function(b){this.$x=b;this.lb()}},
TextAlign:{get:function(){return this.ky},set:function(b){this.ky=b;this.lb()}},Rotation:{get:function(){return this.iy},set:function(b){this.iy=b;this.lb()}}});h.Ec=function(){h.oa.call(this);this.od=null;this.ri=new h.Color(255,0,0);this.si=null;this.ey=!0;this.fy=!1;this.Yd=[];this["_xsi:type"]="Text Markup";this.Subject=this["_xsi:type"]};h.Ec.prototype={Uw:function(b){if(!b||"undefined"===typeof b.length||0===b.length)throw Error("Argument quads requires an array of at least one element");this.Yd=
b;for(var a=Infinity,e=Infinity,c=0,d=0,g=0;g<this.Yd.length;g++)b=this.Yd[g],a=Math.min(a,b.x1,b.x2,b.x3,b.x4),e=Math.min(e,b.y1,b.y2,b.y3,b.y4),c=Math.max(c,b.x1,b.x2,b.x3,b.x4),d=Math.max(d,b.y1,b.y2,b.y3,b.y4);this.X=a;this.Y=e;this.Width=c-a;this.Height=d-e},ge:function(){return this.Yd},serialize:function(b,a){var e=h.oa.prototype.serialize.apply(this,arguments),c;c=[];for(var d=0;d<this.Quads.length;d++){var g=this.Quads[d];c.push(new h.Point(g.x4,g.y4));c.push(new h.Point(g.x3,g.y3));c.push(new h.Point(g.x1,
g.y1));c.push(new h.Point(g.x2,g.y2))}0<this.Quads.length&&(c=h.da.Hl(c,a,",",","),$(e).attr("coords",c));return e},deserialize:function(b,e){h.oa.prototype.deserialize.apply(this,arguments);this.od=null;this.Yd=[];for(var c=$(b).attr("coords"),c=h.da.Pi(c,e,",",","),d=0;d+3<c.length;d+=4){if(a.Rc.Math.mK(c[d],c[d+3],c[d+1],c[d+2])){var g=c[d+2];c[d+2]=c[d+3];c[d+3]=g}this.Yd.push(new h.fb(c[d+3].x,c[d+3].y,c[d+2].x,c[d+2].y,c[d+1].x,c[d+1].y,c[d].x,c[d].y))}},selectionModel:h.mi};h.Ec.prototype=
$.extend(new h.oa,h.Ec.prototype);Object.defineProperties(h.Ec.prototype,{Quads:{get:function(){return this.Yd},set:function(b){this.Uw(b)}}});h.kg=function(){h.Ec.call(this);this.ri=new h.Color(255,255,0);this["_xsi:type"]="Highlight";this.Subject=i18n.t("annotations.types.highlight");this.Opacity=.25};h.kg.opacityCap=.3;h.kg.prototype={elementName:"highlight",draw:function(b){this.Oc(b);if(_.isUndefined(this.Opacity)||_.isNull(this.Opacity)||this.Opacity>h.kg.opacityCap)b.globalAlpha=h.kg.opacityCap;
b.fillStyle=this.StrokeColor.toString();for(var a,e=0;e<this.Quads.length;e++)a=this.Quads[e],b.beginPath(),b.moveTo(a.x1,a.y1),b.lineTo(a.x2,a.y2),b.lineTo(a.x3,a.y3),b.lineTo(a.x4,a.y4),b.closePath(),b.fill()}};h.kg.prototype=$.extend(new h.Ec,h.kg.prototype);h.ek=function(){h.Ec.call(this);this["_xsi:type"]="Underline";this.Subject=i18n.t("annotations.types.underline")};h.ek.prototype={elementName:"underline",draw:function(b){this.Oc(b);for(var a,e=0;e<this.Yd.length;e++)a=this.Yd[e],b.beginPath(),
b.moveTo(a.x1,a.y1),b.lineTo(a.x2,a.y2),b.closePath(),b.stroke()}};h.ek.prototype=$.extend(new h.Ec,h.ek.prototype);h.dk=function(){h.Ec.call(this);this["_xsi:type"]="Strikeout";this.Subject=i18n.t("annotations.types.strikeout")};h.dk.prototype={elementName:"strikeout",draw:function(b){this.Oc(b);for(var a,e=0;e<this.Yd.length;e++){a=this.Yd[e];var c=(a.x1+a.x4)/2,d=(a.y1+a.y4)/2,g=(a.x2+a.x3)/2;a=(a.y2+a.y3)/2;b.beginPath();b.moveTo(c,d);b.lineTo(g,a);b.stroke()}}};h.dk.prototype=$.extend(new h.Ec,
h.dk.prototype);h.ck=function(){h.Ec.call(this);this["_xsi:type"]="Squiggly";this.Subject=i18n.t("annotations.types.squiggly")};h.ck.prototype={elementName:"squiggly",draw:function(b){var a,e,c,d,g,f,h;this.Oc(b);for(var l=0;l<this.Yd.length;l++){e=this.Yd[l];a=Math.sqrt((e.x1-e.x2)*(e.x1-e.x2)+(e.y1-e.y2)*(e.y1-e.y2));var k=5/3,m=a/10;b.save();b.translate(e.x1,e.y1-1.25);b.rotate(Math.atan2(e.y2-e.y1,e.x2-e.x1));e=Math.abs(e.y1-e.y4);b.beginPath();b.rect(0,-e,a,e+1.25+1);b.clip();b.beginPath();for(var p=
0;p<2*m;p+=2)h=5*p,g=5*p+k/2,f=k,c=5*(p+1)-k/2,d=k,a=5*(p+1),e=0,b.moveTo(h,0),b.bezierCurveTo(g,f,c,d,a,e),g=5*(p+1)+k/2,f=-k,c=5*(p+2)-k/2,d=-k,a=5*(p+2),e=0,b.bezierCurveTo(g,f,c,d,a,e);b.stroke();b.restore()}}};h.ck.prototype=$.extend(new h.Ec,h.ck.prototype);h.gh=function(){h.oa.call(this);this["_xsi:type"]="Sticky";this.Subject=i18n.t("annotations.types.stickyNote");this.Height=this.Width=31;this.NoZoom=this.NoResize=!0;this.od=this.si=null;this.ri=new h.Color(255,255,0);this.Icon="Comment";
this.by=null};h.gh.prototype={elementName:"text",draw:function(b,e){if(!this.bf()){var c=this.Width<this.Height?this.Width:this.Height,d=.75*c,g=.48*c,f=.29*c,h=.19*c,l=c-h;b.strokeStyle="rgb(0, 0, 0)";b.fillStyle=this.StrokeColor.toString();b.globalAlpha=0===this.Opacity?0:this.Opacity||1;e=e||0;b.rotate(-e*Math.PI/180);var k=a.utils.getRotationOffsets((360-e)%360,this.Width,this.Height);b.translate(-k.dx,-k.dy);b.beginPath();b.moveTo(7,2);b.lineTo(c-5-2,2);b.quadraticCurveTo(c-2,2,c-2,7);b.lineTo(c-
2,d-5);b.quadraticCurveTo(c-2,d,c-5-2,d);b.lineTo(g,d);b.lineTo(f,c-2);b.lineTo(f,d);b.lineTo(7,d);b.quadraticCurveTo(2,d,2,d-5);b.lineTo(2,7);b.quadraticCurveTo(2,2,7,2);b.fill();b.moveTo(h,.25*c);b.lineTo(l,.25*c);b.moveTo(h,.41*c);b.lineTo(l,.41*c);b.moveTo(h,.57*c);b.lineTo(.68*c,.57*c);b.stroke()}},serialize:function(b,a){var e=h.oa.prototype.serialize.apply(this,arguments),c={icon:this.Icon};null!==this.InReplyTo&&(c.inreplyto=this.InReplyTo);$(e).attr(c);return e},deserialize:function(b,a){h.oa.prototype.deserialize.apply(this,
arguments);this.od=null;var e=$(b),c=e.attr("icon");c&&(this.Icon=c);(e=e.attr("inreplyto"))&&(this.InReplyTo=e);this.NoZoom=this.NoResize=!0},selectionModel:h.ap};h.gh.prototype=$.extend(!0,new h.oa,h.gh.prototype);Object.defineProperties(h.gh.prototype,{InReplyTo:{get:function(){return this.by},set:function(b){this.by=b;this.lb()}}});h.Ud={Ru:function(b,e,c,d){b.save();b.translate(e.x,e.y);b.rotate(a.Rc.Math.xI(e,c));b.moveTo(0,0);c=5*d+2;e=Math.cos(.2*Math.PI)*c;c*=Math.sin(.2*Math.PI);b.moveTo(e,
-c);b.lineTo(0,0);b.lineTo(e,c);b.stroke();b.restore()},Bk:function(b,a){var e=b.W({x:0,y:0}),c=b.W({x:Number(a),y:0}),d=e.x-c.x,e=e.y-c.y;return Math.sqrt(d*d+e*e)},rA:function(b){b.beginPath();var e=a.Rc.Math.tH(this.fa);a.Rc.Math.tw(this.fa)&&(e[e.length]={x:e[0].x,y:e[0].y});if(!(2>=e.length)){var c=this.lh;0===c&&(c=2);for(var d=1/8092,g=a.Rc.Math.hJ(e),f=1!==Math.round(g),l=0,k=6.5*c,m=e[0],p=k,y=k,C={x:e[1].x-e[0].x,y:e[1].y-e[0].y},G={x:e[0].x-e[e.length-2].x,y:e[0].y-e[e.length-2].y},c=!0,
F=!1,D=0,J,K=0;K<e.length-1;++K){var I=e[K],N=e[K+1],N={x:N.x-I.x,y:N.y-I.y},M=Math.sqrt(N.x*N.x+N.y*N.y);if(!(M<=d)){var P={x:N.x/M,y:N.y/M},L=Math.max(Math.floor(M/k),1),M=M/L,l=a.Rc.Math.yI(P.x,P.y);if(0===K&&3>=e.length){var A=Math.sqrt(C.x*C.x+C.y*C.y);if(A<k){b.arc(e[0].x,e[0].y,A,0,2*Math.PI);return}if(A<2*M){f=A/2;b.arc(e[0].x,e[0].y,f,0,2*Math.PI);b.moveTo(e[1].x+f,e[1].y);b.arc(e[1].x,e[1].y,f,0,2*Math.PI);b.moveTo(e[0].x+f,e[0].y);return}b.arc(e[0].x,e[0].y,M/2,0,2*Math.PI);b.moveTo(e[1].x+
M/2,e[1].y);b.arc(e[1].x,e[1].y,M/2,0,2*Math.PI);b.moveTo(e[0].x+M/2,e[0].y)}0===K&&(D=M,J={x:P.x,y:P.y});I.x-=P.x*M*.5;I.y-=P.y*M*.5;G=a.Rc.Math.EH(G,N);A=0;F||(++A,y=M,c=0>G*g,I.x+=P.x*M,I.y+=P.y*M,m=I,b.moveTo(m.x,m.y),this.os=m.x,this.ps=m.y,F=!0);for(p=.25*(p+M);A<L;++A)1===A&&(p=.5*M),I.x+=P.x*M,I.y+=P.y*M,h.Ud.arcTo.call(this,b,p,p,l,0===A&&0>G*g,f,I.x,I.y);G=N;p=M}}F||(b.moveTo(m.x,m.y),this.os=m.x,this.ps=m.y);J&&(d=.25*(y+p),h.Ud.arcTo.call(this,b,d,d,l,c,f,e[e.length-1].x+.5*D*J.x,e[e.length-
1].y+.5*D*J.y))}},arcTo:function(b,e,c,d,g,f,h,l){var k=[],m=[];a.Rc.Math.YG(this.os,this.ps,k,m,e,c,d,g,f,h,l);for(c=e=0;c<m.length;++c)"c"===m[c]?(b.bezierCurveTo(k[e],k[e+1],k[e+2],k[e+3],k[e+4],k[e+5]),this.os=k[e+4],this.ps=k[e+5],e+=6):(b.lineTo(k[e],k[e+1]),this.os=k[e],this.ps=k[e+1],e+=2)}}})(window);
(function(a){a.o.jm={NA:'<div class="keyreq" id="keyRequestContainer"><h3 >Please register your WebViewer demo.</h3><p class="request_blurb">The demo will immediately become active within this browser session, and you will also recieve a demo license key via email (along with instructions on how to use it).</p><form id="keyRequestForm" name="contact"><input type="hidden" name="product_name" value="WebViewer" /><input type="hidden" name="key_name" value="WebViewer Demo" /><p id="personName" class="form_desc"><label class="labelTitle"><strong>Your Name</strong></label><input type="text" name="person_name" class="form_input"/></p><p id="email" class="form_desc"><label class="labelTitle"><strong>Your Email</strong></label><input type="text" name="email" class="form_input"/></p><p id="company" class="form_desc"><label class="labelTitle"><strong>Company Name</strong></label><input type="text" name="company" class="form_input"/></p><div id="fileTypes" class="form_desc"><label class="labelTitle" ><strong>Filetype Support</strong></label><div class="input_check"><input type="checkbox" name="require_pdf"><span> PDF </span></div><div class="input_check"><input type="checkbox" name="require_office"><span> Office(.docx, .xlsx, .pptx)</span></div><div class="input_check"><input type="checkbox" name="require_other"><span> Other (markdown, images, etc.)</span></div></div><div></div><p id="appDesc" class="form_desc"><label class="labelTitle"><strong>App Description</strong></label><textarea name="app_desc" cols="45" rows="5" class="form_textarea" placeholder="In a few words, please describe the app you would like to create using PDFTron WebViewer. This information is important to us because it helps us choose development priorities that will better serve our users."></textarea></p><p class="form_desc"><label class="labelTitle">&nbsp;</label><input type="submit" id="submitButton" value="Submit Request"/>\x3c!--<input type="button" id="haveKeyButton" value="I Have a Key Already">--\x3e</p><p class="fine_print"><em>We take your privacy seriously, and any data you submit will be treated confidentially and will never be disclosed to third parties.</em></p></form></div>',kI:'<p id="existingKey" class="form_desc unfulfilled"><label class="labelTitle"><strong>Existing Key</strong></label><input type="text" name="existing_key" class="form_input"/></p>',
On:function(a){return!a||50>a.length||"demo:"!==a.slice(0,5)?!1:0<a.slice(5,a.lastIndexOf(":")).match(/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/).length},ux:function(a){a.addClass("unfulfilled");this.sn.push({val:!1,element:a});return this.sn[this.sn.length-1]},Fs:function(){var a=document.getElementById("submitButton");0!==this.sn.length&&_.all(this.sn,function(a){return a&&a.val})?a.disabled=!1:a.disabled=!0},Sx:function(a,c){a?c.val||(c.val=!0,c.element.removeClass("unfulfilled"),
this.Fs()):c.val&&(c.val=!1,c.element.addClass("unfulfilled"),this.Fs())},cp:function(a,c,f){var b=this,e=$(a),g=$(a+" "+c),l=this.ux(e);g.on("change textInput input",function(){var a=g.val();b.Sx(f(a),l)})},EF:function(a){var c=this,f=$(a),b=$(a+" input"),e=this.ux(f);b.click(function(a){1===a.which&&(a=b.is(":checked"),c.Sx(a,e))})},nE:function(a){return a&&1<a.length},mE:function(a){return a&&a.match(/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)},xx:function(a){return a&&
0<a.length},fE:function(){var a=this,c=$("haveKeyButton");0<c.length&&c.remove();c=$("#existingKey");0<c.length&&c.remove();var c=$("#submitButton"),f=$('<input type="button" id="haveKeyButton" value="I Have a Key Already">');c.after(f);f.click(function(){f.val("Use Key");f.click(function(){});f.prop("disabled",!0);var b=$(a.kI);$("#appDesc").after(b);var e=$("#existingKey input");e.on("change textInput input",function(){var c=e.val();a.On(c)?(f.prop("disabled",!1),b.removeClass("unfulfilled"),f.click(function(){a.bx({key:e.val(),
status:"ok"})})):(b.addClass("unfulfilled"),f.prop("disabled",!0),f.click(function(){}))})})},Nx:function(){this.sn=[];this.cp("#email","input",this.mE);this.cp("#personName","input",this.nE);this.cp("#company","input",this.xx);this.cp("#appDesc","textarea",this.xx);this.EF("#fileTypes");this.Fs();this.fE()},GA:function(a){var c=_.isObject(a)?a:{};c.status=c.status||"error";"ok"!==c.status||this.On(a.key)||(c.status="error",c.error=c.error||"Generated key is invalid");"error"===c.status&&(c.error=
c.error||"Unknown error");return c},Lq:function(){var a=document.getElementById("lDialog");a||(a=document.getElementById("keyRequestContainer"));return a},YH:function(a){var c=["<div class='modal-body'><h3>Success!</h3>","<p>Thank you for your interest in PDFTron products.</p>","<p>This session is now registered, and we have also sent a license key and further instructions to <a href='mailto:"+a.email+"'>"+a.email+"</a>.</p>","<br>","<strong>Licence type:</strong> "+a.key_name,"<br>","<strong>Licenced to: </strong>"+
a.person_name,"<br>","<p>Please don&#8217;t hesitate to get in touch with our <a href='https://www.pdftron.com/support/presales.html' style='background-color: transparent;color: #0366d6;'>presales support team</a> if you have any technical or setup questions.</p>","<br>","<p>Sincerely,</p>","<br>","<p>The PDFTron Team</p></div>"];a.key_name||(c[0]="<div class='modal-body'><h3>Registration</h3>",c[2]='<p>Using registration key <br>"'+a.key+'"</p>',c.splice(3,4));this.Lq().innerHTML=c.join("\n")},nA:function(a){this.Lq().innerHTML=
['<div><h4>Licence generation failed.</h4>\n<p>Unfortunately we failed to generate a licence key.</p>\n<p>The error returned was</p>\n<pre style=\'font-size: 1.1em;padding: 16px;overflow: auto;font: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;background-color: #f6f8fa;border-radius: 3px;\'>',a.error,"</pre>\n<p><p>Please don't hesistate to get in touch with us at <a href='mailto:support@pdftron.com'>support@pdftron.com</a> if you continue to have issues.</p>\n<br>\n<p>Sincerely,</p>\n<br>\n<p>The PDFTron Team</p></div>"].join("\n")},
MG:function(){if(0===$("keyReqStyle").length){var a=$("<style id='keyReqStyle'>.unfulfilled .labelTitle{border-left: 3px solid pink;}.unfulfilled .labelTitle::after{content:'*';}</style>");$("head").append(a)}},wL:function(){$("keyReqStyle").remove()},sL:function(){$(this.Lq()).remove();this.wL()},hu:function(){var a=this;if(this.Wn){var c=this.Wn.dialog("option","buttons");c[0]={text:"Continue",click:function(){a.Wn.dialog("close")}};this.Wn.dialog("option","buttons",c)}else{var c=$(this.Lq()),f=
$("<button>Continue</button>");f.click(function(){a.sL()});c.append(f)}},bx:function(){return Promise.reject("Internal error")},PC:function(a,c){var f=this;f.bx=function(b){b=f.GA(b);"ok"===b.status?(f.YH(b),f.hu(),a(b.key)):(f.nA(b),f.hu(),console.error(JSON.stringify(b)),c("Key generation error"))};$("#keyRequestForm").submit(function(b){var a=$.ajax;a({type:"POST",url:"https://ptartkb7kl.execute-api.us-west-2.amazonaws.com/alpha/keygen",data:$("#keyRequestForm").serialize(),success:f.bx,error:function(){var b=
{status:"error",error:"network error"},b=f.GA(b);f.nA(b);f.hu();console.error(JSON.stringify(b));c("Network Error: unable to complete key request")}});b.preventDefault()})},ZH:function(){var a=this;return new Promise(function(c,f){var b=$(a.NA).dialog({width:800,position:{within:document.body},buttons:[{text:"Cancel",click:function(){$(this).dialog("close");f("key error")}}],open:function(b,g){$(".ui-dialog-titlebar-close",g.dialog|g).hide();a.PC(c,f)},close:function(){}});a.Nx();a.Wn=b})},TG:function(){var a=
this;return new Promise(function(c,f){var b=$(a.NA);$("body").prepend(b);a.Wn=null;a.Nx();a.PC(function(b){c(b)},f);a.MG()})},tv:function(a){var c=document.cookie.replace(/(?:(?:^|.*;)\s*wvKey\s*\=\s*([^;]*).*$)|^.*$/,"$1"),c=decodeURIComponent(c);return!this.On(c)||a&&a!==c?(this.On(a)&&(document.cookie="wvKey="+encodeURIComponent(a)+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/"),a||""):c},Sz:function(){document.cookie="wvKey=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/"},GI:function(){var a=
this;if((""+location).split("").reverse().join("").match(/(moc\.nortfdp\.[^\.]+\/\/|moc\.nortfdp\/\/)/))return Promise.resolve("");var c=this.tv();return c?Promise.resolve(c):window.ReaderControl?this.ZH().then(function(c){a.tv(c);return Promise.resolve(c)}):this.TG().then(function(c){a.tv(c);return Promise.resolve(c)})},eJ:function(){return window.parent&&window.parent.WebViewer?window.parent.WebViewer.l():void 0},hB:function(a){var c=this;return(a=a||c.l||c.eJ())?Promise.resolve(a):c.GI().then(function(a){c.l=
a;return Promise.resolve(a)})}}})(window);
(function(a){function d(b){var a=this;this.tg=b;this.EB=!1;this.tg.on("annotationChanged.editbox",function(b,c,d){for(var f=0;f<c.length;++f){var m=c[f];"add"===d&&a.FB(m)?(a.WJ(m),b.imported||(a.IA(m),m.jd.select())):"delete"===d&&m.jd&&(m.jd.remove(),delete m.jd)}});this.tg.on("annotationDoubleClicked.editbox",function(b,c){a.tg.Fc(c)&&a.FB(c)&&(this.EB&&c.jd.val()!==c.vn()&&a.tg.Pw(c,c.jd.val()),a.IA(c))})}function c(b){this.tg=b;this.zj=[]}var f=window.o;f.ga=function(b){if(!b)throw Error("AnnotationManager requires DocumentViewer to initialize");
var e=this;e.rq="";e.Tv=!1;e.readOnly=!1;e.fC=!1;e.xP=!1;e.rz=!0;e.u=b;e.Bf=new c(e);e.bG=new d(e);e.Gi=new a.o.LF(e);e.init();e.Kf=new a.Annotations.N.Pj(this);b.on("contentRemoved.annotManager",function(){e.dc.forEach(function(b){b.trigger("contentRemoved")})});b.on("documentLoaded",function(){e.$H()});e.oP={};e.vh={line:[Annotations.Bd],circle:[Annotations.Mj],square:[Annotations.fi],freetext:[Annotations.Ma],stamp:[Annotations.ji],text:[Annotations.gh],ink:[Annotations.FreeHandAnnotation],polyline:[Annotations.Yj],
polygon:[Annotations.dh],strikeout:[Annotations.dk],highlight:[Annotations.kg],underline:[Annotations.ek],squiggly:[Annotations.ck],caret:[Annotations.bm],widget:[Annotations.ni,Annotations.jf,Annotations.ah,Annotations.di,Annotations.Yg,Annotations.ei,Annotations.ii],link:[Annotations.md]};e.controlPointSize=8;e.controlPointHitBoxScale=1};f.ga.prototype={init:function(){this.dc=[];this.Nu=[];this.Tm=[];this.tq={};this.Bf.Zc();this.VD=!1;this.bv=""},$H:function(){this.hn=!1},Xi:function(){return this.rq},
YL:function(b){this.rq=b;this.trigger("updateAnnotationPermission")},TI:function(){return this.Tv},iM:function(b){this.Tv=b;this.trigger("updateAnnotationPermission")},sB:function(){return this.readOnly},yM:function(b){this.readOnly=b;this.trigger("updateAnnotationPermission")},Nq:function(){return this.fC},Ow:function(b){this.fC=b},ar:function(){return this.VD},Vw:function(b){this.VD=b},lF:function(b){this.$c(b)},wN:function(){return this.rz},SH:function(){this.rz=!1;this.bG.disable()},wM:function(b){this.eA=
b},Fc:function(b){return(this.eA?this.eA(b.Author,b):this.Tv||b.Author===this.rq||null===b.Author||"undefined"===typeof b.Author)&&!this.readOnly},FM:function(b){this.FD=b},$i:function(){return this.Kf},RC:function(b){b=b.map(Number);var a=[];this.dc=this.dc.filter(function(c){return-1!==b.indexOf(c.PageNumber)&&c.gr?(a.push(c),c.kx(),!1):!0});if(0<a.length){var c=this;setTimeout(function(){c.trigger("annotationChanged",[a,"delete"])},0)}},rL:function(b){var a=this;a.u.$k().zw("AnnotationManager.layoutChanged",
{read:function(){},consolidateChanges:function(b){var a=b.filter(function(b){return"layoutChanged"===b.type});b=b.filter(function(b){return"pageDiff"===b.type});var e=[];if(a.length){var c=[],d={},f={};a.forEach(function(b){b.removed.forEach(function(b){var a=f[b];_.isUndefined(a)?c.push(b):c.push(a)});var a=Object.keys(b.moved),e;a.length&&(e=$.extend({},f),a.forEach(function(a){var c=b.moved[a];if(_.isUndefined(e[a]))d[a]=c,f[c]=a;else{var g=e[a];d[g]=c;delete f[a];f[c]=g}}))});e.push({type:"layoutChanged",
removed:c,moved:d})}if(b.length){var n=b.reduce(function(b,a){a.diffs.forEach(function(a){var e=a.before;a=a.after;b[e.id]?b[e.id].after=a:b[e.id]={before:e,after:a}});return b},{});e.push({type:"pageDiff",diffs:Object.keys(n).map(function(b){return n[b]})})}return e},write:function(b,c){c.forEach(function(b){if("layoutChanged"===b.type)a.RC(b.removed),a.dc.forEach(function(a){var e=b.moved[a.PageNumber];e&&(a.PageNumber=e)});else if("pageDiff"===b.type){var c={};a.dc.forEach(function(b){var a=b.sc();
a in c?c[a].push(b):c[a]=[b]});b.diffs.forEach(function(b){var a=b.before;b=b.after;var e=c[b.pageNum];if(e){var d=new XODText.Ia;d.il(b.matrix);d.concat(a.Kb.inverse());e.forEach(function(b){var a=b.IsModified,e=b.he(),c={x:e.x1,y:e.y1},g={x:e.x2,y:e.y2},c=d.W(c),g=d.W(g);b.dg({x1:c.x,y1:c.y,x2:g.x,y2:g.y});a||e.x1!==c.x||e.x2!==g.x||e.y1!==c.y||e.y2!==g.y||(b.IsModified=a)})}})}})}});b.on("layoutChanged",function(b,c){a.u.$k().Ee("AnnotationManager.layoutChanged",{type:"layoutChanged",removed:c.removed,
moved:c.moved})});b.on("pageDiff",function(b,c){a.u.$k().Ee("AnnotationManager.layoutChanged",{type:"pageDiff",diffs:c})});b.on("pageContentChanged",function(b,c){a.u.$k().Ee("AnnotationManager.layoutChanged",{type:"layoutChanged",removed:c,moved:{}})})},$c:function(b,e,c,d){var f=!1,h=b-1;if(isNaN(h))throw Error("Invalid page index given");var m=!!e,p=e||this.u.Vi(h);if(p){var n=p.getContext("2d"),q=90*this.u.de(h+1);if(!m){var q=this.u.Iq(h+1),v=this.u.uv(h),r=v.width,v=v.height;if(90===q||270===
q)var u=r,r=v,v=u;a.o.Ja.zu(p,r,v)}d=d||a.o.Ja.Iv(h);p=[];for(r=0;r<this.dc.length;r++)if(v=this.dc[r],!(v.Hb()!==h||this.Nq()&&v.Listable))if(this.ar()&&-1===v.Author.indexOf(this.bv))!1===v.rk&&(f=!0),v.rk=!0;else{!0===v.rk&&(f=!0);v.rk=!1;p.push(v);n.save();!0===v.NoZoom&&(n.translate(v.dl(),v.fl()),m||(u=this.u.Ib(v.Hb()),n.scale(1/u,1/u),u=this.u.Gd(b),0<u&&(3===u?n.translate(v.xa(),0):2===u?n.translate(v.xa(),v.ta()):1===u&&n.translate(0,v.ta()),n.rotate(-1*u*Math.PI/2))));n.save();if(v.FL())v.Hidden||
!this.u.Wu&&!v.RB()||(c&&v.render(d,this,this.u.Ib(b-1)/a.utils.getCanvasMultiplier()),v.draw(n,q));else v.off("resourcesLoaded.annotManager").on("resourcesLoaded.annotManager",this.nJ(v,b,e));n.restore();if(!m)if("undefined"!==typeof v.selectionModel){if(this.hj(v)&&!v.bf()&&!v.Hidden){var x=new v.selectionModel(v,this.Fc(v)),u=this.u.Ib(v.Hb());!0===v.NoZoom&&(n.translate(-v.dl(),-v.fl()),u=1);x.draw(n,v,u)}}else(v=this.Bf.HP(v))&&v.draw(n);n.restore()}f&&this.trigger("annotationFiltered",[this.dc])}},
nJ:function(b,a,c){var d=this;return function(){d.$c(a,c);b.off("resourcesLoaded")}},kc:function(b){var a=b.Hb();this.lF(b.PageNumber);!this.Hh(b)&&(a=this.u.Vi(a))&&(a=a.getContext("2d"),a.save(),b.draw(a),a.restore())},zM:function(b){this.kc=_.throttle(f.ga.prototype.kc.bind(this),b)},kK:function(b){this.u.WB(b.sc()-1,[{x4:b.Yk(),y4:b.al(),x2:b.wB(),y2:b.SA()}])},MJ:function(b){this.HB([b])},HB:function(b){b.forEach(function(b){b.Hidden=!0});this.Zc();this.jn(b);this.trigger("annotationHidden",
[b,!0])},PM:function(b){this.yD([b])},yD:function(b){b.forEach(function(b){b.Hidden=!1});this.jn(b);this.trigger("annotationHidden",[b,!1])},qI:function(b){if(""===b){if(!this.ar())return;this.Vw(!1);this.bv=""}else this.Vw(!0),this.bv=b;b=this.u.aa.Jd();for(var a=0;a<b.length;a++)this.$c(b[a]+1)},gN:function(){this.Nq()?this.Ow(!1):this.Ow(!0);for(var b=this.u.aa.Jd(),a=0;a<b.length;a++)this.$c(b[a]+1),this.u.Ln(b[a]);this.trigger("annotationToggled",[this.Nq(),this.dc,this.ar()])},Hh:function(b){return-1<
this.dc.indexOf(b)},Pw:function(b,a){b.Il(a);this.trigger("annotationChanged",[[b],"modify"])},Ef:function(b,a){this.Ii([b],a)},Ii:function(b,a){for(var c=0;c<b.length;++c){var d=b[c];0>=d.PageNumber&&console.warn("Invalid annotation PageNumber: "+d.PageNumber);this.Hh(d)||(this.dc.push(d),this.sD(d))}c=$.Event("annotationChanged");c.imported=a;this.trigger(c,[b,"add"])},lN:function(b,a){this.sD(b);if(b.bf()){var c=this.In(b);this.trigger("setNoteText",[b,c])}else this.trigger("setNoteText",b);c=
$.Event("annotationChanged");c.imported=a;this.trigger(c,[[b],"modify"])},sD:function(b){function a(){return(65536*(1+Math.random())|0).toString(16).substring(1)}b.Id||(b.Id=a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a());b.cg&&b.cg(this.u);b.Jh()&&b.mb(b.jb().value)},Zw:function(b){function a(b,e){return e.DateCreated-b.DateCreated}var c=[],d;for(d=0;d<b.length;++d){var f=b[d];if(f instanceof Annotations.Annotation)if(f.bf()){var h=this.Tk(f.InReplyTo);h&&h.iu(f)}else c.push(f)}for(d=0;d<c.length;++d)if(b=
c[d],0!==b.Vq().length)for(f=[],f.push({uh:b,Qu:null});0<f.length;){var m=f.pop(),h=m.uh;null!==m.Qu&&this.trigger("addReply",[h,m.Qu,b]);for(var m=h.Vq().sort(a),p=0;p<m.length;++p)f.push({uh:m[p],Qu:h})}},NM:function(b){if(b.bf()){var a=this.Tk(b.InReplyTo);a.iu(b);this.trigger("addReply",[b,a,this.In(b)])}},In:function(b){for(;null!==b&&b.bf();)b=this.Tk(b.InReplyTo);return b},zH:function(b,a){var c=new Annotations.gh;c.InReplyTo=b.Id;c.X=b.X;c.Y=b.Y;c.PageNumber=b.PageNumber;c.Author=this.Xi();
c.Il(a||"");b.iu(c);this.Ef(c);this.trigger("addReply",[c,b,this.In(b)]);return c},measureText:function(b,a){var c=$("#text-width-tester");b=b.split("\n").join("<br>&nbsp;");c.length?c.css({font:a}).html(b):(c=$('<span id="text-width-tester" style="display:none;font:'+a+';">'+b+"</span>"),$("body").append(c));return{width:c.width(),height:c.height()}},kN:function(b){this.Hh(b)&&this.$c(b.sc())},Jk:function(b,a,c){this.Lu([b],a,c)},Lu:function(b,a,c){var d=this,f={};if(!a&&this.sB())this.u.trigger("notify",
"readOnlyDelete");else{var h=[],m=!1;b=b.slice();for(var p=0;p<b.length;p++){var n=b[p];n.kx();if(this.Hh(n))if(c||a||this.Fc(n)){this.Bf.en(n);this.trigger("annotationSelected",[[n],"deselected"]);var q=this.dc.splice(this.dc.indexOf(n),1);h.push(q[0]);n.IsAdded||a||this.Nu.push(q[0]);n.bf()&&(n.GB&&(q=this.In(n),this.trigger("deleteReply",[n,q])),this.Tk(n.InReplyTo).OH(n));n.Vq().forEach(function(b){d.trigger("setNoteText",[b]);b.InReplyTo=null;d.Zw([b])});f[n.sc()]=!0}else m=!0;else f[n.sc()]=
!0}0<h.length&&(c=$.Event("annotationChanged"),c.imported=a,this.trigger(c,[h,"delete"]));m&&this.u.trigger("notify","permissionDelete");$.each(f,function(b){d.$c(b)})}},nN:function(){if(!this.readOnly){this.Tm=[];for(var b=this.je(),a=0;a<b.length;a++)if(!(b[a]instanceof Annotations.Ec)){var c=this.jv(b[a]);this.Tm.push(c)}this.ip=0}},VK:function(){if(!this.readOnly&&"undefined"!==typeof this.ip){this.ip++;for(var b=[],a=0;a<this.Tm.length;a++){var c=this.jv(this.Tm[a]);b.push(c);var d=this.u.Dh(),
f=this.u.v.Mc(d-1),h=this.u.v.Lc(d-1),f=new Annotations.Rect(0,0,f,h),h=c.he();c.sc()===d?h.translate(5*this.ip,5*this.ip):c.kD(d);h.Bq(f);c.resize(h)}this.Ii(b);this.Tm=b;this.Zc();this.Gw(b)}},jv:function(b){function a(){return(65536*(1+Math.random())|0).toString(16).substring(1)}var c=this.jJ(b);if(null===c)return null;var d=b.Hb(),d=this.u.Ae(d),f=d.inverse(),h=document.createElementNS("",b.elementName),h=b.serialize(h,f);b=new c;b.deserialize(h,d);b.Id=a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+
a()+a();b.Author=this.rq;b.DateCreated=new Date;b.DateModified=new Date;b.IsAdded=!0;b.IsModified=!1;$(b).data("popup",null);return b},zI:function(b){return b.$N()},hj:function(b){return this.Bf.Ez(b)},Fl:function(b){b.Listable&&this.Hh(b)&&(this.Bf.Fl(b),this.$c(b.sc()),this.trigger("annotationSelected",[[b],"selected"]))},Gw:function(b){var a=[],c={};if(b&&$.isArray(b)){for(var d=0;d<b.length;d++){var f=b[d];f.Listable&&this.Hh(f)&&(this.Bf.Fl(f),c[f.sc()]=f.sc(),a.push(f))}var h=this;$.each(c,
function(b){h.$c(b)})}0<a.length&&this.trigger("annotationSelected",[a,"selected"])},Zc:function(){if(0!==this.je().length){this.Bf.Zc();for(var b=this.u.aa.Jd(),a=0;a<b.length;a++)this.$c(b[a]+1);this.trigger("annotationSelected",[null,"deselected"])}},en:function(b){this.Bf.en(b);this.$c(b.sc());this.trigger("annotationSelected",[[b],"deselected"])},je:function(){return this.Bf.je()},Ch:function(){return this.dc},Tk:function(b,a){a=a||this.dc;if(_.isUndefined(b)||_.isNull(b))return null;for(var c=
0;c<a.length;c++)if(a[c].Id===b)return a[c];return null},QA:function(b,a){if(_.isUndefined(b)||_.isNull(b))return[];for(var c=[],d=0;d<this.dc.length;d++)this.dc[d].Id===b&&c.push(this.dc[d]);return _.isUndefined(a)?c:c.filter(function(b){return b.PageNumber-1===a})},Uk:function(b){b=this.RA(b);return 0<b.length?b[0]:null},RA:function(b){var a=new window.ha.Tool(this.u);b=a.vd({x:a.Lf(b).x,y:a.Lf(b).y});a=[];if(null!==b)for(var c=this.Ch(),d=c.length-1;0<=d;d--){var f=c[d];if(f.selectionModel&&!f.bf()&&
!f.Hidden&&f.sc()-1===b.pageIndex){var h=this.u.Ib(f.Hb()),m=this.hj(f),p=new f.selectionModel(f,this.Fc(f),m);p.testSelection(f,b.x,b.y,h)?a.push(f):m&&p.vo(f,h,b.x,b.y)&&a.push(f)}}return a},XA:function(b,a){return this.Bf.XA(b,a)},lI:function(b){return this.Gi.yF(b)},iv:function(){return this.Gi.iv()},CB:function(b){return"string"===typeof b?(new DOMParser).parseFromString(b,"text/xml"):b},OJ:function(b){b=this.CB(b);b=this.Gi.HE(b);this.Zw(b);return b},Pv:function(b,a,c){a=a||function(){};var d=
this;b=this.CB(b);this.Gi.IE(b,function(b){d.hn?a([]):(b=b.mu,d.Zw(b),d.u.$k().Ee("DocumentViewer.renderRequest",{type:"annotations",pages:_.uniq(b.map(function(b){return b.sc()-1}))}),a(b))},c&&c.gr)},Ov:function(b){b=(new DOMParser).parseFromString(b,"text/xml");b=this.Gi.Ov(b);var a=[];b.Zp&&(a=a.concat(b.Zp),0<b.Zp.length&&this.NM(b.Zp[0]));b.jA&&(a=a.concat(b.jA));b.dw&&(a=a.concat(b.dw));return a},jn:function(b){b=_.uniq(b.map(function(b){return b.PageNumber}));for(var a=0;a<b.length;a++)this.$c(b[a],
void 0,!0)},pc:function(){this.Ch().forEach(function(b){b.off();var a=$(b),c=a.data("popup");c&&$(c.el).remove();a.removeData("popup");b.jd&&b.jd.off();b.innerElement&&b.innerElement.off();b.element&&b.element.off()});this.init();this.hn=!0;this.Kf.pc()},qL:function(b,a){if("string"!==typeof b||!a)return!1;"undefined"===typeof this.vh[b]&&(this.vh[b]=[]);this.vh[b].push(a);return!0},QH:function(b,a){if("string"!==typeof b||!a)return!1;this.vh[b]=$.grep(this.vh[b],function(b){return b!==a});return!0},
kJ:function(){return this.vh},jJ:function(b){if(!b||!b.elementName)return null;var a=this.vh[b.elementName];if(a&&0<a.length)for(var c=0;c<a.length;c++){var d=a[c];if(b instanceof d)return d}return null},oK:function(b){var a=this.tq[b];if(a){var c=a.length;b=this.u.Ae(b);for(var d=[],f=0;f<c;++f){var h=a[f].uh,m=a[f].data;h.isImporting=!0;h.deserialize(m,b,this);h.isImporting=!1;h.IsAdded=!1;h.IsModified=!1;d.push(h)}this.Ii(d,!0);this.jn(d)}}};$.extend(f.ga.prototype,a.utils.eventHandler);c.prototype=
{Fl:function(b){this.Ez(b)||this.zj.push(b)},en:function(b){this.zj=$.grep(this.zj,function(a){return a!==b})},Zc:function(){this.zj=[]},Ez:function(b){for(var a=0;a<this.zj.length;a++)if(b===this.zj[a])return!0;return!1},je:function(){return this.zj.slice()}};d.prototype={disable:function(){this.tg.off("annotationChanged.editbox");this.tg.off("annotationDoubleClicked.editbox")},FB:function(b){return b instanceof Annotations.Ma},WJ:function(b){var a=this.tg;b.jd=$('<textarea class="freetext">');b.jd.on("blur",
function(){a.Pw(b,b.jd.val());b.jd.hide();a.jn([b])});b.jd.on("touchstart touchmove touchend mousedown mousemove mouseup",function(b){b.stopPropagation()})},IA:function(b){this.EB=!0;a.o.Ja.Iv(b.Hb()).append(b.jd);var e=parseFloat(b.FontSize)||12,c=b.pv(),d=this.tg.u.Ib(b.Hb())/a.utils.getCanvasMultiplier(),e=e*d*.75+c,c=b.hv()*d,f=b.getPath().slice(-2),h=f[0].x*d,m=Math.min(f[0].y,f[1].y)*d,p=Math.abs(f[1].x-f[0].x)*d,f=Math.abs(f[1].y-f[0].y)*d,n=360-b.Rotation;if(90===n||270===n)var q=p,p=f,f=
q;var v=q=0;switch((360-n)%360){case 90:v=p;break;case 180:q=p;v=f;break;case 270:q=f}q="translate("+q+"px,"+v+"px) rotate("+n+"deg)";n=Math.abs(n%360/90);n===a.o.Ea.Jf?(h+=c,m+=c):n===a.o.Ea.ce?(h-=c,m+=c):n===a.o.Ea.Lk?(h-=c,m-=c):n===a.o.Ea.Ue&&(h+=c,m-=c);n=1>b.FillColor.A?new Annotations.Color(255,255,255):b.FillColor;b.jd.css({top:m,left:h,width:p-2*c,height:f-2*c,font:e+" "+b.Font,color:b.TextColor.toString(),background:n.toString(),transform:q,"transform-origin":"top left","line-height":a.utils.ie?
1:"normal","padding-top":a.utils.ie?Math.max(1,1+1.5*(d-1)):0});b.jd.val(b.vn()||"");this.QM(b)},QM:function(b){b.jd.show().focus()}}})(window);
(function(a){a.Rc={eC:function(a,c,f,b){return null===a||null===c||null===f||null===b?null:{x1:a,y1:c,x2:a+f,y2:c+b}},vQ:function(a,c){if(!c||!a)return!1;var f,b;"undefined"!==typeof c.x1&&"undefined"!==typeof c.y1&&"undefined"!==typeof c.x2&&"undefined"!==typeof c.y2||console.warn("rect points are undefined");f=a.x>=c.x1&&a.x<=c.x2;b=a.y>=c.y1&&a.y<=c.y2;return f&&b},mL:function(a,c){return a&&c?a.x1<=c.x2&&a.x2>=c.x1&&a.y1<=c.y2&&a.y2>=c.y1?!0:!1:!1},pQ:function(a,c,f,b,e){a=e.W(new XODText.Qc(a,
c));f=e.W(new XODText.Qc(f,b));return{x:Math.min(a.x,f.x),y:Math.min(a.y,f.y),w:Math.abs(a.x-f.x),Gg:Math.abs(a.y-f.y)}},Math:{mK:function(a,c,f,b){function e(b,a,e){return(e.y-b.y)*(a.x-b.x)>(a.y-b.y)*(e.x-b.x)}return e(a,f,b)!==e(c,f,b)&&e(a,c,f)!==e(a,c,b)},xI:function(a,c){var f=Math.atan(Math.abs(a.y-c.y)/Math.abs(a.x-c.x));c.x<a.x&&c.y>a.y?f=Math.PI-f:c.x<=a.x&&c.y<a.y?(f=Math.PI-f,f*=-1):c.x>=a.x&&c.y<a.y&&(f*=-1);0===f&&a.x>c.x&&(f=Math.PI);return f},IL:function(a,c,f){f=f||{x:0,y:0};var b=
a.x-f.x;a=a.y-f.y;return{x:Math.cos(c)*b-Math.sin(c)*a+f.x,y:Math.sin(c)*b+Math.cos(c)*a+f.y}},Qz:function(a,c,f){f=void 0!==f?f:Infinity;c=void 0!==c?c:-Infinity;return Math.max(Math.min(a,f),c)},yI:function(a,c){return Math.atan2(c,a)},hJ:function(a){if(!(3>a.length)){for(var c=a[0],f=0,b=1;b<a.length;b++)var e=a[b],f=f+(e.x-c.x)*(e.y+c.y),c=e;return 0<=f?1:-1}},tH:function(a){for(var c=[],f=0;f<a.length;f++)c.push({x:a[f].x,y:a[f].y});return c},tw:function(a){var c=Math.abs(a[a.length-1].y-a[0].y);
return 1.2358E-4<Math.abs(a[a.length-1].x-a[0].x)&&1.2358E-4<c?!0:!1},yj:function(a){var c=Math.cos(a);a=Math.sin(a);return{m_a:c,m_b:-a,m_c:a,m_d:c,m_h:0,m_v:0}},translate:function(a,c,f){a.m_h+=c;a.m_v+=f;return a},W:function(a,c,f){return{x:c*a.m_a+f*a.m_c+a.m_h,y:c*a.m_b+f*a.m_d+a.m_v}},YG:function(a,c,f,b,e,g,l,k,h,m,p){0>e&&(e=-e);0>g&&(g=-g);var n=(a-m)/2,q=(c-p)/2,v=Math.cos(l),r=Math.sin(l),u=v*n+r*q,n=-r*n+v*q,q=e*e,x=g*g,z=u*u,E=n*n,B=z/q+E/x;1<B&&(e*=Math.sqrt(B),g*=Math.sqrt(B),q=e*e,
x=g*g);if(B=q*E+x*z){q=(q*x-q*E-x*z)/B;k=(k===h?-1:1)*Math.sqrt(0>q?0:q);x=e*n/g*k;z=k*-(g*u/e);k=(a+m)/2+(v*x-r*z);v=(c+p)/2+(r*x+v*z);r=(u-x)/e;q=(n-z)/g;x=(-u-x)/e;n=(-n-z)/g;z=Math.sqrt(r*r+q*q);u=(0>q?-1:1)*Math.acos(r/z);z=Math.sqrt((r*r+q*q)*(x*x+n*n));q=(0>r*n-q*x?-1:1)*Math.acos(Math.max(Math.min((r*x+q*n)/z,1),-1));!h&&0<q?q-=2*Math.PI:h&&0>q&&(q+=2*Math.PI);n=[];r=!1;if(1E-9>Math.abs(q))h=4,r=!0,n[0]=e*Math.cos(u),n[1]=g*Math.sin(u),n[2]=e*Math.cos(u+q),n[3]=g*Math.sin(u+q);else{x=0;h=
2;E=!1;do{0>q?(B=x,z=.5*-Math.PI,x-=.5*Math.PI,x<=q+.01&&(z=q-B,E=!0)):(B=x,z=.5*Math.PI,x+=.5*Math.PI,x>=q-.01&&(z=q-B,E=!0));var w=Math.cos(z/2),y=Math.sin(z/2),C=4*(1-w)/3,G=y-C*w/y,B=[],F=[];B[0]=w;F[0]=-y;B[1]=w+C;F[1]=-G;B[2]=w+C;F[2]=G;B[3]=w;F[3]=y;w=Math.sin(u+z/2);y=Math.cos(u+z/2);for(C=0;4>C;C++)n[h-2+2*C]=e*(B[C]*y-F[C]*w),n[h-1+2*C]=g*(B[C]*w+F[C]*y);h+=6;u+=z}while(!E&&26>h)}e=this.yj(-l);this.translate(e,k,v);for(g=2;g<h-2;g+=2)l=void 0===n[g]?this.W(e,0,0):this.W(e,n[g],n[g+1]),n[g]=
l.x,n[g+1]=l.y;n[0]=a;n[1]=c;2<h&&(n[h-2]=m,n[h-1]=p);if(r)b.push("l"),b.push("l"),f.push(n[0]),f.push(n[1]),f.push(n[2]),f.push(n[3]);else for(b.push("l"),f.push(n[0]),f.push(n[1]),a=2;a<h;a+=6)b.push("c"),f.push(n[a]),f.push(n[a+1]),f.push(n[a+2]),f.push(n[a+3]),f.push(n[a+4]),f.push(n[a+5])}},EH:function(a,c){return a.x*c.y-a.y*c.x},iQ:function(a){return 1E4*(a+2*Math.PI)%2*Math.PI*1E4/1E4}}}})(window);
(function(a){function d(b){if(!b)throw Error("XfdfManager requires AnnotationManager to initialize");this.cc=b}function c(b,a){this.px=b;this.zq=a||function(){return!0}}String.prototype.trim||function(){var b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(b,"")}}();c.prototype.ao=function(b,a,c){b=this.px;b.writeStartElement("field");b.writeAttributeString("name",f.escape(a));a=c.value;_.isNull(a)||(b.writeStartElement("value"),b.writeString(f.escape(a)),
b.writeEndElement());b.writeEndElement()};c.prototype.Hr=function(b,a,c){b=f.escape(a);a=this.px;c.value&&(a.writeStartElement("field"),a.writeAttributeString("name",b),a.writeStartElement("value"),a.writeString(f.escape(c.value)),a.writeEndElement(),a.writeEndElement());a.writeStartElement("field");a.writeAttributeString("name",b)};c.prototype.jw=function(){this.px.writeEndElement()};d.prototype={Iz:function(b){return b&&0<b.getElementsByTagName("annots").length?(f.cB(b,"link"),f.cB(b,"widget"),
b.getElementsByTagName("annots")[0].childNodes):[]},mv:function(b){return b?b.querySelector("xfdf > fields"):null},mB:function(b){return b&&(b=b.getElementsByTagName("pdf-info"),0<b.length)?b[0]:null},xz:function(b,e,c){var d=this;a.rf.parse(new a.qe(b),function(b){return d.cc.u.Ae(b-1)},function(b){var a=d.cc,c=a.Kf,g=a.u;if(g.getDocument()){c.XL(b.calculationOrder);var f=b.fields;Object.keys(f).forEach(function(b){var a=f[b],e=c.Qq(a.name);a.yd(e.Ka());c.Xp(f[b],!0)});a.Ii(b.widgets,!0);g=g.getDocument();
g.Up(b.documentActions);for(var a=b.pages,g=g.pb(),q=0;q<a.length;++q){var v=a[q],r=Number(v.number);0<r&&r<g.length+1?g[r-1].Up(v.actions):console.warn("Invalid page number on PDFInfo page:",r)}e(b)}},c)},HE:function(b,e){function c(){var a=d.mB(b);a&&d.xz(a,function(b){m=b.widgets},!0)}var d=this,f=this.Iz(b,e),h=this.mv(b);h&&this.gu(new a.qe(h),c,!0);var m=[];return null!==f?m.concat(this.Bs(f,!0,e)):m},IE:function(b,e,c){function d(){var a=f.mB(b);a?f.xz(a,function(b){f.vz(h,function(a){a.mu=
a.mu.concat(b.widgets);e(a)},c)}):f.vz(h,function(){e.apply(this,arguments)},c)}var f=this,h=this.Iz(b),m=this.mv(b);m?this.gu(new a.qe(m),d,!1):d()},Ov:function(b){var e={};if(b){var c=this.mv(b);c&&this.gu(new a.qe(c),function(){},!0);var c=b.getElementsByTagName("add"),d=b.getElementsByTagName("modify");b=b.getElementsByTagName("delete");0<c.length&&(e.Zp=this.Bs(c[0].childNodes,!0));0<b.length&&(e.jA=this.qE(b[0]));0<d.length&&(e.dw=this.OE(d[0].childNodes))}return e},qE:function(b){var a=[];
b=b.getElementsByTagName("id");for(var c=0;c<b.length;++c){var d=this.cc.Tk(b[c].textContent);d&&(a.push(d),this.cc.Jk(d,!0))}return a},OE:function(b){return this.Bs(b,!0)},Bs:function(b,a){var c=[];this.uz(b,c,0,b.length,a);return c},Ef:function(b,a,c,d,f){var h=this.cc,m=null,p=!1,n=h.vh[b];if(n){var q=a.getAttribute("page"),q=parseInt(q,10),v;q<h.u.Tb()&&(v=h.u.Ae(q));for(var r=0;r<n.length;r++)if(n[r].prototype.vg(a)){m=null;if(c){c=a.getAttribute("name");var u=parseInt(a.getAttribute("page"),
10),m=this.cc.QA(c,u)[0];if(!m&&this.cc.QA(c,u,d)[0])break}if(!m){var x;"widget"===b&&(b=a.getAttribute("title"),x=h.Kf.Qq(b));m=new n[r](x);p=!0}try{if(v)m.isImporting=!0,m.deserialize(a,v,h),m.isImporting=!1;else return h.tq[q]||(h.tq[q]=[]),h.tq[q].push({data:a,uh:m}),{uh:null,tD:!1};m.gr=f}catch(z){console.warn("Error parsing annotation");p=!1;m=null;break}p||h.lN(m,!0);m.IsAdded=!1;m.IsModified=!1;break}}else console.warn("Unsupported annotation type.",b);return{uh:m,tD:p}},uz:function(b,a,c,
d,k,h){for(var m=[];c<d;++c)if(b[c].nodeType===Node.ELEMENT_NODE){var p=this.Ef(f.rv(b[c]),b[c],k,a,h),n=p.uh;n&&(a.push(n),p.tD&&m.push(n))}0<m.length&&(this.cc.Ii(m,!0),m.forEach(function(b){b.IsAdded=!1;b.IsModified=!1}))},gu:function(b,e,c){function d(a){var e=b.J("name");if(!e)return console.warn("Invalid field name part:",e,b.current),null;a=a?a+"."+e:e;var e={name:a},c=[e],g=null;for(b.la();b.advance();){var f=b.sa();switch(f){case "value":_.isNull(g)?g=b.sd():(_.isArray(g)||(g=[g]),g.push(b.sd()));
break;case "field":(f=d(a))&&0<f.length&&(c=c.concat(f));break;default:console.warn("unknown field child node: ",f)}}b.ua();_.isNull(g)||(e.value=g);return c}var f=this.cc.Kf;b.la();b.advance()?a.busyLoop(function(){"field"===b.sa()&&d("").forEach(function(b){f.Xp(b,!0)});var a=b.advance();a||b.ua();return a},e,c):e()},tC:function(b){var a=[];$(b).each(function(b,c){a.push(c.textContent.trim())});return a},vz:function(b,a,c){function d(){f.uz(b,m,h,Math.min(h+50,b.length),!0,c);setTimeout(function(){h+=
50;h<b.length?d():a({mu:m})},0)}var f=this,h=0,m=[];d()},$o:function(b,a,c){var d=this.cc.u.Ae(b.sc()-1).inverse(),f=document.createElementNS("",b.elementName);b.serialize(f,d,c);b=(new XMLSerializer).serializeToString(f);a.writeString(b)},uF:function(b){var e=this.cc,c=e.$i(),d=e.u,f=d.getDocument(),h=[];c.Ao({ao:function(b,a,e){void 0!==e.type&&h.push(e)},Hr:function(b,a,e){void 0!==e.type&&h.push(e)}});var m=f.pb().map(function(b,a){return{number:a+1,actions:b.Ui()}}).filter(function(b){return 0<
Object.keys(b.actions).length});a.rf.write(b,{calculationOrder:c.tu,widgets:e.Ch().filter(function(b){return b.Jh()}),fields:h,documentActions:f.Ui(),pages:m},function(b){return 1>b?(console.warn("Invalid page number:",b),b=new XODText.Ia,b.il(1,0,0,1,0,0),b):d.Ae(b-1)})},yF:function(b){b=b||{};var a=new XMLWriter("UTF-8","1.0");a.formatting="none";var c,d,f;b.annotList?(c=b.fields||!1,d=b.widgets||!1,f=b.links||!1):(c=!1!==b.fields,d=!1!==b.widgets,f=!1!==b.links);a.writeStartDocument();a.writeStartElement("xfdf");
a.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");a.writeAttributeString("xml:space","preserve");d&&this.uF(a);c&&this.rF(a);a.writeStartElement("annots");c=this.cc;b=b.annotList||c.Ch();for(c=0;c<b.length;++c)d=b[c],d instanceof Annotations.md?f&&this.$o(d,a,!0):d instanceof Annotations.WidgetAnnotation||this.$o(d,a,!0);a.writeEndElement();a.writeEndElement();this.vF(a);return a.flush()},vF:function(b){var a=this.cc;b.writeStartElement("pages");var c=a.u.getDocument().pb();if(c){var d=
a.u.Ae(0);b.writeStartElement("defmtx");b.writeAttributeString("matrix",""+(d.m_a+","+d.m_b+","+d.m_c+","+d.m_d+","+d.m_h+","+d.m_v));b.writeEndElement();for(var f=1;f<c.length;++f){var h=a.u.Ae(f);if(!h.zA(d)){b.writeStartElement("pgmtx");var m="",m=m+(h.m_a+","+h.m_b+","+h.m_c+","+h.m_d+","+h.m_h+","+h.m_v);b.writeAttributeString("matrix",m);b.writeAttributeString("page",f.toString());b.writeEndElement()}}}b.writeEndElement()},pF:function(b){b.writeStartElement("add");for(var a=this.cc.Ch(),c=0;c<
a.length;++c){var d=a[c];d.IsAdded&&(this.$o(d,b),d.IsAdded=!1)}b.writeEndElement()},tF:function(b){b.writeStartElement("modify");for(var a=this.cc,c=a.Ch(),d=0;d<c.length;++d){var f=c[d];f.IsModified&&a.Fc(f)&&(this.$o(f,b),f.IsModified=!1)}b.writeEndElement()},qF:function(b){b.writeStartElement("delete");for(var a=this.cc,c=this.yE(),d=0;d<c.length;++d)b.writeStartElement("id"),b.writeString(c[d]),b.writeEndElement();a.Nu.length=0;b.writeEndElement()},rF:function(b){b.writeStartElement("fields");
this.cc.Kf.Ao(new c(b));b.writeEndElement()},sF:function(b){b.writeStartElement("fields");this.cc.Kf.Ao(new c(b,function(b){var a=b.IsModified;b.IsModified=!1;return a}));b.writeEndElement()},wF:function(b){var e=new XMLWriter("UTF-8","1.0");e.writeStartDocument();e.writeStartElement("xfdf");e.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");e.writeAttributeString("xml:space","preserve");e.writeStartElement("fields");var d=new a.Annotations.N.Pj;b.forEach(function(b){d.Xp(b)});d.Ao(new c(e));
e.writeEndElement();e.writeEndElement();b=e.flush();return b=b.replace(/\t/g,"")},xF:function(b){for(var a=[],c=0;c<b.length;++c){var d=b[c];_.isUndefined(d.name)||a.push(d.name+"="+encodeURIComponent(d.value))}return a.join("&")},iv:function(){var b=new XMLWriter("UTF-8","1.0");b.writeStartDocument();b.writeStartElement("xfdf");b.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");b.writeAttributeString("xml:space","preserve");this.sF(b);this.pF(b);this.tF(b);this.qF(b);b.writeEndElement();
b=b.flush();return b=b.replace(/\t/g,"")},yE:function(){return _.map(this.cc.Nu,function(b){return b.Id})}};a.o.LF=d;var f={hx:function(b){var a;a="D:"+b.getFullYear().toString();a+=this.rd((b.getMonth()+1).toString());a+=this.rd(b.getDate().toString());a+=this.rd(b.getHours().toString());a+=this.rd(b.getMinutes().toString());a+=this.rd(b.getSeconds().toString());b=b.getTimezoneOffset();0===b?a+="Z00'00'":(0>b?(a+="+",b*=-1):a+="-",a+=this.rd(parseInt(b/60,10).toString())+"'",a+=this.rd((b%60).toString())+
"'");return a},toDateString:function(b){return b.getFullYear().toString()+"-"+this.rd((b.getMonth()+1).toString())+"-"+this.rd(b.getDate().toString())+" "+this.rd(b.getHours().toString())+":"+this.rd(b.getMinutes().toString())+":"+this.rd(b.getSeconds().toString())},rd:function(b){return 2>b.length?"0"+b:b},escape:function(b){b&&(b=_.escape(b),b=b.replace(/(?:\r\n|\r|\n)/g,"&#xA;"));return b},toFixed:function(b,a){_.isUndefined(a)&&(a=2);return parseFloat(b.toFixed(a)).toString()},getAttribute:function(b,
a){return b.getAttribute(a)||b.getAttribute(a.toLowerCase())},rv:function(b){return b.localName||b.baseName||b.nodeName},cB:function(b,a){var c=[],d=b.getElementsByTagName(a);if(0===d.length)return c;for(var f=0;f<d.length;++f){var h=d[f].outerHTML||d[f].xml;if(_.isUndefined(h)||0!==h.indexOf("<"+a+" "))h=(new XMLSerializer).serializeToString(d[f]);0>h.indexOf("</"+a+">")&&"/"!==h.charAt(h.length-2)&&(h=h.slice(0,h.length-1)+"/"+h.slice(h.length-1));c.push(h)}return c},JP:function(b){return f.getAttribute(b,
"ActionType")?!0:0<b.getElementsByTagName("OnActivation").length},vI:function(b){return f.getAttribute(b,"ActionType")?[b]:b.getElementsByTagName("Action")},wI:function(b){if(!b)return null;var a=f.getAttribute(b,"ActionType");return a?a:(b=f.nv(b))?f.rv(b):null},nv:function(b){b=_.filter(b.childNodes,function(b){return 1===b.nodeType});return 0<b.length?b[0]:null},Gq:function(b,a,c){a=f.getAttribute(b,a);_.isNull(a)&&(a=b.getElementsByTagName(c),a=0<a.length?a[0].textContent:null);return a},QO:function(b,
a,c){c=c.W({x:_.isNull(b)?0:parseFloat(b),y:_.isNull(a)?0:parseFloat(a)});return{x:_.isNull(b)?null:c.x,y:_.isNull(a)?null:c.y}},rP:function(b,a,c){b=b.split(";");for(var d=[],f=0;f<b.length;++f){var h=b[f].split(","),h=new XODText.Qc(h[0],h[1]),h=new Annotations.Point(h.x,h.y);a.W(h);"function"===typeof c&&c(h);d.push(h)}return d},cs:function(b,a,c){if("undefined"===typeof c||null===c)c=",";if(!(b instanceof Annotations.Point))return null;b=new Annotations.Point(b.x,b.y);a&&a.W(b);return f.toFixed(b.x)+
c+f.toFixed(b.y)},lA:function(b,a,c){if("undefined"===typeof c||null===c)c=",";if("string"!==typeof b)return null;b=b.split(c);c=null;2===b.length?(c=new Annotations.Point(parseFloat(b[0]),parseFloat(b[1])),a&&a.W(c)):console.warn("Invalid serialized string format.");return c},Hl:function(b,a,c,d){if("undefined"===typeof d||null===d)d=";";if("undefined"===typeof c||null===c)c=",";for(var k="",h=0;h<b.length;h++){var m=new Annotations.Point(b[h].x,b[h].y);a&&a.W(m);k+=f.toFixed(m.x)+c;k+=f.toFixed(m.y)+
d}return k.substring(0,k.length-1)},Pi:function(b,a,c,d){var f=[];if("undefined"===typeof d||null===d)d=";";if("undefined"===typeof c||null===c)c=",";var h;b=b.split(d);if(d===c)for(d=0;d+1<b.length;d+=2)h=new Annotations.Point(b[d],b[d+1]),a&&a.W(h),f.push(h);else for(d=0;d<b.length;++d)h=b[d].split(c),h=new Annotations.Point(h[0],h[1]),a&&a.W(h),f.push(h);return f},ds:function(b,a,c){if("undefined"===typeof c||null===c)c=",";var d=new Annotations.Point(b.x1,b.y1);b=new Annotations.Point(b.x2,b.y2);
a.W(d);a.W(b);return f.toFixed(d.x,6)+c+f.toFixed(d.y,6)+c+f.toFixed(b.x,6)+c+f.toFixed(b.y,6)},Pu:function(b,a,c){if("undefined"===typeof c||null===c)c=",";c=b.split(c);b=new Annotations.Point(c[0],c[1]);c=new Annotations.Point(c[2],c[3]);a&&(a.W(b),a.W(c));return new Annotations.Rect(b.x,b.y,c.x,c.y)},Jw:function(b,a,c){var d=new XODText.Ia;d.il(a);d.m_d*=-1;d.m_h=0;d.m_v=0;return f.ds(b,d,c)},kA:function(b,a,c){var d=new XODText.Ia;d.il(a);d.m_d*=-1;d.m_h=0;d.m_v=0;return f.Pu(b,d,c)},EQ:function(b,
a){for(var c="",d=0;d<b.length;d++){var k=b[d],k=new Annotations.Point(k.x,k.y);a.inverse().W(k);c+=f.toFixed(k.x)+",";c+=f.toFixed(k.y)+";"}return c.substring(0,c.length-1)},sP:function(b,a){var c=b.split(","),d=new Annotations.Point(c[0],c[1]),c=new Annotations.Point(c[2],c[3]);"undefined"!==typeof a&&(a.W(d),a.W(c));return new Annotations.Rect(d.x,d.y,c.x,c.y)},FQ:function(b,a){var c=new Annotations.Point(b.x1,b.y1),d=new Annotations.Point(b.x2,b.y2),k=a.inverse();k.W(c);k.W(d);return f.toFixed(c.x)+
","+f.toFixed(c.y)+","+f.toFixed(d.x)+","+f.toFixed(d.y)},Bj:function(b){if("undefined"===typeof b||null===b||!(b instanceof Annotations.Color)||0===b.A)return null;var a=b.R.toString(16).toUpperCase();2>a.length&&(a="0"+a);var c=b.G.toString(16).toUpperCase();2>c.length&&(c="0"+c);b=b.B.toString(16).toUpperCase();2>b.length&&(b="0"+b);return"#"+a+c+b},Oi:function(b){return(new RegExp(/^#[0-9a-f]{6}$/i)).test(b)?new Annotations.Color(parseInt(b.substr(1,2),16),parseInt(b.substr(3,2),16),parseInt(b.substr(5,
2),16)):null},Ou:function(b){if(b){var a=new Date(Date.UTC(parseInt(b.substring(2,6),10),parseInt(b.substring(6,8),10)-1,parseInt(b.substring(8,10),10),parseInt(b.substring(10,12),10),parseInt(b.substring(12,14),10),parseInt(b.substring(14,16),10),0));b=b.substring(16);if(7===b.length){var c=b.substring(0,1);if("Z"!==c){var c="-"===c?1:-1,d=parseInt(b.substring(4,6),10);a.setUTCHours(a.getUTCHours()+c*parseInt(b.substring(1,3),10));a.setUTCMinutes(a.getUTCMinutes()+c*d)}}return a}},UA:function(b,
a,c){b="#"+f.rd(b.toString(16));b+=f.rd(a.toString(16));return b+=f.rd(c.toString(16))},VL:function(b,a){return"/"+b+" "+a+" Tf"},UL:function(b,c){return"font: "+b.Font+" "+a.Annotations.Ud.Bk(c,b.ov())+"pt; text-align: "+b.TextAlign+"; color: "+f.Bj(b.TextColor)},TL:function(b,c){return"font-family: "+b.Font+"; font-size: "+a.Annotations.Ud.Bk(c,b.ov())+"pt; text-align: "+b.TextAlign+"; color: "+f.Bj(b.TextColor)},MH:["Tf","rg"],uC:function(b){var a=f.Gq(b,"defaultappearance","defaultappearance");
b={zd:a};if(!_.isNull(a))for(a=a.split(" ");0<a.length;){var c=a.pop();if(-1!==f.MH.indexOf(c))switch(c){case "Tf":var c=a.pop(),d=a.pop().slice(1);b.font={size:c+"pt",name:f.co(d),zQ:d};break;case "rg":var c=parseInt(255*a.pop(),10),d=parseInt(255*a.pop(),10),k=parseInt(255*a.pop(),10);b.color=f.UA(k,d,c)}}return b},hP:function(b){if(4===b.length)return{r:parseInt(b.charAt(1),16)/16,g:parseInt(b.charAt(2),16)/16,b:parseInt(b.charAt(3),16)/16};if(7===b.length)return{r:parseInt(b.slice(1,3),16)/255,
g:parseInt(b.slice(3,5),16)/255,b:parseInt(b.slice(5,7),16)/255}},RK:function(b){b=f.Gq(b,"defaultstyle","defaultstyle");var a={};_.isNull(b)||b.split(";").forEach(function(b){var c=b.split(":");if(!(2>c.length))switch(b=c[0].trim(),c=c[1].trim(),b){case "text-align":a.textAlign=c;break;case "color":c.startsWith("rgb")?(b=/rgb\((\d{1,3}), (\d{1,3}), (\d{1,3})\)/.exec(c),null!==b&&(a.color=f.UA(parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10)))):a.color=c;break;case "font":b=c.split(" "),a.font=
{name:f.co(b[0]),size:b[1]}}});return a},co:function(b){function a(c,e){var d=b;0===d.indexOf(c)&&(d=e);return d}b=a("Arial","Arial");b=a("Courier","Courier");b=a("Helv","Arial");return b=a("Times","Times New Roman")},wC:function(b){return 0<b.indexOf("Bold")?"bold":"normal"},vC:function(b){return 0<b.indexOf("Italic")||0<b.indexOf("Oblique")?"italic":"normal"}};a.Annotations.da=f})(window);
(function(a){a.o=a.o||{};var d=a.o;d.mt=function(a){this.v=a;this.K=[];this.Og={};this.dr=d.Ea.Jf;this.Rf=1;if(a){this.NC();this.OC();var f=this;a.on("pagesDiff",function(b,a){f.trigger("pageDiff",[a]);f.trigger("pageContentChanged",[a.filter(function(b){return b.after.contentChanged}).map(function(b){return b.after.pageNum})])});a.on("pagesUpdated",function(b,a){function c(b){var a={};Object.keys(b).forEach(function(c){a[c]=b[c].Wa});return a}var d=c(f.Og);f.NC();f.OC();d=f.fH(d,c(f.Og));d.contentChanged=
a.filter(function(b){return b.contentChanged}).map(function(b){return b.pageNum});f.trigger("layoutChanged",[d])})}};d.mt.prototype=$.extend({YO:function(){return this.K.length},fH:function(a,d){var b={added:[],removed:[],moved:{}},e={};Object.keys(a).forEach(function(b){e[b]=e[b]||{};e[b].before=a[b]});Object.keys(d).forEach(function(b){e[b]=e[b]||{};e[b].after=d[b]});Object.keys(e).forEach(function(a){a=e[a];a.before&&!a.after?b.removed.push(a.before):!a.before&&a.after?b.added.push(a.after):a.before&&
a.after&&a.before!==a.after&&(b.moved[a.before]=a.after)});return b},NC:function(){var a=this.v.Gn(),d={};a.forEach(function(b){d[b]=!0});var b=this.Og;Object.keys(b).forEach(function(a){a in d||delete b[a]});a.forEach(function(a){b[a]||(b[a]={rotation:null,zoom:null,ef:null,ff:null,Ol:null,mo:null,Qg:null,Wa:null,id:a})})},OC:function(){for(var a=this.v.numPages,d=this.v,b=[],e=0;e<a;++e){var g=this.Og[d.Tq(e)];g.Wa=e+1;b.push(g)}this.K=b},Nw:function(a){this.dr=a},EP:function(){return this.dr},
Th:function(a){this.Rf=a;this.trigger("zoomChanged",[a])},FP:function(){return this.Rf},Rw:function(a,d){var b=this.K[a];if(b)b.mo=d;else throw Error("Invalid page text selected "+a);},oq:function(){this.K.forEach(function(a){a.mo=null})},Yq:function(){return this.K.map(function(a){return a.mo}).filter(function(a){return null!==a}).join("\n")},Hd:function(a){var f=this.K[a];if(f){var b=this.v.Mc(a);a=this.v.Lc(a);var e=_.isNull(f.rotation)?this.dr:f.rotation;if(e===d.Ea.ce||e===d.Ea.Ue){var g=b,b=
a;a=g}return{width:b,height:a,rotation:e,zoom:_.isNull(f.zoom)?this.Rf:f.zoom,ef:f.ef,ff:f.ff,Ol:f.Ol,mo:f.mo,Qg:f.Qg,Wa:f.Wa,id:f.id}}return{width:0,height:0}},Jd:function(){for(var a=[],d=this.K.length,b=0;b<d;++b)a.push(this.Hd(b));return a},Sw:function(a,d){var b=this.K[a];if(b)b.zoom=d;else throw Error("Invalid page index zoomed "+a);},po:function(a,d){var b=this.K[a];if(b)b.rotation=d;else throw Error("Invalid page index rotated "+a);},lD:function(a,d){var b=this.K[a];if(b)b.Ol=d;else throw Error("Invalid page index set text quads "+
a);},Cu:function(){this.K.forEach(function(a){a.Ol=null})},qM:function(a,d){var b=this.K[a];if(b)b.ef=d.ef,b.ff=d.ff;else throw Error("Tried to set offsets of invalid page"+a);},QI:function(){var a={};this.K.forEach(function(d,b){_.isNull(d.rotation)||(a[b]=d.rotation)});return a},qH:function(){this.K.forEach(function(a){a.rotation=null})},KA:function(a){this.K.forEach(function(d){_.isNull(d.rotation)||a(d)})},Qw:function(a,d){var b=this.K[a];if(b)b.Qg=d;else throw Error("Invalid page index set preview canvas "+
a);},vv:function(){var a=[];this.K.forEach(function(d,b){_.isNull(d.Ol)||a.push(b)});return a},rH:function(){this.K.forEach(function(a){a.Qg=null})},SB:function(a){return!!this.Og[a]},tc:function(a){var d=this.Og[a];if(d)return this.Hd(d.Wa-1);throw Error("Unknown page ID "+a);},Cg:function(a){var d=this.K[a];if(d)return d.id;throw Error("Page index is not loaded "+a);},pc:function(){this.off()}},a.utils.eventHandler)})(window);
(function(a){function d(a,b){this.handlers=a;this.state=_.isUndefined(b)?null:b;this.yg=[];this.ww=!0}function c(){this.JA=[];this.MA=[];this.tj={};this.ts=!1;Promise.resolve();Promise.resolve();this.hn=!1;this.$p=null}d.prototype={Ee:function(a){this.yg.push(a)},xD:function(){return 0<this.yg.length},uD:function(){return this.ww||0<this.yg.length},read:function(){this.state=this.handlers.read(this.state);this.ww=!1},write:function(){var a=this.yg;this.handlers.consolidateChanges&&(a=this.handlers.consolidateChanges(a));
this.yg=[];this.state=this.handlers.write(this.state,a);this.ww=!0}};c.prototype={pc:function(){this.ts=!1;window.cancelAnimationFrame(this.$p);this.$p=null;this.hn=!0},zw:function(a,b,c,g){_.isUndefined(g)&&(g=!0);if(this.tj[a])throw Error("Tried to register pipeline "+a+" twice");this.tj[a]=new d(b,c);g&&this.Bw()},IJ:function(a){return!!this.tj[a]},gJ:function(a){if(!this.tj[a])throw Error("Tried to get non-existent pipeline "+a);return this.tj[a]},Bw:function(){var a=this;this.ts||this.hn||(this.ts=
!0,this.$p=window.requestAnimationFrame(function(){a.$p=null;var b=Object.keys(a.tj).map(function(b){return a.tj[b]});b.forEach(function(b){b.uD()&&b.read()});b.forEach(function(b){b.xD()&&b.write()});b=b.some(function(b){return b.uD()||b.xD()});a.ts=!1;b?a.Bw():(a.MA.forEach(function(b){b()}),a.MA=[]);a.JA.forEach(function(b){b()});a.JA=[]}))},Ee:function(a,b){this.gJ(a).Ee(b);this.Bw()}};a.om=c;a.lO=d})((window.o?window.o:window.o={}).ak={});
(function(a){function d(b){this.WD=!0;this.Vv=this.Xr=this.wD=this.Le=!1;this.zc=[];this.nc={};this.wm={};this.$d=.5;this.u=b;this.v=null;this.Wr=Promise.resolve();this.mr=!1;this.Aw=null;this.paused=!1;this.cw=null}function c(b){this.rotation=b.rotation;this.zoom=b.zoom;this.width=b.width;this.height=b.height;this.canvas=null;this.$f=this.ou=this.oe=!1;this.vD=!0;this.wd=this.ej=this.Pl=this.request=null}function f(b,a){this.Ha=b;this.Ph=a;this.vw=createPromiseCapability()}f.prototype={cancel:function(){var b=
this.Ha.hc(this.Ph);try{if(b.$f){b.wd&&(b.wd.Kz(),b.wd.abort&&b.wd.abort());if(b.request)try{this.Ha.v.wg(b.request)}finally{b.request=null,b.wd=null}if(b.Pl)try{this.Ha.v.Dk(b.Pl)}finally{b.Pl=null}if(b.ej)try{this.Ha.v.wg(b.ej)}finally{b.ej=null}}}finally{b.$f=!1,b.vD=!0,this.vw.resolve("canceled")}},iN:function(){this.cancel();var b=this.Ha.hc(this.Ph);b.wd&&(b.wd.Ke(void 0,this.Ha.u.O.tc(this.Ph).Wa-1),b.wd=null)},render:function(b){var a=this;b.then(function(){a.vw.resolve("complete")})},Bv:function(){return this.vw.promise}};
c.prototype={Dn:function(b){return(this.canvas||b?1:0)*(this.width*this.height*this.zoom*this.zoom*(window.devicePixelRatio?window.devicePixelRatio:1)*4+1E5)/4},isValid:function(){return!!this.canvas||!a.o.Ja.Gj},update:function(b){if(this.rotation!==b.rotation||this.zoom!==b.zoom)this.canvas=null,this.vD=!0;this.rotation=b.rotation;this.zoom=b.zoom;this.width=b.width;this.height=b.height;this.Wa=b.Wa}};d.prototype={init:function(){this.yu();this.v=this.u.getDocument()},pc:function(){this.Vv=!0;this.so();
return this.Wr},yu:function(){this.so();var b=this;Object.keys(this.nc).forEach(function(a){b.Nn(a);if(a=b.nc[a])a.oe=!1})},CM:function(b){this.wD=!!b},Nn:function(b){var a=this.nc[b];a&&(a.canvas=null);this.Nl(b)},jq:function(b){var a=this.u,c=a.Dh()-1;b=a.O.tc(b).Wa-1;a=a.Tb();c=b-c;0>c&&(c-=.5);return a-Math.abs(c)},tB:function(b){return this.wm[b]||null},yz:function(b){if(this.hc(b).$f)return this.tB(b);var a=new f(this,b);this.Nl(b);a.render(this.yL(b,function(){}));return this.wm[b]=a},AI:function(){var b=
this;return Object.keys(this.nc).reduce(function(a,c){return a+b.hc(c).Dn()},0)},OG:function(b,c){for(var d=this.hc(c),f=this,k=Object.keys(this.nc).sort(function(b,a){return f.jq(b)-f.jq(a)}),h=this.AI(),m=d.Dn(b)+h,p=0;m>a.Kj&&p<k.length;)m-=this.hc(k[p]).Dn(),++p;if(m<a.Kj){for(h=0;h<p;++h)this.Nn(k[h]);d.canvas=b}else console.warn("Could not fit "+c+" with size "+d.Dn(b)+" into cache of size "+h+" with max size "+a.Kj)},hc:function(b){if(this.u.O.SB(b)){this.nc[b]=this.nc[b]||new c(this.u.O.tc(b));
var a=this.u.O.tc(b);this.nc[b].update(a);return this.nc[b]}return this.nc[b]?this.nc[b]:new c({})},RN:function(b){var a=this.hc(b);a&&(this.Nn(b),a.oe=!1)},cK:function(b){return!!this.hc(b).canvas},pause:function(){this.paused=!0},resume:function(){this.paused=!1;var b=this.nc;Object.keys(b).forEach(function(a){a=b[a];a.wd&&(a.wd.paused=!1,a.wd.resume&&a.wd.resume())})},Ql:function(b){this.zc=b||this.u.aa.Jd()},ZG:function(b){var a=this;return b.some(function(b){return-1===a.zc.indexOf(b)})||a.zc.some(function(a){return-1===
b.indexOf(a)})},lJ:function(){var b=this;return Object.keys(this.nc).map(function(a){return{id:a,page:b.nc[a]}}).filter(function(b){return b.page.oe}).map(function(a){return b.u.O.tc(a.id).Wa-1})},Mv:function(){var b=this;return b.u.aa.Jd(b.$d,b.$d).some(function(c){var d=b.u.O.Cg(c),f=b.hc(d);if(b.Le){d=f.Zf;if(f.$f||!f.oe||!d)return!0;var f=b.u.aa.ea,k=b.$d/2;return(c=f.cl(c,f.gm(k,k)))&&!a.utils.containsRect(d,c.Zf)}return!f.$f&&!f.oe})},nH:function(){return this.Mv()?this.iA():Promise.resolve()},
iA:function(){var b=this;clearTimeout(this.Aw);this.Aw=setTimeout(function(){var a=b.u.aa.Jd(b.$d,b.$d);b.so(a);b.mr||(b.Wr=b.Wr.then(function(){return b.VC()})["catch"](function(a){console.error(a);b.Wr=Promise.resolve()}))},80)},YK:function(b){var a=this;return Promise.resolve().then(function(){var c=a.u.O.tc(b).Wa-1,d=a.hc(b);if(!d.canvas)throw Error("Tried to place uncached page from cache "+b);d.oe=!0;a.u.Wm(d.canvas,c);a.Ah(c,d);a.u.trigger("pageComplete",[c])})},Ev:function(b){var a=this;return new Promise(function(c){var d=
a.hc(b),f=a.u.O.tc(b).Wa-1;d.Pl||a.u.JJ(f)?c():d.Pl=a.v.pl(f,function(c){a.hc(b).Pl=null;a.u.Fz(c,f,-1!==a.zc.indexOf(f),!1)})})},OI:function(b){var c=this;return new Promise(function(d){var f=c.hc(b),k=c.u.O.tc(b).Wa-1;if(f.ej||c.u.HJ(k))d();else{var h=a.utils.getCanvasMultiplier(),m=f.width,p=f.height,n=m>p?2E3/m:2E3/p,n=n/h;f.ej=c.v.Lg({pageIndex:k,getZoom:function(){return n},getPageRotation:function(){return a.o.Ea.Jf},drawComplete:function(b){c.v.Mi(f.ej);f.ej=null;c.u.Fz(b,k,-1!==c.zc.indexOf(k),
!0);d()},useProgress:!1})}})},VC:function(){var b=this;return this.Vv?Promise.resolve():Promise.resolve().then(function(){function a(c){c=b.u.O.Cg(c);return b.cK(c)&&!b.Le?b.YK(c):b.hc(c).oe&&!b.Le?Promise.resolve():b.yz(c).Bv()}var c=b.u.aa.Jd(b.$d,b.$d);b.so(c);b.uL();b.mr=!0;b.u.trigger("beginRendering");var d;b.v.gj()&&c.forEach(function(a){a=b.u.O.Cg(a);b.Ev(a)});b.wD?(b.Xr=!1,d=Promise.resolve(),c.forEach(function(c){d=d.then(function(){return b.Xr?Promise.resolve():a(c)})})):d=Promise.all(c.map(a));
return d}).then(function(){b.Xr=!1;b.mr=!1;var a=b.Mv();b.u.trigger("finishedRendering",a);if(!b.Vv)return new Promise(function(a,c){window.requestAnimationFrame(function(){try{var e;if(b.Mv())return e=b.VC(),a(e);b.dK()?a(b.$K()):a()}catch(d){c(d)}})})})["catch"](function(a){b.mr=!1;console.error(a);throw a;})},dK:function(){return a.o.Ja.Gj&&(0!==a.yr||0!==a.xr)},eH:function(){var b=this;return _.range(b.u.Tb()).map(function(a){return b.u.O.Cg(a)}).sort(function(a,c){return b.jq(c)-b.jq(a)})},Jz:function(){var b=
this,c=_.min(b.zc),d=_.max(b.zc),f=c-a.yr,k=d+a.xr,c=this.eH().filter(function(a){a=b.u.O.tc(a).Wa-1;return f<a&&k>a});if(b.Le)return c[0];for(var d=[],h=c.length,m=0,p=0;p<h;++p){var n=b.hc(c[p]),m=m+n.Dn(!0);if(m<a.Kj)d.push(c[p]);else break}return d},gH:function(){var b=this;return b.Jz().filter(function(a){return!b.hc(a).isValid()})},$K:function(){var b=this;return Promise.resolve().then(function(){return b.Le?Promise.all(b.zc.map(function(a){a=b.u.O.Cg(a);return b.OI(a)})):Promise.all(b.gH().map(function(a){return b.yz(a).Bv()}))["catch"](function(b){console.error("error pre-rendering",
b);throw b;})})},yL:function(b,a){a=a||function(){};var c=this;return new Promise(function(d){c.xL(b,function(b){!b||b.type&&"Cancelled"===b.type||console.warn(b);d()},a)})},uL:function(){var b=this,c=this.Jz();Object.keys(this.nc).forEach(function(d){var f=b.hc(d);if(b.u.O.SB(d)){var k=b.u.O.tc(d).Wa-1;a.o.Ja.Gj?-1===c.indexOf(d)&&f.oe&&(b.u.tL(k),f.oe=!1):(d=-1!==b.zc.indexOf(k),!f.oe&&!f.ou||d||(a.o.Ja.xl(k),f.ou=!1,f.oe=!1))}})},xL:function(b,c,d){var f=this,k=this.hc(b);c=c||function(){};d=d||
function(){};if(k.$f)a.utils.warn("renderPage: Another request for page ID",b),c("renderPage: Another request for page ID "+b);else{var h=f.u.O.tc(b),m=h.zoom,p=h.rotation;if(f.v!==f.u.getDocument())c("Document changed");else{var n=!0,q=null,v=!1,r;if(f.Le){var u=f.u.aa.ea;r=u.cl(h.Wa-1,u.gm(f.$d,f.$d));if(null===r){c("Page "+(h.Wa-1)+" no longer visible");return}}this.cw=window.setTimeout(function(){$("#pageContainer"+(h.Wa-1)).addClass("loading")},300);var x={pageIndex:this.u.O.tc(b).Wa-1,getZoom:function(){return f.u.O.tc(b).zoom},
getPageRotation:function(){return f.u.O.tc(b).rotation},finishedLoading:function(a,d){if(f.v!==f.u.getDocument())return c(Error("Document changed")),!1;if(a)return console.warn("Error loading page "+b),c(Error("Error loading page "+b)),!1;n=null===k.wd;k.wd=d;f.paused&&k.wd.pause();return!0},acquireResources:function(){return n},resourcesLoaded:function(){if(f.v!==f.u.getDocument())return c(Error("Document changed")),!1;if(!1===k.$f)return!1;var a=f.u.O.tc(b);m===a.zoom&&p===a.rotation||f.Ah(a.Wa-
1,k);return!0},drawComplete:function(){if(f.v!==f.u.getDocument()||_.isNull(q))c(Error("Document changed, or progress event not received"));else{h=f.u.O.tc(b);k.$f=!1;k.oe=!!v;r&&(k.Zf=r.Zf);v?f.u.trigger("pageComplete",[z,q]):a.o.Ja.xl(z);a.o.Ja.Gj&&!f.Le&&f.OG(q,b,h);f.v.Mi(k.request);clearTimeout(this.cw);$("#pageContainer"+(h.Wa-1)).removeClass("loading");var d=-1!==f.zc.indexOf(z);f.v.Qn()&&d&&f.Ah(h.Wa-1,k);c()}},drawProgressive:function(h){if(f.v!==f.u.getDocument())c(Error("Document changed"));
else{var k=f.u.O.tc(b),n=k.Wa-1;m===k.zoom?(_.isUndefined(r)||(k=$(h),k.css("top",r.ix.y+"px"),k.css("left",r.ix.x+"px")),k=f.v.bd(n),q=a.o.Ja.eB(h,n,m,p,x.getPageTransform(),k),v=!!f.u.Wm(q,n)):a.utils.warn("bad zoom: "+n);d(n)}},getPageTransform:function(){return f.u.aa.Uq(h.Wa-1)},onError:function(b){c(b)},useProgress:!f.Le&&a.o.rB(),renderRect:_.isUndefined(r)?void 0:r.Zf};k.request=-1;k.$f=!0;k.request=f.v.Lg(x);var z=h.Wa-1;f.Ah(z,k)}}},Ah:function(b,a){this.u.Ah(b);a.ou=!0},xH:function(){for(var b=
[],c=0;c<this.u.Tb();++c){var d=this.u.O.Cg(c);b.push(d)}this.QD(b);this.so();a.o.Ja.fo()},QD:function(b){var a=this;Object.keys(this.nc).forEach(function(c){if(-1===b.indexOf(c)){var d=a.wm[c];d&&(d.cancel(),d.iN(),delete a.wm[c]);delete a.nc[c]}else a.nc[c].oe=!1})},TD:function(b){this.v&&((this.Le=this.WD&&b>this.v.v.zr)&&1<a.utils.getCanvasMultiplier()?this.$d=0:this.$d=.5)},so:function(b){var c=this,d={};"undefined"!==typeof b&&$.each(b,function(b,a){d[c.u.O.Cg(a)]=!0});Object.keys(this.wm).forEach(function(b){b in
d&&a.o.Ja.Gj||c.Nl(b)});this.Xr=!0;clearTimeout(this.Aw)},Nl:function(b){var c=this.tB(b);clearTimeout(this.cw);$("#pageContainer"+b).removeClass("loading");c&&(this.hc(b).$f&&(b=this.u.O.tc(b).Wa-1,$(document.getElementById("pageContainer"+b)).find(".progressive").remove()),c.cancel(),a.o.Ja.Bu())},Xw:function(b){this.WD=!!b},nD:function(){}};a.o.mF=d})(window);
(function(a){function d(b,a){this.mh=!b;this.height=this.width=0;this.bg=null;b&&(this.width=a.width,this.height=a.height,this.rotation=a.rotation,this.gd=a.Wa-1,this.Ph=b,this.zoom=a.zoom,this.Qg=a.Qg)}function c(b,a){this.K=a;this.index=b;this.height=a.reduce(function(b,a){return a.ta()>b?a.ta():b},0);this.width=a.reduce(function(b,a){return b+a.xa()},0)}function f(b){this.rows=b.rows;this.qj=b.qj;this.Ug=b.Ug;this.wc=b.wc;this.tl=b.tl;this.zg=b.zg;this.K=b.K;this.ag=b.ag;b=this.rows;this.width=
this.zg.reduce(function(b,a){return b+a},2*this.Ug*this.qj);this.height=b.reduce(function(b,a){return b+a.ta()},this.rows.length*this.Ug*2)}function b(b,a){var c=a.zoom,e=a.rotation,d=a.width*c,c=a.height*c,f=null;e===window.o.Ea.ce||e===window.o.Ea.Ue?(f="rotate("+90*e+"deg)",f=e===window.o.Ea.ce?" translate("+d+"px, 0)  "+f:" translate(0,"+c+"px)  "+f,b.css("height",d),b.css("width",c)):(e===window.o.Ea.Lk&&(f="translate("+d+"px,"+c+"px) scale(-1,-1)"),b.css("width",d),b.css("height",c));null!==
f&&b.css({position:"absolute",transform:f,"transform-origin":"top left","ms-transform":f,"ms-transform-origin":"top left","-moz-transform":f,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":f,"-o-transform":f,"-o-transform-origin":"top left"})}function e(b,a,c){if(a)for(a=b-1;0<=a;--a)c(a);else for(a=0;a<b;++a)c(a)}function g(b,a,c){var e=document.createElement("div");e.id="pageContainer"+b.Eh();2===c?0===a?e.style.marginLeft="auto":1===a&&(e.style.marginRight=
"auto"):(e.style.marginLeft="auto",e.style.marginRight="auto");e.className="pageContainer";return e}function l(b,a,c){var e=document.createElement("div");e.id="pageSection"+b.Eh();e.style.cssFloat="left";e.style.position="relative";e.className="pageSection";e.appendChild(g(b,a,c));return e}function k(b,a,c){var d=document.createDocumentFragment(),f=b.pb();e(f.length,c,function(b){d.appendChild(l(f[b],b,a))});b=document.createElement("div");b.style.clear="both";d.appendChild(b);return d}function h(a,
c){if(c.Qg){var e=c.Qg,d=parseFloat(e.css("width")),f=parseFloat(e.css("height")),g=parseFloat(a.style.width)/d,h=e.attr("id");if(h&&0<=h.indexOf("hrthumb")){h=c.rotation;if(h===window.o.Ea.ce||h===window.o.Ea.Ue)g=parseFloat(a.style.width)/f;b(e,c)}e.each(function(){var b=$(this);b.css({top:parseFloat(b.css("top"))*g,width:d*g,height:f*g});a.appendChild(this)})}}function m(b,a,c,d,f,g){var k=a.pb(),l=b;e(k.length,f,function(b){if(!l)throw Error("Tried to update non-existent page section");var e=
l,f=k[b],m=a.ta();e.style.width=Math.floor(c[b])+"px";e.style.height=Math.floor(m)+"px";e.style.margin=d+"px";g||(b=e.firstChild,e=Math.floor(f.ta())+"px",b.style.width=Math.floor(f.xa())+"px",b.style.height=e,b.style.top=Math.floor(m-f.ta())/2+"px",$(b).children().detach(),h(b,f));l=l.nextSibling});return l=l.nextSibling}function p(b,a,c){var d=a.pb(),f=b;e(d.length,c,function(b){if(!f)throw Error("Tried to skip non-existent page section");h(f.firstChild,d[b]);f=f.nextSibling});return f=f.nextSibling}
function n(b,a,c){var d=a.pb().length,f=b;a=document.createRange();e(d,c,function(){if(!f)throw Error("Tried to remove non-existent page section");f=f.nextSibling});c=f.nextSibling;a.setStartBefore(b);a.setEndAfter(f);a.deleteContents();return c}function q(b){this.yg=[];this.state=b}d.Yz=function(b,a){var c=new d(null,{});c.gd="b"+b;c.width=0;c.height=0;c.zoom=a.zoom;c.rotation=0;c.Qg=null;c.LJ=a.width;c.LP=a.height;return c};d.prototype={xB:function(){return this.bg},Fg:function(){return this.zoom},
Gd:function(){return this.rotation},xa:function(){return this.width*this.zoom},qv:function(){var b=this.width;this.mh&&(b=this.LJ);return b*this.zoom},ta:function(){return this.height*this.zoom},Eh:function(){return this.gd},eK:function(b){return this.mh&&b.mh||this.Ph===b.Ph},Xv:function(b){return this.mh!==b.mh||!this.mh&&(this.Ph!==b.Ph||this.xa()!==b.xa()||this.ta()!==b.ta()||this.Fg()!==b.Fg()||this.Gd()!==b.Gd())}};c.prototype={pb:function(){return this.K},ta:function(){return this.height},
xa:function(){return this.width},Eh:function(){return this.index},Xv:function(b){var a=b.pb();return this.K.length!==b.pb().length||this.K.some(function(b,c){return b.Xv(a[c])})},fK:function(b){var a=b.pb();return this.K.length===b.pb().length&&this.K.every(function(b,c){return b.eK(a[c])})}};f.prototype={pb:function(){return this.K},xa:function(){return this.width},ta:function(){return this.height},xB:function(b){return this.rows[b]}};q.prototype={make:function(b,a,c){this.yg.push({kw:b,Ff:{bg:a,
JK:c}})},UG:function(b){var a=this,c=b.firstChild,e=[];b.style.width=Math.ceil(this.state.xa())+"px";this.yg.forEach(function(d){switch(d.kw){case "addRow":e=e.concat(d.Ff.bg.pb());c=a.zz(c,d.Ff,b);break;case "updateRow":e=e.concat(d.Ff.bg.pb());c=a.sN(c,d.Ff,b);break;case "updateColumns":c=a.mN(c,d.Ff,b);break;case "skipRow":c=a.SM(c,d.Ff,b);break;case "replaceRow":e=e.concat(d.Ff.bg.pb());c=a.AL(c,d.Ff,b);break;case "removeRow":c=a.TC(c,d.Ff,b);break;default:console.warn("Unsupported layout change operation:",
d.kw)}});if(c&&"annoteditselectrect"!==c.id)throw Error("Nodes left after applying changes");e=e.filter(function(b){return!b.mh}).map(function(b){return b.Eh()});return{OK:e}},bJ:function(){var b=[];this.yg.forEach(function(a){switch(a.kw){case "updateRow":b=b.concat(a.Ff.bg.pb())}});return b.filter(function(b){return!b.mh}).map(function(b){return b.Eh()})},zz:function(b,a,c){a=a.bg;var e=k(a,this.state.zg.length,this.state.ag);m(e.firstChild,a,this.state.zg,this.state.Ug,this.state.ag);b?c.insertBefore(e,
b):c.appendChild(e);return b},sN:function(b,a){return m(b,a.bg,this.state.zg,this.state.Ug,this.state.ag)},SM:function(b,a){return p(b,a.bg,this.state.ag)},AL:function(b,a,c){b=this.TC(b,a);return this.zz(b,a,c)},TC:function(b,a){return n(b,a.JK,this.state.ag)},mN:function(b,a){return m(b,a.bg,this.state.zg,this.state.Ug,this.state.ag,!0)}};a.WI=function(b){var a=b.zN,e=b.Ug,g={width:0,height:0},h={width:0,height:0};a&&0<a.length&&(g={width:a[0].width,height:a[0].height,zoom:a[0].zoom},h={width:a[a.length-
1].width,height:a[a.length-1].height,zoom:a[a.length-1].zoom});var k=b.TM||0,l=[],m;for(m=0;m<k;++m)l.push(d.Yz(m,g));var l=l.concat(a.map(function(b){return new d(b.id,b)})),n=b.qj;n>l.length&&(n=l.length);a=b.wc||0;g=Math.ceil(l.length/b.qj);_.isUndefined(b.tl)||(g=b.tl<g?b.tl:g);var q=Array(n),k=l.reduce(function(b,a,c){var e;0===b.length?(e=[],b.push(e)):e=b[b.length-1];e.length===n&&(e=[],b.push(e));e.push(a);if(c===l.length-1&&(a=n-e.length,0<a))for(var f=0;f<a;++f)e.push(d.Yz(c+f+1,h));return b},
[]).slice(a,a+g).map(function(b,a){var e=new c(a,b);e.pb().forEach(function(b,a){q[a]=q[a]?b.qv()>q[a]?b.qv():q[a]:b.qv()});return e});return new f({rows:k,Ug:e,qj:n,wc:a,tl:g,zg:q,K:l,ag:b.ag})};a.VI=function(b,a){var c=new q(a);if(!b)return a.rows.forEach(function(b){c.make("addRow",b,null)}),c;var e=b.rows,d,f=b.zg,g=a.zg;d=f.length===g.length?f.every(function(b,a){return b===g[a]}):!1;f=a.rows;f.forEach(function(b){var a=e[b.Eh()];a?a.fK(b)?a.Xv(b)?c.make("updateRow",b,a):d?c.make("skipRow",b,
a):c.make("updateColumns",b,a):c.make("replaceRow",b,a):c.make("addRow",b,a)});if(f.length<e.length)for(f=f.length;f<e.length;++f)c.make("removeRow",null,e[f]);return c};a.lm=d;a.mO=c;a.fO=f;a.eO=q})((window.o=window.o||{}).Ix={});
(function(a){var d=XODText,c=window.o,f={Ox:"Single",cm:"Continuous",zx:"Facing",Os:"FacingContinuous",No:"Cover",Oo:"CoverFacing",pe:"Custom"};c.Ad=function(b,a,c){this.mode=null;this.u=b;this.Yc=this.Yf=this.qb=null;this.Ve=this.wc=0;this.Lh=null;this.zc=[];this.Gc={};b=a===f.pe;this.El=_.isUndefined(c)?!b:c;_.isNull(a)||_.isUndefined(a)||(this.mode=a)};c.Ad.prototype={vM:function(b,a,c,d,k){this.mode=f.pe;this.qb=b;this.Yf=a;this.Yc=c;this.wc=d;this.Ve=k},$L:function(b){this.Gc=b},Uv:function(){return this.mode===
f.cm||this.mode===f.Os||this.mode===f.No},Hb:function(b,a){if(!this.Lh)return-1;var c=this.Lh.xB(b-this.Lh.wc);if(this.u.Cv())var d=this.Lh.qj,c=c.pb()[d-(a+1)];else c=c.pb()[a];return c&&_.isNumber(c.Eh())?c.Eh():-1},De:function(b,a){if(this.Gc.pageToWindow)return this.Gc.pageToWindow(b,a);b=this.u.pJ(b,a);var c=this.u.O.Hd(a);return{x:b.x+c.ef,y:b.y+c.ff}},pC:function(b,a){if(this.Gc.pageToWindow)return this.Gc.pageToWindow(b,a);b=this.u.qJ(b,a);var c=this.u.O.Hd(a);return{x:b.x+c.ef,y:b.y+c.ff}},
Uh:function(b,c){if(this.Gc.windowToPage)return this.Gc.windowToPage(b,c);var f=this.u.Ib(c),l=this.u.O.Hd(c),k=new d.Qc;k.x=b.x-l.ef;k.y=b.y-l.ff;f=a.Pc(f,this.u.de(c+1),{width:this.u.Mc(c),height:this.u.Lc(c)},0,!1);f=f.inverse();k=f.W(k);return{pageIndex:c,x:k.x,y:k.y}},ZD:function(b,c){if(this.Gc.windowToPage)return this.Gc.windowToPage(b,c);var f=this.u.Ib(c),l=this.u.O.Hd(c),k=new d.Qc;k.x=b.x-l.ef;k.y=b.y-l.ff;f=a.Pc(f,this.u.Gd(c+1),this.u.v.bd(c),0,!1);f=f.inverse();k=f.W(k);return{pageIndex:c,
x:k.x,y:k.y}},Xq:function(b,a){if(this.Gc.getSelectedPages)return this.Gc.getSelectedPages(b,a);var c=null,d=null;b=_.isUndefined(b)?this.u.ed:b;a=_.isUndefined(a)?this.u.kb:a;a:for(var f=this.wc;f<this.Ve;f++)for(var h=0;h<this.qb;h++){var m=this.Hb(f,h);if(!(0>m)){var p=this.u.O.Hd(m),n=p.ef,q=p.ff,v=p.ef+p.width*this.u.zoom,p=p.ff+p.height*this.u.zoom;null===c&&b.x<=v&&b.x>=n&&b.y<=p&&b.y>=q&&(c=m);null===d&&a.x<=v&&a.x>=n&&a.y<=p&&a.y>=q&&(d=m);if(null!==c&&null!==d)break a}}c>d&&(f=c,c=d,d=f);
return{first:c,last:d}},Jd:function(b,a){if(this.Gc.getVisiblePages)return this.Gc.getVisiblePages(b,a);if(0===$("#DocumentViewer").length)return[];for(var c,d=[],f=this.gm(b,a),h=this.gm(0,0),m=this.wc;m<this.Ve;m++)for(var p=0;p<this.qb;p++)if(c=this.Hb(m,p),!(0>c)){var n=this.cl(c,f,h);null!==n&&d.push({gd:c,BC:n.XK})}d.sort(function(b,a){return a.BC-b.BC});c=d.length;for(f=0;f<c;++f)d[f]=d[f].gd;return d},gm:function(b,a){b=_.isUndefined(b)?.5:b;a=_.isUndefined(a)?.5:a;var c=document.getElementById("DocumentViewer");
if(null===c)return[];var d=c.getBoundingClientRect(),f=d.width,h=d.height,m=c.scrollTop+d.top-h*b,c=c.scrollLeft+d.left-f*a;return{x1:c,y1:m,x2:c+f*(1+2*a),y2:m+h*(1+2*b)}},cl:function(b,c,d){var f=this.u.v.bd(b),k=this.pC({x:0,y:0},b),h=this.pC({x:f.width,y:f.height},b),f=a.utils.normalizeRect(k,h);c=a.utils.getRectIntersection(f,c);if(c.x1!==c.x2){var m;d&&(d=a.utils.getRectIntersection(f,d),m=(d.x2-d.x1)*(d.y2-d.y1)/((f.x2-f.x1)*(f.y2-f.y1)));k=this.ZD({x:c.x1,y:c.y1},b);h=this.ZD({x:c.x2,y:c.y2},
b);return{Zf:a.utils.normalizeRect(k,h),ix:{x:c.x1-f.x1,y:c.y1-f.y1},XK:m}}return null},Uq:function(b){if(this.Gc.getPageTransform)return this.Gc.getPageTransform(b);b=this.u.uv(b);return{x:0,y:0,width:b.width,height:b.height}},wv:function(){return{x:0,y:0}},Hk:function(){return c.Ix.WI({Ug:this.u.iB(),zN:this.u.O.Jd(),qj:this.qb,wc:this.wc,tl:this.Ve-this.wc,TM:this.mode===f.No||this.mode===f.Oo?1:0,ag:this.u.Cv()})},io:function(b){b?this.mode===f.pe?this.u.el.children().detach():this.Eq(function(b){$(b).children().detach()}):
(this.Lh=null,this.u.el.empty(),this.u.trigger("contentRemoved"))},eg:function(){if(this.Gc.createPageSections)return this.io(!1),this.Gc.createPageSections(),_.range(0,this.u.Tb());var b=this;if(this.mode!==f.pe){var a=this.Hk(),d=c.Ix.VI(this.Lh,a);d.bJ().forEach(function(a){var c=document.getElementById("pageContainer"+a),c=b.u.YD?$(c).find("#hrthumb"+a):$(c).find(".canvas"+a+":not(.progressive)");0<c.length&&b.u.O.Qw(a,c)});this.Lh=a;a=d.UG(this.u.el.get(0)).OK;this.u.ju(this.Lh.ta());return a}return _.range(0,
this.u.Tb())},Eq:function(b){for(var c=this.u.el.get(0).firstChild;c;)a.utils.hasClass(c,"pageSection")&&b(c.firstChild),c=c.nextSibling},Je:function(){var b=this.u.O;this.Eq(function(a){var c=a.parentNode,d=Number(a.id.slice(13));_.isNaN(parseInt(d))||b.qM(d,{ef:c.offsetLeft+a.offsetLeft,ff:c.offsetTop+a.offsetTop})})}};c.dm=function(b){if(!b)throw Error("DisplayModeManager requires DocumentViewer to initialize");this.u=b;this.ea=new a.o.Ad(this.u,f.cm)};c.dm.prototype={ub:function(){return this.ea},
gD:function(b){this.ea.io();null===this.u.v?(this.ea=b,this.u.trigger("displayModeUpdated")):(this.lz(b),this.u.O.Th(this.u.ze()),this.u.trigger("zoomUpdated",this.u.Fg()),this.u.wj(),this.ea.Uv()&&(this.eg(),this.ea.Je()),this.u.Md(this.u.Rb+1))},lz:function(b){this.ea=b;this.Lx();this.u.O.Cu();this.u.trigger("displayModeUpdated")},Lx:function(){var b=this.ea.mode;_.isNull(b)||(b===f.Ox?(this.ea.qb=1,this.ea.Yf=Math.ceil(this.u.v.numPages/this.ea.qb),this.ea.Yc=Math.ceil(this.u.Rb/this.ea.qb),this.ea.wc=
this.ea.Yc,this.ea.Ve=this.ea.Yc+1):b===f.cm?(this.ea.qb=1,this.ea.Yf=Math.ceil(this.u.v.numPages/this.ea.qb),this.ea.Yc=-1,this.ea.wc=0,this.ea.Ve=this.ea.Yf):b===f.zx?(this.ea.qb=2,this.ea.Yc=Math.floor(this.u.Rb/this.ea.qb),this.ea.Yf=Math.ceil(this.u.v.numPages/this.ea.qb),this.ea.wc=this.ea.Yc,this.ea.Ve=this.ea.Yc+1):b===f.Os?(this.ea.qb=2,this.ea.Yc=-1,this.ea.Yf=Math.ceil(this.u.v.numPages/this.ea.qb),this.ea.wc=0,this.ea.Ve=this.ea.Yf):b===f.No?(this.ea.qb=2,this.ea.Yc=-1,this.ea.Yf=Math.ceil((this.u.v.numPages+
1)/this.ea.qb),this.ea.wc=0,this.ea.Ve=this.ea.Yf):b===f.Oo&&(this.ea.qb=2,this.ea.Yc=Math.floor(this.u.Rb/this.ea.qb),this.ea.Yf=Math.ceil(this.u.v.numPages/this.ea.qb),this.ea.wc=this.ea.Yc,this.ea.Ve=this.ea.Yc+1))},Xq:function(b,a){return this.ea.getSelectedPages(b,a)},Jd:function(b,a){return this.ea.getVisiblePages(b,a)},cl:function(b,a,c){return this.ea.cl(b,a,c)},De:function(b,a){return this.ea.pageToWindow(b,a)},Uh:function(b,a){return this.ea.windowToPage(b,a)},Uq:function(b){return this.ea.getPageTransform(b)},
wv:function(b){return this.ea.getPageOffset(b)},Hk:function(){return this.ea.Hk()},eg:function(b){return this.ea.eg(b)},io:function(b){return this.ea.io(b)},Eq:function(b){return this.ea.Eq(b)},Je:function(){return this.ea.Je()}};a.o.Cc=f})(window);
(function(a){function d(){}var c=window.o,f=XODText;d.prototype=Object.create(Error.prototype);c.ba=function(){var b=this;this.select=_.bind(this.select,this);this.wb=f.wb;this.el=$("#viewer");this.el.empty();this.v=null;this.defaults={FitMode:this.nf.Ps,DisplayMode:new a.o.Ad(this,a.o.Cc.cm),Zoom:1};this.na=new a.o.ga(this);this.aa=new a.o.dm(this);this.eD();this.BA=this.QG=this.Wu=!1;this.cursor="default";this.MB=function(b,a){a(b)};this.sC=function(b,a,c){c(b)};a.o.bt(5);this.Vs=function(a){this.trigger("mouseLeftUp",
a);b.ra&&b.ra.mouseLeftUp&&b.ra.mouseLeftUp(a);for(var c in b.links)if(b.links.hasOwnProperty(c)){a=b.links[parseInt(c,10)];for(var d=0;d<a.length;++d)a[d].style&&(a[d].style.border="")}};this.Fx=function(a){this.trigger("mouseLeftDown",a);b.ra&&b.ra.mouseLeftDown&&b.ra.mouseLeftDown(a)};this.ZE=function(b){this.trigger("click",b)};this.iF=function(a){this.trigger("tap",a);b.ra&&b.ra.tap&&b.ra.tap(a)};this.aF=function(a){this.trigger("dblClick",a);b.ra&&b.ra.mouseDoubleClick&&b.ra.mouseDoubleClick(a)};
this.bF=function(a){this.trigger("keyDown",a);b.ra&&b.ra.keyDown&&b.ra.keyDown(a)};this.cF=function(a){this.trigger("keyUp",a);b.ra&&b.ra.lK&&b.ra.lK(a)};this.$E=function(a){b.ra&&b.ra.contextMenu&&b.ra.contextMenu(a)};this.dF=function(a){this.trigger("mouseEnter",a);b.ra&&b.ra.DK&&b.ra.DK(a)};this.Gx=function(a){this.trigger("mouseMove",a);b.ra&&b.ra.mouseMove&&b.ra.mouseMove(a)};this.eF=function(a){this.trigger("mouseLeave",a);b.ra&&b.ra.mouseLeave&&b.ra.mouseLeave(a)};this.fF=function(a){this.trigger("mouseRightDown",
a);b.ra&&b.ra.Br&&b.ra.Br(a)};this.gF=function(a){this.trigger("mouseRightUp",a);b.ra&&b.ra.EK&&b.ra.EK(a)};this.hF=function(a){b.ra&&b.ra.DC&&b.ra.DC(a)};this.MD={AnnotationCreateArrow:new a.ha.Cs(this),AnnotationCreateCallout:new a.ha.Lj(this),AnnotationCreateEllipse:new a.ha.Ls(this),AnnotationCreateFreeHand:new a.ha.FreeHandCreateTool(this),AnnotationCreateFreeText:new a.ha.Rs(this),AnnotationCreateLine:new a.ha.Tj(this),AnnotationCreatePolygon:new a.ha.bi(this),AnnotationCreatePolygonCloud:new a.ha.pm(this),
AnnotationCreatePolyline:new a.ha.Zj(this),AnnotationCreateRectangle:new a.ha.Xs(this),AnnotationCreateSignature:new a.ha.SignatureCreateTool(this),AnnotationCreateStamp:new a.ha.dt(this),AnnotationCreateSticky:new a.ha.et(this),AnnotationCreateTextHighlight:new a.ha.ht(this),AnnotationCreateTextSquiggly:new a.ha.it(this),AnnotationCreateTextStrikeout:new a.ha.jt(this),AnnotationCreateTextUnderline:new a.ha.kt(this),AnnotationEdit:new a.ha.Xl(this),Pan:new a.ha.nm(this),TextSelect:new a.ha.bk(this)}};
c.ba.prototype={bH:function(){function b(b){k=!0;var d=c.v.pb()[b-1];if(d){var f,g,l=c.Ic().Ch();if(h&&h!==d){for(f=0;f<l;++f)g=l[f],g.Jh()&&g.pageNumber===m&&l[f].Od("PC",new a.Annotations.N.hb.Events.lm("Close",c,{}));h.Od("C",new a.Annotations.N.hb.Events.lm.create("Close",c,{}))}h=d;m=b;d.Od("O",new a.Annotations.N.hb.Events.lm.create("Open",c,{}));for(f=0;f<l;++f)g=l[f],g.Jh()&&g.pageNumber===b&&l[f].Od("PO",new a.Annotations.N.hb.Events.lm("Close",c,{}))}}var c=this;c.el.on("dragstart",function(b){"IMG"===
b.target.nodeName&&b.preventDefault()});c.el.on("touchstart",function(b){c.Fx(b);var d=c.aa.ub().mode===a.o.Cc.pe;c.ra!==c.cj("AnnotationEdit")||d||(c.Vs(b),c.xp=!1)});c.el.on("touchmove",function(b){var d=c.aa.ub().mode===a.o.Cc.pe;if(c.ra!==c.cj("AnnotationEdit")||d)c.kb={x:b.originalEvent.touches[0].pageX,y:b.originalEvent.touches[0].pageY},c.Gx(b)});c.el.on("touchend",function(b){c.Vs(b);c.xp=!1;b=c.aa.ub().mode===a.o.Cc.pe;c.ra!==c.cj("TextSelect")||b||c.ns(c.cj("AnnotationEdit"))});c.el.on("pointerdown",
function(b){c.hF(b)});c.el.dblclick(function(b){c.aF(b)});c.el.click(function(b){c.ZE(b)});c.el.on("tap",function(b){c.iF(b)});$(window).on("keydown",function(b){c.bF(b)});$(window).on("keyup",function(b){c.cF(b)});c.el.on("contextmenu",function(b){c.$E(b)});c.el.mouseenter(function(b){c.dF(b)});var d=c.el,f=c.Jb();0<f.length&&(d=f);d.mousedown(function(b){if(0<f.length){var a=f[0].clientHeight;if(b.clientX>f[0].offsetLeft+f[0].clientWidth||b.clientY>f[0].offsetTop+a)return}1===b.which?(c.Fx(b),c.xp=
!0):3===b.which&&(c.fF(b),c.Sy=!0)});$(document).on("mouseup",function(b){1===b.which&&c.xp?(c.Vs(b),c.xp=!1):3===b.which&&c.Sy&&(c.gF(b),c.Sy=!1)});$(document).mousemove(function(b){c.kb={x:b.pageX,y:b.pageY};c.Gx(b)});c.el.mouseleave(function(b){c.eF(b)});if(c.aa.ub().El)c.Jb().on("scroll",_.bind(c.onscroll,c));$(a).on("resize",_.bind(c.resize,c));c.on("PAUSE",function(){c.Ha.pause()});c.on("RESUME",function(){c.Ha.resume()});var k=!1,h=null,m;c.on("documentReady",function(){c.v.Od("Init",new a.Annotations.N.hb.Events.yx.create("Open",
c,{}));c.v.Od("Open",new a.Annotations.N.hb.Events.yx.create("Open",c,{}));k||b(1)});c.on("pageNumberUpdated",function(a,d){b(d);c.v.Aj({currentPage:d})});c.on("visiblePagesChanged",function(b,a){c.v.Aj({visiblePages:a});var d=_.intersection(a,c.Vm);d.length&&(clearTimeout(c.SG),c.SG=setTimeout(function(){c.Sh.Ee("DocumentViewer.renderRequest",{type:"annotations",pages:d})},80))});c.on("endOfDocumentResult",function(b,a){c.Rn=!1;a?(c.loop=!0,c.ex(c.cA,c.FH,!1)):c.loop=!1})},resize:function(b){b&&
b.target!==window||!this.v||!this.aa.ub().El||(this.ze===this.nf.Zoom?(this.ju(),this.aa.ub().Je(),this.onscroll()):(b=this.ze(),b!==this.O.Rf?(this.Rm(b),this.wu()):(this.aa.ub().Je(),this.wu(),this.onscroll())))},wu:function(){var b=this.Jb(),a=(b[0].scrollWidth-b.width()+this.Wq())/2;b.scrollLeft(a)},QL:function(){this.resize()},Vz:function(){var b=this;return this.wq=this.wq.then(function(){return b.v?(b.trigger("documentUnloaded"),b.wj(!0),Promise.resolve(b.pc()).then(function(){b.eD()})):Promise.resolve()})},
eD:function(){this.v=null;this.wq=Promise.resolve();this.Ha=new a.o.mF(this);this.aa.gD(this.defaults.DisplayMode);this.ze=this.defaults.FitMode;this.ZC=!1;this.XB=[];this.Rb=0;this.links={};this.xh=[];this.O=new c.mt(null);this.kb=this.ed=null;this.Hw=!1;this.margin=8;this.aD=this.bD=0;this.yo=new f.Dd;this.vc=this.gw=null;this.hC=this.ew=this.Rn=this.Kv=this.loop=!1;this.iC=this.jC=null;this.KD="rgba(0, 0, 200, 0.3)";this.Sh=new a.o.ak.om;var b=this;this.Sh.zw("DocumentViewer.renderRequest",{read:function(a){a.su&&
b.aa.Je();b.oN();a=b.aa.Jd();b.Ha.Ql(a);return{zc:a,PL:b.iL()}},consolidateChanges:function(b){var a=b.filter(function(b){return"pages"===b.type}),c=b.filter(function(b){return"annotations"===b.type}),d=b.filter(function(b){return"layout"===b.type});b=b.filter(function(b){return"retainScroll"===b.type});var f=[];a.length&&f.push({type:"pages",pages:_.union.apply(null,a.map(function(b){return b.pages||[]})),useVisiblePages:a.some(function(b){return!!b.useVisiblePages}),check:a.every(function(b){return!!b.check})});
c.length&&f.push({type:"annotations",pages:_.union.apply(null,c.map(function(b){return b.pages||[]}))});d.length&&f.push({type:"layout",pages:_.union.apply(null,d.map(function(b){return b.pages||[]}))});return f=f.concat(b)},write:function(a,c){var d={su:!1};c.forEach(function(c){var f;"pages"===c.type?(f=c.useVisiblePages?_.union(a.zc,c.pages):_.intersection(a.zc,c.pages),0<f.length&&(c.check?b.Ha.nH():b.Fj(f))):"annotations"===c.type?(f=_.intersection(a.zc,c.pages),b.Vm=_.without(b.Vm,f),f.forEach(function(a){b.Ah(a)})):
"layout"===c.type?(d.su=!0,f=b.aa.eg().concat(c.pages),c.pages.forEach(function(a){b.O.Qw(a,void 0)}),f.length&&(f.forEach(function(a){b.Ha.Nn(b.O.Cg(a))}),b.Sh.Ee("DocumentViewer.renderRequest",{type:"pages",pages:f})),b.Ha.TD(b.Fg())):"retainScroll"===c.type&&b.FN(a.PL)});return d}},{su:!0},!1);this.Mr=[];this.Vm=[];this.aq=null;this.Um=Promise.resolve()},iL:function(){var b=this.Dh()-1,a=this.Jb(),c=a.scrollLeft()||0,a=a.scrollTop()||0,d=document.getElementById("pageContainer"+b);d&&(c-=d.offsetLeft+
d.parentNode.offsetLeft,a-=d.offsetTop+d.parentNode.offsetTop);return{gd:b,x:c,y:a}},FN:function(b){var a=document.getElementById("pageContainer"+b.gd),c=b.x;b=b.y;a&&(c+=a.offsetLeft+a.parentNode.offsetLeft,b+=a.offsetTop+a.parentNode.offsetTop);this.scrollTo(c,b)},zE:function(b){var a={};_.isUndefined(b)||(_.isObject(b)?a=b:a.docId=b);"onError"in a||(a.onError=function(b){throw Error("Error loading document: "+b);});"getPassword"in a||(a.getPassword=function(){throw Error("Document requires a password. If you wish to process this type of document please define a getPassword callback.");
});"docId"in a||(a.docId=null);"workerTransportPromise"in a||"pdf"!==a.type||(a.workerTransportPromise=c.Sv(a.pdfBackendType,a.workerHandlers,a.l));return a},MC:function(b){this.Sh.Ee("DocumentViewer.renderRequest",{type:"layout",pages:b});this.Sh.Ee("DocumentViewer.renderRequest",{type:"retainScroll"})},$k:function(){return this.Sh},QC:function(b,a){var c=this;this.Mr=this.Mr.concat(b);this.aq||(this.aq=setTimeout(function(){if(c.Kh===a){var d=c.Mr;c.Mr=[];c.aq=null;c.Um=c.Um.then(function(){if(c.Kh===
a){var b=d.map(function(b){return b+1});c.na.RC(b);for(var f=d.length,m=0;m<f;++m)c.na.oK(d[m]);return c.getDocument().Rk(b)}}).then(function(d){return new Promise(function(f){c.Kh===a&&d?c.sC(d.xfdfString,b,function(d){c.Kh!==a||_.isUndefined(d)?f():c.na.Pv(d,function(){c.Vm=c.Vm.concat(b);f()},{gr:!0})}):f()})})}},400))},Kg:function(b,e){var f=this,l=Date.now();e=f.zE(e);var k=new a.CoreControls.Document(e.docId,e.type);this.Kh=k;k.cg(f);k.Dj(this.gb);var h=f.wq.then(function(){return new Promise(function(c,
p){k.Kg(b,function(b){k!==f.Kh?(k.Ke(),p(new d)):b?p(b):null!==f.v?c(f.Vz().then(function(){return k})):c(k)},{annotsLoadedCallback:function(b,c){f.Kh===k&&h.then(function(){f.MB(b,function(e){if(f.Kh===k&&!_.isUndefined(e)){var d=new Promise(function(b){f.on("documentReady.annotsLoaded",function(){b("ready")})});f.Um=f.Um.then(function(){return d});f.na.Pv(c&&e===b?c:e,function(){f.Kh===k&&f.Ha.lJ().forEach(function(b){f.Ah(b)});a.utils.log("Annots Loaded Time "+(Date.now()-l));f.trigger("documentReady")},
{gr:!0})}})})},getPassword:e.getPassword,workerTransportPromise:e.workerTransportPromise,extension:e.extension,defaultPageSize:e.defaultPageSize,pageSizes:e.pageSizes})})}).then(function(b){f.v=b;f.O=new c.mt(b);f.defaults.FitMode===f.nf.Zoom&&f.O.Th(f.defaults.Zoom);f.v.on("bookmarksUpdated",function(){f.trigger("bookmarksUpdated")});f.O.on("layoutChanged",function(a,c){f.MC(c.contentChanged.map(function(b){return b-1}));var e=!1;0<c.added.length&&(f.QC(c.added.map(function(b){return b-1}),b),e=
!0);0<c.removed.length&&(f.Ha.QD(f.v.Gn()),e=!0,f.Rb>=f.Tb()&&f.Op(f.Tb()-1));if(e){var d=f.Jb(),e=d.offset(),d=f.aa.Uh({x:(d.scrollLeft()||0)+e.left,y:(d.scrollTop()||0)+e.top},f.Rb);f.aa.Lx();f.aa.eg();f.aa.Je();d=f.aa.De(d,f.Rb);f.scrollTo(d.x-e.left,d.y-e.top);f.Fj()}0<c.contentChanged.length&&f.QC(c.contentChanged.map(function(b){return b-1}),b);f.trigger("layoutChanged",[c])});f.O.on("zoomChanged",function(b,a){f.YD=f.Ha.Le;f.Ha.TD(a)});f.na.rL(f.O);f.trigger("beforeDocumentLoaded");e.type&&
"xod"!==e.type||f.Ha.CM(!0);f.Ha.init();f.aa.lz(f.aa.ub());f.BA||(f.BA=!0,f.bH());if(f.aa.ub().mode!==a.o.Cc.pe){f.O.Th(f.Pp(f.ze));f.wj();f.aa.eg();f.aa.Je();f.Fj();var d=f.Jb(),h=(d[0].scrollWidth+f.Wq()-d.innerWidth())/2;d.scrollLeft(h)}f.trigger("documentLoaded");a.utils.log("Loading Time "+(Date.now()-l));1.2>=f.v.v.Xg&&f.trigger("documentReady")})["catch"](function(b){if(!(b instanceof d))e.onError(b)})},Jb:function(){return $("#DocumentViewer")},rJ:function(){return document.getElementById("DocumentViewer")},
Wq:function(){var b=$('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div></div>');$("body").append(b);var a=$("div",b).innerWidth();b.css("overflow-y","auto");var c=$("div",b).innerWidth();$(b).remove();return a-c},pc:function(){var b=this;if(this.v)return clearTimeout(this.aq),Promise.all([this.Um,this.Sh.pc(),this.na.pc(),this.Ha.pc(),this.O.pc()]).then(function(){b.off("documentReady.annotsLoaded");b.v.off();return b.v.Ke()})},
Lc:function(b){var a=this.v.Hn(b);return 90===a||270===a?this.v.Mc(b):this.v.Lc(b)},Mc:function(b){var a=this.v.Hn(b);return 90===a||270===a?this.v.Lc(b):this.v.Mc(b)},Ae:function(b){return this.v.Ae(b)},Ic:function(){return this.na},hM:function(b){this.MB=b},uM:function(b){this.sC=b},tM:function(b){this.qC=b},Pz:function(){if(this.qC){for(var b=this.XB,a=this.aa.Jd(0,0),b=_.difference(a,b),c=0;c<b.length;++c)this.qC(b[c]+1);this.XB=a}},xn:function(){return this.aa},ms:function(b,c){a.o.Ja.ms(b,c)},
xd:function(b){"undefined"!==typeof b.enableAnnotations&&(this.Wu=b.enableAnnotations?!0:!1);"undefined"!==typeof b.annotMode&&(this.QG=b.annotMode?!0:!1)},Fg:function(){return this.O.Rf},iB:function(){return this.margin},mM:function(b){this.margin=b},Yq:function(){return this.O.Yq()},GM:function(b){this.KD=b},Zq:function(){return this.ra},uJ:function(){return this.MD},cj:function(b){return this.MD[b]},Gd:function(b){return _.isUndefined(b)?this.O.dr:this.O.Hd(b-1).rotation},de:function(b){var a=
this.Gd(b);if(_.isUndefined(b))return a;b=this.Iq(b)/90;return(a+b)%4},BM:function(b,a){var c;0<=b&&3>=b&&(_.isUndefined(a)?(this.O.Nw(b),this.O.qH()):(c=a-1,this.O.po(c,b)),this.rotate(c))},Iq:function(b){--b;return 0>b||_.isNaN(b)?0:this.v.Hn?this.v.Hn(b):0},rM:function(b){var a=this;Object.keys(b).forEach(function(c){a.O.po(c,b[c])});this.Rm(this.ze(),void 0,void 0,!0)},cJ:function(){return this.O.QI()},getDocument:function(){return this.v},zB:function(b){var a=null;this.Ha.Le&&(a=this.aa.ub(),
a=a.cl(b,a.gm(this.Ha.$d,this.Ha.$d)));return a},Vi:function(b){var c=this.v.bd(b),d=this.Ib(b),f=this.aa.Uq(b),k,h=this.zB(b);h&&(k=h.Zf,f=h.ix);return a.o.Ja.Vi(b,{width:c.width,height:c.height},d,this.Gd(b+1),f,k,this.Iq(b+1)/90)},KI:function(){return this.ze},Cv:function(){return this.ZC},AM:function(b){this.ZC=b},UH:function(b){b.url?this.IP(b.url):b.isValid()?this.gn(b.Qh,b.Rl,b.hl):console.warn("Tried to go to invalid bookmark destination")},gn:function(b,a,c,d){if(this.aa.ub().El){this.Dh()!==
b&&this.Md(b);var f=this.Mc(b-1),h=this.Lc(b-1);b=this.aa.De({x:c>f?0:0>c?0:c,y:a>h?0:0>a?0:a},b-1);a=this.Jb();c=a.offset();if(d&&(d=b.x-c.left-(a.scrollLeft()||0),f=b.y-c.top-(a.scrollTop()||0),0<d&&d<a.outerWidth()&&0<f&&f<a.outerHeight()))return;this.scrollTo(b.x-c.left,b.y-c.top)}else this.trigger("displayPageLocation",[b,a,c,d])},scrollTo:function(b,a){this.Jb().scrollLeft(b).scrollTop(a)},XM:function(b,a,c){this.jC=b;this.iC=a;this.ew=!0;this.hC=c},aN:function(b){var a=!1;if(null===this.gw||
this.gw!==b)a=!0;if(null===this.loop||!0===this.loop)a=!0;this.gw=b;this.vc!==this.Rb&&(this.vc=this.Rb,a=!0);return a},ex:function(b,a,c,d){c=c||!1;var k=this,h=!0;this.cA!==b&&(this.cA=b,this.Kv=!1);this.FH=a;for(var m=0;m<b.length;++m){var p=b.charCodeAt(m);if(!(1424<=p&&1535>=p||1536<=p&&1791>=p||1872<=p&&1919>=p||64336<=p&&65023>=p||65136<=p&&65279>=p)){h=!1;break}}h&&(b=b.split("").reverse().join(""));k.KQ=k.Rb;if(!0===this.Rn)this.XM(b,a,c);else{h=c?function(){}:function(b){b.Zr===f.Bb.kn?
(k.oA(b),k.Kv=!0):b.Zr===f.Bb.Si&&(k.Kv?k.trigger("notify","endOfDocumentSearch"):k.trigger("notify","noMatchesFound"))};d=d||h;if(c||this.aN(b))c?(h=this.vc=0,m=this.v.numPages-1):0<(a&f.wb.Vu)?(m=!0===this.loop?this.v.numPages-1:this.vc,h=0):(h=!0===this.loop?0:this.vc,m=this.v.numPages-1),this.yo.aH(this.v,b,a,h,m);this.yo.setMode(a);this.dN(c,d)}},EC:function(b){null===this.v.yv(b)&&this.v.Kd(b,function(){})},dN:function(b,a){function c(){function g(){m=[];h=k.yo.run(m);q=h.Zr;h.yQ=m;var c=h;
c.ambient_str=h.Cz;c.result_str=h.Dw;c.result_str_start=h.YC;c.result_str_end=h.XC;c.page_num=h.ow;c.resultCode=q;c.quads=m;if(q===f.Bb.yq){var p,u;if(k.yo.Uf()){if(0<k.vc)for(k.vc--,u=0;3>u;++u)p=k.vc-u,0<p&&k.EC(p)}else if(k.vc<k.v.numPages-1)for(k.vc++,u=0;3>u;++u)p=k.vc+u,p<k.v.numPages-1&&k.EC(p);if(!0===k.ew){k.ew=!1;k.Rn=!1;setTimeout(function(){k.ex(k.jC,k.iC,k.hC,a)},0);return}}else q!==f.Bb.kn||b||(k.O.oq(),k.O.Rw(h.ow,h.Dw));a(c);q===f.Bb.Si||!b&&q===f.Bb.kn?k.Rn=!1:null!==k.v.yv(k.vc)?
setTimeout(g,0):k.v.Kd(k.vc,d)}var q=-1;null!==k.v.yv(k.vc)?setTimeout(g,0):k.v.Kd(k.vc,d)}function d(b){p===k.v&&(k.v.sM(k.vc,b),c())}var k=this;this.Rn=!0;!0===this.loop&&(k.vc=this.yo.Uf()?this.v.numPages-1:0,this.loop=!1);var h,m=[],p=this.v;c()},WB:function(b,a){b!==this.Rb&&this.Md(b+1);if(0<a.length){a=a.map(function(b){return b.Qf?b.Qf():b});for(var c=a[0].y4,d=a[0].x4,f=a[0].y2,h=a[0].x2,m=1;m<a.length;m++)a[m].x4<d&&(d=a[m].x4),a[m].y4<c&&(c=a[m].y4),a[m].x2>h&&(h=a[m].x2),a[m].y2>f&&(f=
a[m].y2);var m=this.Jb(),p=m.offset(),n=p.top+(m.scrollTop()||0),q=n+m.innerHeight(),p=p.left+(m.scrollLeft()||0),v=p+m.innerWidth(),c=this.aa.De({x:d,y:c},b),r=this.aa.De({x:h,y:f},b),h=c.x<r.x?c.x:r.x,f=c.y<r.y?c.y:r.y,d=c.x>r.x?c.x:r.x,c=c.y>r.y?c.y:r.y;if(h<p||f<n||d>v||c>q)n=d-h,q=c-f,n=h-m.innerWidth()/2+n/2-m.offset().left,m=f-m.innerHeight()/2+q/2-m.offset().top,this.scrollTo(n,m)}},oA:function(b,a){this.Du();var c=b.page_num;this.O.Cu();this.O.lD(c,b.quads);this.O.oq();this.O.Rw(b.page_num,
b.result_str);"undefined"!==typeof a?a(c,b.quads):this.WB(c,b.quads);this.Hw=!0;this.Ln(c)},cD:function(b,a,c){var d=new f.Fa;d.Qa(a.x,a.y,a.x+1,a.y+1);var k=this,h=new f.bp(this.v),m=this.v;m.Kd(b,function(){m===k.v&&(h.AG(b,d),c(b,h.ge(),h.Sa))})},Gl:function(b,a,c){if(a.constructor!==f.Fa){var d=new f.Fa;d.Qa(a.x1,a.y1,a.x2,a.y2);a=d}var k=this,h=new f.bp(this.v),m=this.v;m.Kd(b,function(){if(m===k.v){"rectangular"===Tools.Cb.SELECTION_MODE?h.SL(b,a):h.RL(b,a);var d=h.Sa,f=h.ge();c&&c(b,f,d)}})},
Qr:function(b,a,c){this.Hw=!1;this.O.Rw(b,c);this.O.lD(b,a);this.trigger("textSelected",[a,c,b]);this.Du();this.NJ()},dI:function(b){this.Ln(b-1)},Ln:function(b){var a=this.O.Hd(b).Ol;if(a&&0!==a.length){var c=this.Vi(b);if(null!==c){for(var c=c.getContext("2d"),d=0;d<a.length;d++){var f=a[d];f.Qf&&(f=f.Qf());c.fillStyle=this.KD;c.beginPath();c.moveTo(f.x1,f.y1);c.lineTo(f.x2,f.y2);c.lineTo(f.x3,f.y3);c.lineTo(f.x4,f.y4);c.closePath();c.fill()}if(!this.Hw){var d={ge:function(){return a.map(function(b){return b.Qf()})}},
f=this.O.vv(),h=!1,m=!1;b===f[0]&&(h=!0);b===f[f.length-1]&&(m=!0);c.save();(new Annotations.mi(d,!0,!1,h,m)).draw(c,d,this.Ib(b));c.restore()}}}},NJ:function(){var b=this;this.O.vv().forEach(function(a){b.Ln(a)})},select:function(b,a){if(null!==this.ed&&null!==this.kb||b||a){this.O.oq();var c;b&&a?(b.gd=b.pageIndex,b.x=b.x,b.y=b.y,a.gd=a.pageIndex,a.x=a.x,a.y=a.y,c={first:b.gd,last:a.gd}):(console.error("deprecated"),c=this.aa.Xq());var d=c.first;c=c.last;if(null!==d&&null!==c){var k=new f.Fa,h=
b?b:this.aa.Uh(this.ed,d),m=a?a:this.aa.Uh(this.kb,d),p;h.y>m.y&&(p=h,h=m,m=p);p=this.Mc(d);var n=this.Lc(d);1<=c-d?k.Qa(h.x,h.y,p,n):k.Qa(h.x,h.y,m.x,m.y);this.Gl(d,k,_.bind(this.Qr,this));for(h=d+1;h<c;h++)k=new f.Fa,p=this.Mc(h),n=this.Lc(h),k.Qa(0,0,p,n),this.Gl(h,k,_.bind(this.Qr,this));d!==c&&(h=b?b:this.aa.Uh(this.ed,c),m=a?a:this.aa.Uh(this.kb,c),h.y>m.y&&(m=h),k=new f.Fa,k.Qa(0,0,m.x,m.y),this.Gl(c,k,_.bind(this.Qr,this)))}}},Uz:function(b){if(0!==this.Yq().length||0!==this.O.vv().length){var c=
this.Vi(b);null!==c&&(a.o.Ja.zu(c,this.Mc(b),this.Lc(b)),this.Wu&&this.na.$c(b+1))}},Du:function(){var b=this;this.Ha.zc.forEach(function(a){b.Uz(a)})},Tz:function(){this.O.oq();this.O.Cu()},cn:function(){this.Du();this.Tz();this.trigger("textSelected",[null,""]);this.Zq()instanceof Tools.bk&&this.Zq().cn()},pJ:function(b,c){var d=this.Ib(c),f=this.de(c+1);b=a.Pc(d,f,{width:this.Mc(c),height:this.Lc(c)},null,!1).W(b);return{x:b.x,y:b.y}},qJ:function(b,c){var d=this.Ib(c),f=this.Gd(c+1);b=a.Pc(d,f,
this.v.bd(c),0,!1).W(b);return{x:b.x,y:b.y}},nf:{Ps:function(){var b=this.Wq(),a=this.Jb(),c;c=1===this.aa.ub().qb?this.O.Hd(this.Rb).width:this.aa.Hk().xa()/this.Fg();return parseFloat(a.innerWidth()-b-this.margin*this.aa.ub().qb*2)/(c+1)},Bx:function(){var b=this.Jb(),a=this.O.Hd(this.Rb),c=parseFloat(b.innerHeight()-2*this.margin)/a.height,a=1===this.aa.ub().qb?a.width:this.aa.Hk().xa()/this.Fg(),b=parseFloat(b.innerWidth()-this.Wq()-this.margin*this.aa.ub().qb*2)/(a+1);return c<b?c:b},Zoom:function(){this.ju();
return this.O.Rf}},ns:function(b){if(b&&this.ra!==b){b instanceof Tools.Xl||b instanceof Tools.bk||b instanceof Tools.nm||this.cn();var a;this.ra&&(this.ra.switchOut&&this.ra.switchOut(b),a=this.ra);b.switchIn&&b.switchIn(this.ra);this.ra=b;this.trigger("toolModeUpdated",[b,a])}},uN:function(){var b=this.Jb();this.bD=parseFloat(b.scrollTop())/b[0].scrollHeight;this.aD=parseFloat(b.scrollLeft()+b.innerWidth()/2)/b[0].scrollWidth},tN:function(){var b=this.Jb(),a=this.bD*b[0].scrollHeight,b=this.aD*
b[0].scrollWidth-b.innerWidth()/2;this.scrollTo(b,a)},Mw:function(b){null===this.v?(this.ze=b,this.trigger("fitModeUpdated",this.ze)):(b=this.Pp(b),this.aa.ub().mode===a.o.Cc.pe?this.O.Th(b):b!==this.O.Rf&&(this.Rm(b),this.wu()))},Pp:function(b){this.ze=b;b=this.ze();this.trigger("fitModeUpdated",this.ze);return b},rotate:function(b){var a;_.isUndefined(b)||(a=b+1);this.Rm(this.ze(),void 0,void 0,!0);this.trigger("rotationUpdated",[this.de(a),a])},bl:function(b,a){return a?(b+1)%4:(b-1+4)%4},GL:function(b){var a=
this,c;_.isUndefined(b)?(this.O.Nw(this.bl(this.Gd(),!0)),this.O.KA(function(b){b.rotation=a.bl(b.rotation,!0)})):(c=b-1,this.O.po(c,this.bl(this.Gd(b),!0)));this.rotate(c)},HL:function(b){var a=this,c;_.isUndefined(b)?(this.O.Nw(this.bl(this.Gd(),!1)),this.O.KA(function(b){b.rotation=a.bl(b.rotation,!1)})):(c=b-1,this.O.po(c,this.bl(this.Gd(b),!1)));this.rotate(c)},Rm:function(b,a,c,d){this.O.Th(b);this.aa.ub().El&&("undefined"!==typeof a&&"undefined"!==typeof c?(this.wj(),this.aa.eg(),this.aa.Je(),
this.scrollTo(a,c)):(this.uN(),this.wj(!1,d),this.aa.eg(),this.aa.Je(),this.tN()),this.Ha.yu(),this.Fj(),this.trigger("zoomUpdated",this.O.Rf))},sx:function(b,a,c){this.Pp(this.nf.Zoom);null===this.v?(this.O.Th(b),this.trigger("zoomUpdated",b)):this.Rm(b,a,c)},QN:function(b,a,c){this.Pp(this.nf.Zoom);this.O.Th(b);b=this.Jb();a=this.kb.x-a;c=this.kb.y-c;var d=(parseFloat(b.scrollTop())+c)/b[0].scrollHeight,f=(parseFloat(b.scrollLeft())+a)/b[0].scrollWidth;this.wj();this.aa.eg();this.aa.Je();this.scrollTo(f*
b[0].scrollWidth-a,d*b[0].scrollHeight-c);this.Fj();this.trigger("zoomUpdated",this.O.Rf)},Ib:function(b){return this.O.Hd(b).zoom},Sw:function(b,a){var c=this.O.Cg(b);this.Ha.RN(c);this.O.Sw(b,a)},wj:function(b,c){this.Ha.xH(this.O.Rf,c);this.links=[];if(this.aa.ub().mode!==a.o.Cc.pe){var d=this.Ha.zc;if(c)this.O.rH();else for(var f=0;f<d.length;f++){var k=d[f],h;h=this.YD?$("#pageContainer"+k).find("#hrthumb"+k):$("#pageContainer"+k).find(".canvas"+k+":not(.progressive)");0<h.length&&this.O.Qw(k,
h)}}this.aa.io(!b)},tL:function(b){if(this.aa.ub().El){var a=$("#pageContainer"+b),c=$(document.activeElement);0<c.closest("#pageWidgetContainer"+b).length&&c.trigger("focusout");a.children().detach()}b in this.links&&delete this.links[b]},Op:function(b){if(0>b||b>=this.O.K.length)return!1;this.Rb!==b&&(this.Rb=b,this.trigger("pageNumberUpdated",b+1));return!0},Md:function(b){if(!this.aa.ub().El)this.trigger("changePage",b);else if(!1!==this.Op(parseInt(b,10)-1)){this.bA=!0;b=this.Rb;var c=this.aa.ub();
c.Uv()||c.mode===a.o.Cc.pe||(this.aa.ub().mode===a.o.Cc.Oo&&b++,c.Yc=Math.floor(parseFloat(b)/c.qb),c.wc=c.Yc,c.Ve=c.Yc+1,this.aa.eg(),this.aa.Je());b=this.v.bd(this.Rb);var c=this.aa.De({x:0,y:0},this.Rb),d=this.aa.De({x:b.width,y:b.height},this.Rb);b=c.x<d.x?c.x:d.x;c=c.y<d.y?c.y:d.y;d=this.Jb().offset();this.scrollTo(b-d.left,c-this.margin-d.top);this.Fj()}},Dh:function(){return this.Rb+1},Tb:function(){return this.v.numPages},WH:function(){this.Md(this.O.K.length)},VH:function(){this.Md(1)},ju:function(b){b=
b||this.aa.Hk().ta();var a=0,c=document.getElementById("docpad");if(null!==c){var d=this.rJ(),d=d?parseFloat(d.style.height):0;d>b&&(a=Math.floor((d-b)/2));c.style.marginBottom=parseInt(a,10)+"px"}},WG:function(b,c){var d=this.Ib(c),f=this.O.Hd(c),k=this.Gd(c+1),h=f.width*d,d=f.height*d,f=null;k===a.o.Ea.ce||k===a.o.Ea.Ue?(f="rotate("+90*k+"deg)",f=k===a.o.Ea.ce?" translate("+h+"px, 0)  "+f:" translate(0,"+d+"px)  "+f,b.css("height",h),b.css("width",d)):(k===a.o.Ea.Lk&&(f="translate("+h+"px,"+d+"px) scale(-1,-1)"),
b.css("width",h),b.css("height",d));null!==f&&b.css({position:"absolute",transform:f,"transform-origin":"top left","ms-transform":f,"ms-transform-origin":"top left","-moz-transform":f,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":f,"-o-transform":f,"-o-transform-origin":"top left"})},Fz:function(b,c,d,f){b.id=(f?"hrthumb":"thumb")+c;b.style.position="absolute";var k=$(b);this.WG(k,c);d&&(k.css("z-index",f?"10":"7"),d=$("#pageContainer"+c),0<d.length?
0===d.find("#"+b.id).length&&d.prepend(b):a.utils.warn("appendThumb: Page container "+c+" missing"))},Ah:function(b){this.cq(b);this.Uz(b);this.CH(b);this.na&&(this.qN(b),this.na.$c(b+1,void 0,!0));this.Ln(b)},Wm:function(b,c){var d=a.o.Ja.Wm(b,c);d||a.utils.warn("appendAllCanvas: Page container for page "+c+" does not exist.");return d},cq:function(b){var c,d=this.zB(b);d&&(c=d.Zf);var d=this.v.bd(b),f=this.Iq(b+1);if(90===f||270===f)f=d.width,d.width=d.height,d.height=f;a.o.Ja.cq(b,d,this.Ib(b),
this.de(b+1),c)},as:function(b,c){a.o.Ja.as(b,c)},CH:function(b){var c=this.v.bd(b),d=c.width,c=c.height,f=this.v.Hn(b);if(90===f||270===f)f=d,d=c,c=f;var f=this.Ib(b)/a.utils.getCanvasMultiplier(),d=d*f,c=c*f,k=a.Pc(1,this.de(b+1),{width:d,height:c}),f=$("#pageWidgetContainer"+b);0===f.length&&(f=$('<div id="pageWidgetContainer'+b+'" />'),a.o.Ja.AB(b).append(f));k="matrix("+k.m_a.toFixed(10)+","+k.m_b.toFixed(10)+","+k.m_c.toFixed(10)+","+k.m_d.toFixed(10)+","+k.m_h.toFixed(10)+","+k.m_v.toFixed(10)+
")";b=this.aa.wv(b);f.css({position:"absolute",top:b.y,left:b.x,width:d,height:c,"z-index":40,transform:k,"transform-origin":"top left","-webkit-transform":k,"-webkit-transform-origin":"top left","-ms-transform":k,"-ms-transform-origin":"top left","-moz-transform":k,"-moz-transform-origin":"top left",overflow:"hidden"});return f},uv:function(b){return this.O.Hd(b)},nL:function(){this.trigger("layoutChanged",{contentChanged:_.range(1,this.Tb()+1),removed:[],added:[],moved:{}});this.Ha.yu()},oL:function(b){this.trigger("layoutChanged",
{contentChanged:[b],removed:[],added:[],moved:{}});this.Ha.Nn(this.uv(b-1).id)},qN:function(b){b=this.v.aJ(b);_.isArray(b)&&this.na.Ii(b,!0)},Fj:function(b,a){_.isUndefined(a)||this.Op(a);this.Ql(b);this.Ha.iA(b);this.Pz()},Ql:function(b){b=b||this.aa.Jd();var a=this.Ha.ZG(b);this.Ha.Ql(b);a&&this.trigger("visiblePagesChanged",[b])},Nl:function(b){this.Ha.Nl(b)},onscroll:function(){this.v&&this.Sh.Ee("DocumentViewer.renderRequest",{type:"pages",useVisiblePages:!0,check:!0});this.Pz()},JJ:function(b){return 0<
$("#pageContainer"+b).find("#thumb"+b).length},HJ:function(b){return 0<$("#pageContainer"+b).find("#hrthumb"+b).length},oN:function(){if(this.bA)this.bA=!1;else{var b=0,c;this.Ql();for(var d=this.Ha.zc,f=0;f<d.length;f++){var k=this.Jb(),h=k.scrollTop()||0,m=h+k.innerHeight(),p=k.scrollLeft()||0,k=p+k.innerWidth(),m={x1:p,y1:h,x2:k,y2:m},k=d[f];0>k||(h=this.v.bd(k),p=this.aa.De({x:0,y:0},k),k=this.aa.De({x:h.width,y:h.height},k),m=a.utils.getRectIntersection(m,{x1:p.x<k.x?p.x:k.x,y1:p.y<k.y?p.y:k.y,
x2:p.x>k.x?p.x:k.x,y2:p.y>k.y?p.y:k.y}),h=parseFloat((m.x2-m.x1)*(m.y2-m.y1))/(h.width*h.height),h>b&&(c=d[f],b=h))}0<b&&this.Op(c)}},Xw:function(b){this.Ha.Xw(b)},nD:function(){},Dj:function(b){this.gb=b;this.v&&this.v.Dj(b)},BJ:function(){return this.gb}};$.extend(c.ba.prototype,a.utils.eventHandler);Object.defineProperty(c.ba.prototype,"zoom",{get:function(){return this.Fg()},set:function(b){this.O.Th(b)}});a.o=a.o||{}})(window);window.o.ba.prototype.version="3.0.1.61567";
(function(a){var d=a.Annotations||{};a.Annotations=d;d.N=d.N||{};d.N.getUsableInputWidth=function(a){return a};d.N.Pj=function(a){this.na=a;this.init()};d.N.Pj.prototype={init:function(){this.ab={};this.tu=[];this.Mt=!1;this.Ll=this.Iy=!0},XL:function(a){this.tu=a},jb:function(a){if(!a)return null;a=a.split(".");var d=this.ab[a[0]];if(d)for(var b=1;b<a.length&&(d=d.lv(a[b]),d);++b);return d?d:null},Xp:function(a,f){if(f){var b=this.Qq(a.name);b.set(a);a=b;a.widgets.forEach(function(b){b.hD(a)});a.off("change")}else b=
a.name.split("."),1===b.length?this.ab[a.name]=a:this.Qq(b.slice(0,-1).join(".")).wz(new d.N.ca(a.name,a));a.set({fieldManager:this});this.na&&a.cg(this.na.u);a.on("change",_.bind(this.av,this));return a},Xm:function(a,d){if(!this.Mt&&this.Ll){this.Mt=!0;var b=this.tu;if(!d||this.Iy)d=0,this.Iy=!1;for(var e=d;e<b.length;++e){var g=b[e],l=this.jb(g);l?l.trigger("calculate",[a]):console.warn("Non-existent field referenced in calculation order",g,l)}this.Mt=!1}},av:function(a,d){this.Xm(d,0);this.na.trigger("fieldChanged",
[d,d.value])},Qq:function(c){if(!c)return null;c=c.split(".");var d=this.ab[c[0]];d||(d=new a.Annotations.N.ca(c[0],{fieldManager:this}),d.on("change",_.bind(this.av,this)),this.ab[c[0]]=d);for(var b=1;b<c.length;++b){var e=c[b],g=d.lv(e);g?d=g:(g=new a.Annotations.N.ca(d.name+"."+e,{fieldManager:this}),d.wz(g),d=g,d.on("change",_.bind(this.av,this)))}this.na&&d.cg(this.na.u);return d},Ao:function(a){this.rn(function(d){d.mx(a)})},rn:function(a){var d=this;Object.keys(this.ab).forEach(function(b){a(d.ab[b])})},
pc:function(){this.rn(function(a){a.off()});this.init()}}})(window);
(function(a){a.Annotations||(a.Annotations={});var d=a.Annotations;d.N=d.N||{};d.N.ca=function(c,f){if(f instanceof d.N.ca)return f;a.Actions.gg.call(this,f);this.qd=c;this.te=[];this.Se=[];this.Bi=!1;this.Kf=null;this.sk=new d.pf;this.Db=new d.ih({mask:["ReadOnly","Required","NoExport"]});this.we=-1;this.Eb||(this.Eb=new d.N.ca.rb(this));this.initialize(f);this.on("calculate",_.bind(this.Xm,this));this.on("commit",_.bind(this.Fu,this))};d.N.ca.prototype={initialize:function(a){_.isObject(a)&&(a.type&&
this.pD(a.type),_.isArray(a.children)&&$.extend(this.te,a.children),a.widgets&&$.extend(this.Se,a.widgets),a.fieldManager&&(this.Kf=a.fieldManager),a.font&&this.sk.set(a.font),_.isUndefined(a.maxLen)||(this.we=Number(a.maxLen)),this.Eb.set(a))},set:function(a){this.initialize(a);_.isObject(a)&&_.isObject(a.actions)&&this.Up(a.actions)},LA:function(a){this.Se.forEach(a)},pD:function(a){"Tx"===a?this.Eb=new d.N.ca.ft(this,this.Eb):"Ch"===a?this.Eb=new d.N.ca.Gs(this,this.Eb):"Btn"===a?this.Eb=new d.N.ca.Ds(this,
this.Eb):"Sig"===a?this.Eb=new d.N.ca.ct(this,this.Eb):console.warn("Unrecognised field type: "+a);this.Rp=a},Ie:function(a){this.Se.forEach(function(d){d.Ie(a)})},WA:function(){return this.te},gK:function(){return 0===this.te.length},PG:function(c,d){if(-1===this.Se.indexOf(c))if(_.isUndefined(d))this.Se.push(c);else{this.Se[d]=c;for(var b=0;b<this.Se.length;++b)this.Se[b]||(this.Se[b]=new a.Annotations.WidgetAnnotation(this,{}))}},Ze:function(a){this.Eb.Ze(a)},mb:function(a,d){this.Eb.mb(a,d)},
Ka:function(){return this.Eb.Ka()},yn:function(){return this.Eb.yn()},xd:function(a){this.Eb.xd(a)},Yp:function(a,d){this.Eb.Yp(a,d)},Of:function(){return this.Eb.Of()},fs:function(a){this.Eb.fs(a)},wn:function(){return this.Eb.wn()},zv:function(){var a=this.qd.split(".");return a[a.length-1]},dJ:function(){var a,d=this.qd.split(".");1<d.length&&(a=d.slice(0,d.length-1).join("."));return a},mx:function(a,d){var b=this.zv();(d=(d?d+".":"")+b)||(d="");if(this.gK()){if(a.ao){var e=!0;a.zq&&(a.zq(this)||
(e=!1));e&&a.ao(d,b,this)}}else{var g;a.zq?(g=[],this.te.forEach(function(b){a.zq(b)&&g.push(b)})):g=this.te;0<g.length&&(a.Hr&&a.Hr(d,b,this),g.forEach(function(b){b.mx(a,d)}),a.jw&&a.jw(d,b,this))}},lv:function(a){for(var d=this.te,b=d.length,e=0;e<b;++e){var g=d[e];if(g.zv()===a)return g}if(a.match(/^\d+$/))return this.Se[parseInt(a)]},removeChild:function(a){a=this.te.indexOf(a);-1!==a&&this.te.splice(a,1)},wz:function(a){var d=this.lv(a.zv());d&&this.removeChild(d);this.te.push(a)},WC:function(){this.mb(this.wn())},
Xm:function(c,d){var b=new a.Annotations.N.hb.Events.ca.create("Calculate",this,{value:this.value,source:d,rc:!0}),e=this.Ka();this.Od("C",b);var g=this.fQ;this.we=-1;var l=b.value;b.rc&&l!==e&&this.mb(l);this.we=g},Tr:function(){this.LA(function(a){a.refresh()})},Fu:function(c,d,b){c=a.Annotations.N.hb.Events.ca.create("Keystroke",this,{value:d,change:"",willCommit:!0,selStart:-1,selEnd:-1});this.Od("K",c);c.rc&&(d=a.Annotations.N.hb.Events.Wk(c),c=new a.Annotations.N.hb.Events.ca.create("Validate",
this,{value:d}),this.Od("V",c),c.rc&&this.mb(c.value,b))},yd:function(a){this.Eb.yd(a)}};$.extend(d.N.ca.prototype,Object.create(a.utils.eventHandler));Object.defineProperties(d.N.ca.prototype,{name:{get:function(){return this.qd}},value:{get:function(){return this.Ka()},set:function(a){this.mb(a)}},widgets:{get:function(){return this.Se}},children:{get:function(){return this.te}},options:{get:function(){return this.Of()},set:function(a){this.xd(a)}},exportValue:{get:function(){return this.yn()}},
actions:{get:function(){return this.Ui()}},defaultValue:{get:function(){return this.wn()},set:function(a){this.fs(a)}},flags:{get:function(){return this.Eb.Db}},IsModified:{set:function(a){a!==this.Bi&&this.te.forEach(function(d){d.IsModified=a});this.Bi=a},get:function(){return this.Bi||this.te.reduce(function(a,d){return a||d.IsModified},!1)}},font:{get:function(){return this.sk}},maxLen:{get:function(){return this.we},set:function(a){this.we=Number(a);-1!==this.we&&this.mb(this.Ka())}},type:{get:function(){return this.Rp}},
userName:{get:function(){return this.CG},set:function(a){this.CG=a}}});$.extend(d.N.ca.prototype,a.Actions.gg.prototype);d.N.ca.rb=function(a){this.Ba=a;this._value=this.Gt="";this.Db=new d.ih({mask:["ReadOnly","Required","NoExport"]})};d.N.ca.rb.prototype={mb:function(c,d){var b=this.Ba,e=typeof c;"number"===e?c=a.Annotations.da.toFixed(c,6):c&&"string"!==e&&(c=c.toString());e=this._value!==c;this.yd(c);e&&(c=this._value,this.Ww(c,d),b.IsModified=!0,b.trigger("change",[b]))},Ww:function(a){this.Ba.LA(function(d){d.mb(a)})},
yd:function(a){this._value=a},Ze:function(a){this.yd(a)},set:function(a){_.isObject(a)&&(_.isNull(a.value)||_.isUndefined(a.value)||(this._value=a.value),_.isNull(a.defaultValue)||_.isUndefined(a.defaultValue)||(this.Gt=a.defaultValue),a.flags&&(_.isArray(a.flags)?this.Db.set(a.flags,!0):_.isObject(a.flags)&&this.Db.set(a.flags.toArray(),!0)))},Ka:function(){return this._value},wn:function(){return this.Gt},fs:function(a){this.Gt=a},Yp:function(){},Of:function(){return null},xd:function(){},yn:function(){return this._value}};
Object.defineProperties(d.N.ca.rb.prototype,{value:{get:function(){return this.Ka()},set:function(a){this.mb(a)}},defaultValue:{get:function(){return this.wn()},set:function(a){this.fs(a)}}});d.N.ca.ft=function(a,f){if(f instanceof d.N.ca.ft)return f;d.N.ca.rb.call(this,a);this.Db.pn("Multiline Password FileSelect DoNotSpellCheck DoNotScroll Comb RichText".split(" "));this.set(f)};d.N.ca.ft.prototype=$.extend(Object.create(d.N.ca.rb.prototype),{yd:function(a){var f=this.Ba.maxLen;-1===f||_.isNull(a)||
(a=String(a),a.length>f&&(a=a.slice(0,f)));d.N.ca.rb.prototype.yd.call(this,a)}});d.N.ca.Gs=function(a,f){if(f instanceof d.N.ca.Gs)return f;d.N.ca.rb.call(this,a);this.Db.pn("Combo Edit Sort MultiSelect DoNotSpellCheck CommitOnSelChange".split(" "));this.xe=[];this.set(f)};d.N.ca.Gs.prototype=$.extend(Object.create(d.N.ca.rb.prototype),{set:function(a){_.isObject(a)&&a.options&&this.xd(a.options);d.N.ca.rb.prototype.set.call(this,a)},$I:function(a){for(var d=0;d<this.xe.length;++d){var b=this.xe[d];
if(b.value===a)return b}return null},yd:function(a){this.Db.get("Edit")||!_.isNull(this.$I(a))?d.N.ca.rb.prototype.yd.call(this,a):(a=this.xe[0])?d.N.ca.rb.prototype.yd.call(this,a.value):d.N.ca.rb.prototype.yd.call(this,null)},Of:function(){return this.xe},Yp:function(a,d){for(var b=this.xe,e=0;e<b.length;++e)if(b[e].value===b.value)return;this.xe.splice(d,0,a);this.Db.get("Combo")||this.mb(a.value)},xd:function(a){this.xe=a.map(function(a){var b=a.value;a=a.displayValue;return{value:b,displayValue:_.isUndefined(a)?
b:a}})}});d.N.ca.Ds=function(a,f){if(f instanceof d.N.ca.Ds)return f;d.N.ca.rb.call(this,a);this.Db.pn(["NoToggleToOff","Radio","PushButton","RadiosInUnison"]);this.xe=null;this.set(f);""===this._value&&(this._value="Off")};d.N.ca.Ds.prototype=$.extend(Object.create(d.N.ca.rb.prototype),{set:function(a){d.N.ca.rb.prototype.set.call(this,a);_.isObject(a)&&a.options&&this.xd(a.options)},Of:function(){return this.xe},Ze:function(a){(""===this._value||"Off"!==a||this.Ba.widgets.every(function(a){return!a.appearance}))&&
d.N.ca.rb.prototype.Ze.call(this,a)},yd:function(a){"Off"!==a?""===a?d.N.ca.rb.prototype.yd.call(this,"Off"):d.N.ca.rb.prototype.yd.call(this,a):this.Db.get("NoToggleToOff")&&this.Db.get("Radio")||d.N.ca.rb.prototype.yd.call(this,a)},yn:function(){return this.xe?this.xe[Number(this.Ka())]:d.N.ca.rb.prototype.yn.call(this)},xd:function(a){this.xe=a.slice()},Ww:function(a,f){d.N.ca.rb.prototype.Ww.call(this,a,f)}});d.N.ca.ct=function(a,f){if(f instanceof d.N.ca.ct)return f;d.N.ca.rb.call(this,a);this.set(f)};
d.N.ca.ct.prototype=$.extend(Object.create(d.N.ca.rb.prototype),{})})(window);
(function(a){function d(a){return _.isArray(a)?a.map(d).join(" "):_.isNumber(a)?a.toString():_.escape(String(a))}function c(a,b,c,e){c!==e&&a.writeAttributeString(b,d(c))}function f(a,b,e){var f=e.jo||[];e=e.ul||{};for(var g=0;g<f.length;++g){var h=f[g],k=b[h];_.isUndefined(b)?console.warn("Required attribute: "+h+" is undefined"):a.writeAttributeString(h,d(k))}for(var l in e)e.hasOwnProperty(l)&&c(a,l,b[l],e[l])}function b(a,b,g,h){h=h||"actions";var k=Object.keys(b);if(0<k.length){a.writeStartElement(h);
for(h=0;h<k.length;++h)a.writeStartElement("action"),a.writeAttributeString("trigger",_.escape(k[h])),b[k[h]].forEach(function(b){var h=b.name;switch(h){case "JavaScript":a.writeStartElement("javascript");a.writeString(d(b.javascript));a.writeEndElement();break;case "ResetForm":a.writeStartElement("reset-form");f(a,b,{jo:["exclude"]});b.fields&&e(a,b.fields);a.writeEndElement();break;case "SubmitForm":a.writeStartElement("submit-form");f(a,b,{jo:["url","format"],ul:{method:"POST",exclude:!1}});h=
b.flags.toArray();0<h.length&&a.writeAttributeString("flags",d(h));b=b.fields;0<b.length&&e(a,b);a.writeEndElement();break;case "GoTo":a.writeStartElement("goto");a.writeStartElement("dest");b=b.dest;f(a,b,{jo:["fit","page"],ul:{zoom:void 0}});var k=g(b.page).inverse(),h=b.top||0,l=b.left||0,q=b.bottom||0,p=b.right||0,l=k.W({x:l,y:h}),k=k.W({x:p,y:q}),h=_.isUndefined(b.top)?null:l.y,l=_.isUndefined(b.left)?null:l.x,p=_.isUndefined(b.right)?null:k.x,q=_.isUndefined(b.bottom)?null:k.y;c(a,"top",h,null);
c(a,"left",l,null);c(a,"right",p,null);c(a,"bottom",q,null);a.writeEndElement();a.writeEndElement();break;case "URI":a.writeStartElement("uri");f(a,b,{jo:["uri"]});a.writeEndElement();break;case "Hide":a.writeStartElement("hide");f(a,b,{ul:{hide:!0}});e(a,b.fields);a.writeEndElement();break;case "Named":a.writeStartElement("named");a.writeAttributeString("name",_.escape(b.action));a.writeEndElement();break;default:console.warn("Unrecognised action name"+h)}}),a.writeEndElement();a.writeEndElement()}}
function e(a,b,c){c||(c="fields");a.writeStartElement(c);c=b.length;for(var d=0;d<c;++d){var e=a,f=b[d];e.writeStartElement("ffield");e.writeAttributeString("name",_.escape(f));e.writeEndElement()}a.writeEndElement()}function g(a,b,d,e){if(e||!b.VB())a.writeStartElement(d),c(a,"r",b.R,0),c(a,"g",b.G,0),c(a,"b",b.B,0),c(a,"a",b.A,1),a.writeEndElement()}function l(a,b,d){if(b&&(0!==b.size||""!==b.name||"Type1"!==b.type||!b.ij())){a.writeStartElement("font");f(a,b,{ul:{type:"Type1",name:""}});var e=
b.size,h=d.inverse();d=h.W({x:0,y:0});h=h.W({x:e,y:0});e=d.x-h.x;d=d.y-h.y;c(a,"size",Math.sqrt(e*e+d*d),0);d=b.fillColor;d.ij()||g(a,d,"fill-color",!0);b=b.strokeColor;b.ij()||g(a,b,"stroke-color",!0);a.writeEndElement()}}function k(a,b,c){a.writeStartElement("aappearance");a.writeAttributeString("name",b);Object.keys(c).forEach(function(b){a.writeStartElement(b);a.writeString(d(c[b]||""));a.writeEndElement()});a.writeEndElement()}a.rf=a.rf||{};var h=a.rf;h.parse=function(a,b,c,d){var e={calculationOrder:[],
widgets:[],fields:{},pages:[],documentActions:{}},f=a.sa();"pdf-info"!==f?(console.warn("pdf-info missing. found: "+f),c(e)):(f=a.J("version"),"1"===f?h.FF.parse(a,b,c,d):"2"===f?h.GF.parse(a,b,c,d):(console.warn("PDFInfo version is incorrect: "+f),c(e)))};h.write=function(a,h,n){a.writeStartElement("pdf-info");a.writeAttributeString("xmlns","http://www.pdftron.com/pdfinfo");a.writeAttributeString("version","2");var q=h.calculationOrder;_.isArray(q)&&0<q.length&&e(a,q,"calculation-order");b(a,h.documentActions,
n,"document-actions");q=h.pages;if(0<q.length){a.writeStartElement("pages");for(var v=0;v<q.length;++v){var r=a,u=q[v],x=n;r.writeStartElement("page");r.writeAttributeString("number",d(u.number));b(r,u.actions,x);r.writeEndElement()}a.writeEndElement()}v=h.fields;r=Object.keys(v);for(q=0;q<r.length;++q){var u=a,z=v[r[q]],x=n;u.writeStartElement("ffield");f(u,z,{ul:{},jo:["type","name"]});var E=z.flags.toArray();0<E.length&&u.writeAttributeString("flags",d(E));E=z.maxLen;-1!==E&&u.writeAttributeString("max-len",
d(E));b(u,z.Ui(),x);(E=z.defaultValue)&&u.writeElementString("default-value",d(E));l(u,z.font,x(1));x=u;if((z=z.options)&&0<z.length){x.writeStartElement("options");for(var E=z.length,B=0;B<E;++B){x.writeStartElement("option");var w=z[B].displayValue,y=z[B].value;w===y||_.isUndefined(w)||x.writeAttributeString("display-value",d(w));x.writeAttributeString("value",d(y));x.writeEndElement()}x.writeEndElement()}u.writeEndElement()}h=h.widgets;for(q=0;q<h.length;++q){v=a;r=h[q];u=n;v.writeStartElement("widget");
f(v,r,{ul:{appearance:"",rotation:0,quadding:"Left-justified"}});x=r;x=x.jb().widgets.indexOf(x);x=d(x);"0"!==x&&v.writeAttributeString("index",x);v.writeAttributeString("field",d(r.jb().name));x=r.flags.toArray();0<x.length&&v.writeAttributeString("flags",d(x));E=r.PageNumber;v.writeAttributeString("page",d(E));x=v;z=r.rect;E=u(E);x.writeStartElement("rect");B=E.inverse();E=B.W({x:z.x1,y:z.y1});z=B.W({x:z.x2,y:z.y2});B={};B.x1=_.min([E.x,z.x]);B.x2=_.max([E.x,z.x]);B.y1=_.min([E.y,z.y]);B.y2=_.max([E.y,
z.y]);x.writeAttributeString("x1",d(Number(Number(B.x1).toFixed(4))));x.writeAttributeString("x2",d(Number(Number(B.x2).toFixed(4))));x.writeAttributeString("y1",d(Number(Number(B.y1).toFixed(4))));x.writeAttributeString("y2",d(Number(Number(B.y2).toFixed(4))));x.writeEndElement();x=v;!(z=r.border)||z.color.VB()&&1===z.width&&"Solid"===z.style||(x.writeStartElement("border"),c(x,"width",z.width,1),c(x,"style",z.style,"Solid"),z=z.color,z.ij()||g(x,z,"color",!0),x.writeEndElement());g(v,r.backgroundColor,
"background-color");b(v,r.Ui(),u);x=v;z=r.appearances;E=Object.keys(z);if(0<E.length){x.writeStartElement("appearances");B=E.length;for(w=0;w<B;++w)y=E[w],k(x,y,z[y]);x.writeEndElement()}x=v;z=r;z.FJ()&&(x.writeStartElement("extra"),l(x,z.font,u(1)),x.writeEndElement());u=v;r=r.captions;x=r.Rollover;z=r.Down;if(r.Normal||x||z)u.writeStartElement("captions"),c(u,"Normal",r.Normal,""),c(u,"Rollover",r.Rollover,""),c(u,"Down",r.Down,""),u.writeEndElement();v.writeEndElement()}a.writeEndElement()}})(window);
(function(a){function d(a){var b=[];for(a.la();a.advance();){var c=a.sa();"field"===c?b.push(String(a.J("name"))):console.warn("unrecognised field list element: "+c)}a.ua();return b}function c(a,b){return b?"false"===a?!1:!0:"true"===a?!0:!1}function f(a,b){var e=a.sa();switch(e){case "javascript":return{name:"JavaScript",javascript:a.sd()};case "uri":return{name:"URI",uri:a.J("uri")};case "goto":e=null;a.la();if(a.advance()){var f=a.J("fit"),e={page:a.J("page"),fit:f};if("0"===e.page)console.warn("null page encountered in dest");
else{var g=b(Number(e.page));switch(f){case "Fit":case "FitB":break;case "FitH":case "FitBH":e.top=g.W({x:0,y:a.J("top")||0}).y;break;case "FitV":case "FitBV":e.left=g.W({x:a.J("left")||0,y:0}).x;break;case "FitR":f=g.W({x:a.J("left")||0,y:a.J("top")||0});g=g.W({x:a.J("right")||0,y:a.J("bottom")||0});g=new Annotations.Rect(f.x,f.y,g.x,g.y);e.top=g.y1;e.left=g.x1;e.bottom=g.y2;e.right=g.x2;break;case "XYZ":f=g.W({x:a.J("left")||0,y:a.J("top")||0});e.top=f.y;e.left=f.x;e.zoom=a.J("zoom")||0;break;default:console.warn("unknown dest fit: "+
f)}}e={name:"GoTo",dest:e}}else console.BN("missing dest in GoTo action");a.ua();return e;case "submit-form":e={name:"SubmitForm",url:a.J("url"),format:a.J("format"),method:a.J("method")||"POST",exclude:c(a.J("exclude"),!1)};g=a.J("flags");e.flags=g?g.split(" "):[];for(a.la();a.advance();)switch(g=a.sa(),g){case "fields":e.fields=d(a);break;default:console.warn("unrecognised submit-form child: "+g)}a.ua();return e;case "reset-form":e={name:"ResetForm",exclude:c(a.J("exclude"),!1)};for(a.la();a.advance();)switch(g=
a.sa(),g){case "fields":e.fields=d(a);break;default:console.warn("unrecognised reset-form child: "+g)}a.ua();return e;case "hide":e={name:"Hide",hide:c(a.J("hide"),!0)};for(a.la();a.advance();)switch(g=a.sa(),g){case "fields":e.fields=d(a);break;default:console.warn("unrecognised hide child: "+g)}a.ua();return e;case "named":return{name:"Named",action:a.J("name")};default:console.warn("Encountered unexpected action type: "+e)}return null}function b(a,b,c){var d={};for(a.la();a.advance();){var e=a.sa();
switch(e){case "action":e=a.J("trigger");if(b?-1!==b.indexOf(e):1){d[e]=[];for(a.la();a.advance();){var g=f(a,c);_.isNull(g)||d[e].push(g)}a.ua()}else console.warn("encountered unexpected trigger on field: "+e);break;default:console.warn("encountered unknown action child: "+e)}}a.ua();return d}function e(a){return"calculation-order"===a.sa()?d(a):[]}function g(b){return new a.Annotations.Color(b.J("r")||0,b.J("g")||0,b.J("b")||0,b.J("a")||1)}function l(a,b){var c=a.J("name"),d=a.J("type")||"Type1",
e=a.J("size"),f=b.W({x:0,y:0}),h=b.W({x:Number(e),y:0}),e=f.x-h.x,f=f.y-h.y,c={name:c,type:d,size:Math.sqrt(e*e+f*f)||0,strokeColor:[0,0,0],fillColor:[0,0,0]};for(a.la();a.advance();)switch(d=a.sa(),d){case "stroke-color":c.strokeColor=g(a);break;case "fill-color":c.fillColor=g(a);break;default:console.warn("unrecognised font child: "+d)}a.ua();return c}function k(a,c){var d={border:{style:"Solid",width:1},backgroundColor:[],fieldName:a.J("field"),page:a.J("page"),index:a.J("index")||0,rotation:a.J("rotation")||
0,flags:[]},e=a.J("appearance");e&&(d.appearance=e);(e=a.J("flags"))&&(d.flags=e.split(" "));for(a.la();a.advance();)switch(e=a.sa(),e){case "rect":var f=a,h=c(Number(d.page)),e=h.W({x:f.J("x1")||0,y:f.J("y1")||0}),f=h.W({x:f.J("x2")||0,y:f.J("y2")||0}),e=new Annotations.Rect(e.x,e.y,f.x,f.y);e.normalize();d.rect={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2};break;case "border":e=a;f={style:e.J("style")||"Solid",width:e.J("width")||1,color:[0,0,0]};for(e.la();e.advance();)switch(h=e.sa(),h){case "color":f.color=
g(e);break;default:console.warn("unrecognised border child: "+h)}e.ua();d.border=f;break;case "background-color":d.backgroundColor=g(a);break;case "actions":d.actions=b(a,"E X D U Fo Bl PO PC PV PI".split(" "),c);break;case "appearances":e=a;f={};for(e.la();e.advance();)if(h=e.sa(),"appearance"===h){var h=e.J("name"),k=e,m={};for(k.la();k.advance();){var n=k.sa();switch(n){case "Normal":m.Normal=k.sd();break;default:console.warn("unexpected appearance state: ",n)}}k.ua();f[h]=m}else console.warn("unexpected appearances child: "+
h);e.ua();d.appearances=f;break;case "extra":e=a;f=c;h={};for(e.la();e.advance();)switch(k=e.sa(),k){case "font":h.font=l(e,f(1));break;default:console.warn("unrecognised extra child: "+k)}e.ua();e=h;e.font&&(d.font=e.font);break;case "captions":f=a;e={};(h=f.J("Normal"))&&(e.Normal=h);(h=f.J("Rollover"))&&(e.Rollover=h);(f=f.J("Down"))&&(e.Down=f);d.captions=e;break;default:console.warn("unrecognised widget child: "+e)}a.ua();return d}function h(a){var b={value:a.J("value")};(a=a.J("display-value"))&&
(b.displayValue=a);return b}function m(c,d){var e=c.J("name"),f={type:c.J("type"),quadding:c.J("quadding")||"Left-justified",maxLen:c.J("max-len")||-1},g=c.J("flags");_.isString(g)&&(f.flags=g.split(" "));for(c.la();c.advance();)switch(g=c.sa(),g){case "actions":f.actions=b(c,["C","F","K","V"],d);break;case "default-value":g=c;g.la();g.advance();var k=g.sd();g.ua();f.defaultValue=k;break;case "font":f.font=l(c,d);break;case "options":g=c;k=[];for(g.la();g.advance();){var m=g.sa();switch(m){case "option":k.push(h(g));
break;default:console.warn("unrecognised options child: "+m)}}g.ua();f.options=k;break;default:console.warn("unknown field child: "+g)}c.ua();return new a.Annotations.N.ca(e,f)}function p(b,c){switch(b.type){case "Tx":return new a.Annotations.ni(b,c);case "Ch":return b.flags.get("Combo")?new a.Annotations.jf(b,c):new a.Annotations.ah(b,c);case "Btn":return b.flags.get("PushButton")?new a.Annotations.di(b,c):b.flags.get("Radio")?new a.Annotations.ei(b,c):new a.Annotations.Yg(b,c);case "Sig":return new a.Annotations.ii(b,
c);default:console.warn("Unrecognised field type: "+b.type)}return null}function n(a,c){var d={number:a.J("number")};for(a.la();a.advance();){var e=a.sa();switch(e){case "actions":d.actions=b(a,["O","C"],c);break;default:console.warn("unrecognised page child: "+e)}}a.ua();return d}a.rf=a.rf||{};a.rf.FF={parse:function(c,d,f,g){var h=[],l={};c.la();var E=[],B={},w=[];a.busyLoop(function(){var a,f;if(c.advance()){a=c.sa();switch(a){case "calculation-order":E=e(c);break;case "document-actions":B=b(c,
["Init","Open"],d);break;case "pages":a=[];for(c.la();c.advance();)switch(f=c.sa(),f){case "page":a.push(n(c,d));break;default:console.warn("unrecognised page child: "+f)}c.ua();w=a;break;case "field":a=m(c,d(1));l[a.name]=a;break;case "widget":f=k(c,d);(a=l[f.fieldName])?(a=p(a,f),h.push(a)):console.warn("ignoring widget with no corresponding field data: "+f.fieldName);break;default:console.warn("Unknown element encountered in PDFInfo: "+a)}return!0}return!1},function(){c.ua();f({calculationOrder:E,
widgets:h,fields:l,documentActions:B,pages:w})},g)},SK:m,UK:k,tC:e}})(window);
(function(a){function d(a){var b=[];for(a.la();a.advance();){var c=a.sa();"ffield"===c?b.push(String(a.J("name"))):console.warn("unrecognised field list element: "+c)}a.ua();return b}function c(a,b){return b?"false"===a?!1:!0:"true"===a?!0:!1}function f(a,b){var e=a.sa();switch(e){case "javascript":return{name:"JavaScript",javascript:a.sd()};case "uri":return{name:"URI",uri:a.J("uri")};case "goto":e=null;a.la();if(a.advance()){var f=a.J("fit"),e={page:a.J("page"),fit:f};if("0"===e.page)console.warn("null page encountered in dest");
else{var g=b(Number(e.page));switch(f){case "Fit":case "FitB":break;case "FitH":case "FitBH":e.top=g.W({x:0,y:a.J("top")||0}).y;break;case "FitV":case "FitBV":e.left=g.W({x:a.J("left")||0,y:0}).x;break;case "FitR":f=g.W({x:a.J("left")||0,y:a.J("top")||0});g=g.W({x:a.J("right")||0,y:a.J("bottom")||0});g=new Annotations.Rect(f.x,f.y,g.x,g.y);e.top=g.y1;e.left=g.x1;e.bottom=g.y2;e.right=g.x2;break;case "XYZ":f=g.W({x:a.J("left")||0,y:a.J("top")||0});e.top=f.y;e.left=f.x;e.zoom=a.J("zoom")||0;break;default:console.warn("unknown dest fit: "+
f)}}e={name:"GoTo",dest:e}}else console.BN("missing dest in GoTo action");a.ua();return e;case "submit-form":e={name:"SubmitForm",url:a.J("url"),format:a.J("format"),method:a.J("method")||"POST",exclude:c(a.J("exclude"),!1)};g=a.J("flags");e.flags=g?g.split(" "):[];for(a.la();a.advance();)switch(g=a.sa(),g){case "fields":e.fields=d(a);break;default:console.warn("unrecognised submit-form child: "+g)}a.ua();return e;case "reset-form":e={name:"ResetForm",exclude:c(a.J("exclude"),!1)};for(a.la();a.advance();)switch(g=
a.sa(),g){case "fields":e.fields=d(a);break;default:console.warn("unrecognised reset-form child: "+g)}a.ua();return e;case "hide":e={name:"Hide",hide:c(a.J("hide"),!0)};for(a.la();a.advance();)switch(g=a.sa(),g){case "fields":e.fields=d(a);break;default:console.warn("unrecognised hide child: "+g)}a.ua();return e;case "named":return{name:"Named",action:a.J("name")};default:console.warn("Encountered unexpected action type: "+e)}return null}function b(a,b,c){var d={};for(a.la();a.advance();){var e=a.sa();
switch(e){case "action":e=a.J("trigger");if(b?-1!==b.indexOf(e):1){d[e]=[];for(a.la();a.advance();){var g=f(a,c);_.isNull(g)||d[e].push(g)}a.ua()}else console.warn("encountered unexpected trigger on field: "+e);break;default:console.warn("encountered unknown action child: "+e)}}a.ua();return d}function e(a){return"calculation-order"===a.sa()?d(a):[]}function g(b){return new a.Annotations.Color(b.J("r")||0,b.J("g")||0,b.J("b")||0,b.J("a")||1)}function l(a,b){var c=a.J("name"),d=a.J("type")||"Type1",
e=a.J("size"),f=b.W({x:0,y:0}),h=b.W({x:Number(e),y:0}),e=f.x-h.x,f=f.y-h.y,c={name:c,type:d,size:Math.sqrt(e*e+f*f)||0,strokeColor:[0,0,0],fillColor:[0,0,0]};for(a.la();a.advance();)switch(d=a.sa(),d){case "stroke-color":c.strokeColor=g(a);break;case "fill-color":c.fillColor=g(a);break;default:console.warn("unrecognised font child: "+d)}a.ua();return c}function k(a,c){var d={border:{style:"Solid",width:1},backgroundColor:[],fieldName:a.J("field"),page:a.J("page"),index:a.J("index")||0,rotation:a.J("rotation")||
0,quadding:a.J("quadding")||"Left-justified",flags:[]},e=a.J("appearance");e&&(d.appearance=e);(e=a.J("flags"))&&(d.flags=e.split(" "));for(a.la();a.advance();)switch(e=a.sa(),e){case "rect":var f=a,h=c(Number(d.page)),e=h.W({x:f.J("x1")||0,y:f.J("y1")||0}),f=h.W({x:f.J("x2")||0,y:f.J("y2")||0}),e=new Annotations.Rect(e.x,e.y,f.x,f.y);e.normalize();d.rect={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2};break;case "border":e=a;f={style:e.J("style")||"Solid",width:e.J("width")||1,color:[0,0,0]};for(e.la();e.advance();)switch(h=
e.sa(),h){case "color":f.color=g(e);break;default:console.warn("unrecognised border child: "+h)}e.ua();d.border=f;break;case "background-color":d.backgroundColor=g(a);break;case "actions":d.actions=b(a,"E X D U Fo Bl PO PC PV PI".split(" "),c);break;case "appearances":e=a;f={};for(e.la();e.advance();)if(h=e.sa(),"aappearance"===h){var h=e.J("name"),k=e,m={};for(k.la();k.advance();){var n=k.sa();switch(n){case "Normal":m.Normal=k.sd();break;default:console.warn("unexpected appearance state: ",n)}}k.ua();
f[h]=m}else console.warn("unexpected appearances child: "+h);e.ua();d.appearances=f;break;case "extra":e=a;f=c;h={};for(e.la();e.advance();)switch(k=e.sa(),k){case "font":h.font=l(e,f(1));break;default:console.warn("unrecognised extra child: "+k)}e.ua();e=h;e.font&&(d.font=e.font);break;case "captions":f=a;e={};(h=f.J("Normal"))&&(e.Normal=h);(h=f.J("Rollover"))&&(e.Rollover=h);(f=f.J("Down"))&&(e.Down=f);d.captions=e;break;default:console.warn("unrecognised widget child: "+e)}a.ua();return d}function h(a){var b=
{value:a.J("value")};(a=a.J("display-value"))&&(b.displayValue=a);return b}function m(c,d){var e=c.J("name"),f={type:c.J("type"),maxLen:c.J("max-len")||-1},g=c.J("flags");_.isString(g)&&(f.flags=g.split(" "));for(c.la();c.advance();)switch(g=c.sa(),g){case "actions":f.actions=b(c,["C","F","K","V"],d);break;case "default-value":g=c;g.la();g.advance();var k=g.sd();g.ua();f.defaultValue=k;break;case "font":f.font=l(c,d);break;case "options":g=c;k=[];for(g.la();g.advance();){var m=g.sa();switch(m){case "option":k.push(h(g));
break;default:console.warn("unrecognised options child: "+m)}}g.ua();f.options=k;break;default:console.warn("unknown field child: "+g)}c.ua();return new a.Annotations.N.ca(e,f)}function p(b,c){switch(b.type){case "Tx":return new a.Annotations.ni(b,c);case "Ch":return b.flags.get("Combo")?new a.Annotations.jf(b,c):new a.Annotations.ah(b,c);case "Btn":return b.flags.get("PushButton")?new a.Annotations.di(b,c):b.flags.get("Radio")?new a.Annotations.ei(b,c):new a.Annotations.Yg(b,c);case "Sig":return new a.Annotations.ii(b,
c);default:console.warn("Unrecognised field type: "+b.type)}return null}function n(a,c){var d={number:a.J("number")};for(a.la();a.advance();){var e=a.sa();switch(e){case "actions":d.actions=b(a,["O","C"],c);break;default:console.warn("unrecognised page child: "+e)}}a.ua();return d}a.rf=a.rf||{};a.rf.GF={parse:function(c,d,f,g){var h=[],l={};c.la();var E=[],B={},w=[];a.busyLoop(function(){var a,f;if(c.advance()){a=c.sa();switch(a){case "calculation-order":E=e(c);break;case "document-actions":B=b(c,
["Init","Open"],d);break;case "pages":a=[];for(c.la();c.advance();)switch(f=c.sa(),f){case "page":a.push(n(c,d));break;default:console.warn("unrecognised page child: "+f)}c.ua();w=a;break;case "ffield":a=m(c,d(1));l[a.name]=a;break;case "widget":f=k(c,d);(a=l[f.fieldName])?(a=p(a,f),h.push(a)):console.warn("ignoring widget with no corresponding field data: "+f.fieldName);break;default:console.warn("Unknown element encountered in PDFInfo: "+a)}return!0}return!1},function(){c.ua();f({calculationOrder:E,
widgets:h,fields:l,documentActions:B,pages:w})},g)},eP:p,SK:m,UK:k,tC:e}})(window);
(function(a){a.Annotations=a.Annotations||{};a.Annotations.N=a.Annotations.N||{};a.Annotations.N.hb=a.Annotations.N.hb||{};a=a.Annotations.N.hb;a.Events={};var d=a.Events;d.Event=function(a){this.rc=!0;_.isObject(a)&&(_.isString(a.name)&&Object.defineProperty(this,"name",{value:a.name,enumerable:!0}),_.isString(a.type)&&Object.defineProperty(this,"type",{value:a.type,enumerable:!0}))};d.Wk=function(a){var b=String(a.value),c=a.change,d=b.slice(0,a.selStart),l=b.slice(a.selEnd);if(_.isObject(a.change)){var k=
a.selStart;a=a.selEnd;k===a&&("backspace"===c.type?d=b.slice(0,k-1):"delete"===c.type&&(l=b.slice(a+1)));c=""}return d+c+l};var c={Validate:function(a){d.Event.call(this,a);var b;_.isObject(a)&&(b=a.value);Object.defineProperty(this,"value",{value:b,writable:!0,enumerable:!0})},Calculate:function(a){d.Event.call(this,a);var b,c;_.isObject(a)&&(b=a.value,c=a.source);Object.defineProperties(this,{value:{value:b,writable:!0,enumerable:!0},source:{value:c,enumerable:!0}})},Format:function(a){d.Event.call(this,
a);var b;_.isObject(a)&&(b=a.value);Object.defineProperty(this,"value",{value:b,writable:!0,enumerable:!0})},Keystroke:function(a){d.Event.call(this,a);var b,c,g,l,k;_.isObject(a)&&(b=a.value,c=a.change,g=a.selStart,l=a.selEnd,k=a.willCommit);b="undefined"!==typeof b?b:"";c="undefined"!==typeof c||_.isString(c)?c:"";l="undefined"!==typeof l?l:b.length;Object.defineProperties(this,{value:{value:b,writable:!0,enumerable:!0},change:{value:c,writable:!0,enumerable:!0},selStart:{value:"undefined"!==typeof g?
g:0,writable:!0,enumerable:!0},selEnd:{value:l,writable:!0,enumerable:!0},willCommit:{value:k||!1,enumerable:!0}})},"Mouse Enter":function(a){d.Event.call(this,a)},"Mouse Leave":function(a){d.Event.call(this,a)},"Mouse Up":function(a){d.Event.call(this,a)},"Mouse Down":function(a){d.Event.call(this,a)},Focus:function(a){d.Event.call(this,a)},Blur:function(a){d.Event.call(this,a);var b;_.isObject(a)&&(b=a.value);Object.defineProperty(this,"value",{value:b,writable:!0,enumerable:!0})},Open:function(a){d.Event.call(this,
a);var b;_.isObject(a)&&(b=a.targetName);Object.defineProperty(this,"targetName",{value:b||"",writable:!0,enumerable:!0})},Close:function(a){d.Event.call(this,a)}};d.create=function(a,b){return c[a]?new c[a](b):null};d.ca={create:function(a,b,c){c=$.extend({name:a,type:"Field",value:b.Ka()},c);return(a=d.create(a,c))?(Object.defineProperties(a,{target:{value:b,writable:!0,enumerable:!0},targetName:{value:b.name,enumerable:!0},modifier:{value:null,enumerable:!0},shift:{value:null,enumerable:!0}}),
a):null}};d.yx={create:function(a,b,c){c=$.extend({name:a,type:"Doc",targetName:""},c);return(a=d.create(a,c))?(Object.defineProperty(a,"target",{value:b,writable:!0,enumerable:!0}),a):null}};d.lm={create:function(a,b,c){c=$.extend({name:a,type:"Page"},c);return(a=d.create(a,c))?(Object.defineProperty(a,"target",{value:b,writable:!0,enumerable:!0}),a):null}};d.md={create:function(a,b){return d.create(a,b)}}})(window);
(function(a){function d(a){this.stringValue=a}function c(a,b,c){b=b||",";c=c||".";var d=a.split(c),e=d[0];"-"===a.charAt(0)&&(e=e.substr(1));for(var f=[];3<e.length;)f.push(e.substr(e.length-3)),e=e.substr(0,e.length-3);0<e.length&&f.push(e);e=f.reverse().join(b);"-"===a.charAt(0)&&(e="-"+e);d[0]=e;return d.join(c)}function f(a,b){return 0===b?/^-?\d*$/.test(a):(_.isUndefined(b)?/^-?\d*([\.,]\d*)?$/:new RegExp("^-?\\d*([\\.,]\\d{0,"+b.toString()+"})?$")).test(a)}function b(a){for(var b=[],c=[],d=
-1;-1!==(d=a.indexOf(".",d+1));)b.push(d);for(d=-1;-1!==(d=a.indexOf(",",d+1));)c.push(d);if(b.length&&c.length){if(b[b.length-1]<c[0])return!0}else if(c.length)for(a=a.length-4,b=c.length-1;0<=b;--b)if(c[b]!==a)return!0;return!1}function e(a){return 65<=a&&90>=a||97<=a&&122>=a}function g(a,b){switch(b){case 57:return 48<=a&&57>=a;case 65:return e(a);case 79:return e(a)||48<=a&&57>=a;case 88:return!0;default:return a===b}}function l(a){var c=typeof a;a=_.isNull(a)||"object"!==c&&"string"!==c?a:String(a).replace(",",
b(a)?".":"");c=parseFloat(a);if(!f(a)||isNaN(c))c="Off"===a||_.isUndefined(a)||_.isNull(a)||""===a?0:1;return c}function k(a,b){var c=String(a);if(c.length<b)for(var d=b-c.length,e=0;e<d;++e)c="0"+c;return c}function h(a){_.isString(a)&&(a=a.replace(/\s+/g," "),a=a.replace(/[\/\.]/g,"-"));return a}function m(a){return a.replace(/(mmmm)|(mmm)|(:mm)|(mm)|(:m)|(m)|(dddd)|(ddd)|(dd)|(d)|(yyyy)|(yy)|(HH)|(H)|(hh)|(h)|(MM)|(M)|(ss)|(s)|(tt)|(t)/g,function(a){return{mmmm:"MMMM",mmm:"MMM",":mm":":mm",mm:"MM",
":m":":m",m:"M",dddd:"dddd",ddd:"ddd",dd:"DD",d:"D",yyyy:"YYYY",yy:"YY",HH:"HH",H:"H",hh:"hh",h:"h",MM:"mm",M:"m",ss:"ss",s:"s",tt:"A",t:"a"}[a]||""})}function p(a,b){if(!a)return null;var c=F.slice(0);b&&(b=m(b),b=h(b),c.unshift(b));a=h(a);c=b&&"d"===b.charAt(0).toLowerCase()?C(a,D,!0):C(a,c,!0);return c.isValid()?c:null}function n(a,b){return!a||null!==p(a,b)}function q(a,b){if(K[b]){a=h(a);var c;c=b&&"d"===b.charAt(0).toLowerCase()?C(a,D,!0):C(a,F,!0);if(c.isValid())return c.format(K[b])}return null}
function v(a,b){var c=String(a).split(":");if(3<b||0>b||!a)return null;var d=0,e=0,f=0;c[0]&&(d=Number(c[0]));c[1]&&(e=Number(c[1]));c[2]&&(f=Number(c[2]));if(23<d||59<e||59<f||_.isNaN(d)||_.isNaN(e)||_.isNaN(f))return null;var c=1===b||3===b,g;c?(g=12<=d&&24>d?"PM":"AM",d%=12,0===d&&(d=12)):d=k(d,2);e=k(e,2);f=k(f,2);d=d+":"+e+(2>b?"":":"+f);c&&(d+=" "+g);return d}function r(a,b){this.BG=b;this.cv=!1;this.jK=a;a.VM()}function u(a){return function(){console.log("stub: "+a+" called with",arguments)}}
function x(a){var b=null;if(_.isArray(a))switch(a[0]){case "T":b=[];break;case "G":b=a.slice(1,2);break;case "RGB":b=a.slice(1,4);break;case "CMYK":b=a.slice(1,5)}return b}function z(a,b){a.widgets.forEach(function(a){a.backgroundColor=b})}function E(a){this.cz={};this.Qy=a}function B(){var a=this;this.bz={Doc:new E(function(){return"id"}),Field:new E(function(a){return a.name})};this.vm=0;this.jp=[];this.rG={Doc:function(a){return G.Dx(a)},Color:function(a){return G.To(a)},Field:function(a){a.Jh&&
a.Jh()&&(a=a.jb());return new G.em(a)},Event:function(b){var c={target:a.pj({Field:"Field",Page:"Doc",Doc:"Doc"}[b.type],b.target)};Object.defineProperties(c,{value:{get:function(){return G.utils.toString(b.value)},set:function(a){b.value=a},enumerable:!0}});for(var d in b)b.hasOwnProperty(d)&&"target"!==d&&"value"!==d&&function(a){Object.defineProperty(c,a,{set:function(c){b[a]=c},get:function(){return b[a]},enumerable:!0})}(d);return c}}}function w(){B.call(this);this.kG=this.LI();a.LO=this.kG;
for(var b in M)M.hasOwnProperty(b)&&(b in a||(a[b]=M[b]))}function y(){B.call(this);if(L){this.Cm=$("<iframe />");this.Cm.css({display:"none"});this.Cm.appendTo("body");this.Qm=this.Cm[0].contentWindow;var a=this.Qm.document;a.open();a.write("<script>var event = {};\x3c/script>");a.write("<script>window.__add_action = function(__script){ return function(){(1,eval)(__script); } }\x3c/script>");a.close();this.yi=!1;for(var b in M)M.hasOwnProperty(b)&&(this.Qm[b]=M[b])}}a.Annotations=a.Annotations||
{};a.Annotations.N=a.Annotations.N||{};a.Annotations.N.hb=a.Annotations.N.hb||{};var C=a.moment,G=a.Annotations.N.hb,F="M-D;M-D-YYYY;MM-DD-YY;MM-YY;D-MMM;D-MMM-YY;DD-MMM-YY;YYMM-DD;MMM-YY;MMMM-YY;MMM D, YYYY;MMMM D, YYYY;M-D-YY h:mm A;M-D-YY HH:mm;DD-MMM-YYYY".split(";"),D="D-MMM D-MMM-YY DD-MMM-YY DD-MMM-YYYY DD-MM-YYYY D-M-YYYY".split(" "),J="m/d;m/d/yy;mm/dd/yy;mm/yy;d-mmm;d-mmm-yy;dd-mmm-yy;yymm-dd;mmm-yy;mmmm-yy;mmm d, yyyy;mmmm d, yyyy;m/d/yy h:MM tt;m/d/yy HH:MM;dd-mmm-yyyy".split(";"),K={"m/d":"M/D",
"m/d/yy":"M/D/YYYY","mm/dd/yy":"MM/DD/YY","mm/dd/yyyy":"MM/DD/YYYY","mm/yy":"MM/YY","d-mmm":"D-MMM","d-mmm-yy":"D-MMM-YY","dd-mmm-yy":"DD-MMM-YY","yymm-dd":"YYMM-DD","mmm-yy":"MMM-YY","mmmm-yy":"MMMM-YY","mmm d, yyyy":"MMM D, YYYY","mmmm d, yyyy":"MMMM D, YYYY","m/d/yy h:MM tt":"M/D/YY h:mm A","m/d/yy HH:MM":"M/D/YY HH:mm","dd-mmm-yyyy":"DD-MMM-YYYY"};G.utils={isNumber:f,HQ:c,oQ:l,nQ:k,AP:q,aQ:n,BP:v,toString:function(a){return _.isString(a)?a:_.isNumber(a)?String(a):""},NQ:function(a){var b=a;f(a)&&
""!==a&&(b=l(a));return b},aL:function(a,b){var c=C(b),d=m(a);return c.format(d)},bL:function(a){var b=Array.prototype.slice.call(arguments,1),d=0;return a.replace(/%(,\d+)?([+ 0#]+)?(\d+)?(\.\d+)?([dfsx]+)/g,function(a,e,f,g,h,k){a=0;g=".";var l=",";if(e)switch(e.slice(1)){case "0":l=",";g=".";break;case "1":l="";g=".";break;case "2":l=".";g=",";break;case "3":l="",g=","}if(f)for(e=f.length-2,f=1;f<e;++f);h&&(a=h.slice(1));h=b[d];d++;e=String(h);switch(k){case "f":e=Number(h).toFixed(a).replace(".",
g);e=c(e,l,g);break;case "d":e=Number(h).toFixed();break;case "x":e=Number(h).toString(16)}return e})},cL:function(a,b){for(var c="",d=0,g="",h=a.length,k=0;k<h;++k){var l=b,m=a[k],n="";switch(m){case "?":n="upper"===g?n+l.charAt(d).toUpperCase():"lower"===g?n+l.charAt(d).toLowerCase():n+l.charAt(d);d++;break;case "X":for(;d<l.length;){m=l.charCodeAt(d);if(e(m)||48<=m&&57>=m){n="upper"===g?n+l.charAt(d).toUpperCase():"lower"===g?n+l.charAt(d).toLowerCase():n+l.charAt(d);d++;break}d++}break;case "A":for(;d<
l.length;){if(e(l.charCodeAt(d))){n="upper"===g?n+l.charAt(d).toUpperCase():"lower"===g?n+l.charAt(d).toLowerCase():n+l.charAt(d);d++;break}d++}break;case "9":for(;d<l.length;){if(f(l.charAt(d))){n+=l.charAt(d);d++;break}d++}break;case "*":n="lower"===g?l.slice(d).toLowerCase():"upper"===g?l.slice(d).toUpperCase():l.slice(d);d=l.length-1;break;case "\\":break;case ">":g="upper";break;case "<":g="lower";break;case "=":g="";break;default:n=m}c+=n}return c},tx:function(b){var c=a.Annotations.N.hb.Events.Wk(I);
if(b&&c){var d=c.length,e=b.length;if(I.willCommit&&d!==e&&0!==e)alert('The value entered does not match the format of the field = "'+b+'"'),I.rc=!1;else if(d&&e)if(d<=e)for(e=0;e<d;++e){if(!g(c.charCodeAt(e),b.charCodeAt(e))){I.rc=!1;alert('The value entered does not match the format of the field = "'+b+'"');break}}else alert('The value entered does not match the format of the field = "'+b+'"'),I.rc=!1}},Io:function(a){var b=String(I.value);b&&I.willCommit&&!n(b,a)&&(I.rc=!1,alert("Invalid Date/Time: Input should match format "+
a))}};Object.getOwnPropertyNames(String.prototype).forEach(function(a){d.prototype[a]=function(){return this.stringValue[a].apply(this.stringValue,arguments)}});d.prototype.valueOf=function(){this.LB||(this.LB=l(this.stringValue));return this.LB};r.prototype={terminate:function(){this.cv||(this.cv=!0,this.BG(),this.jK.rI())}};var I=null,N=null,M={AFNumber_Format:function(a,b,d,e,g,h){d=(d=N.Ic().$i().jb(I.target.name))?d.Ka():null;f(d)&&null!==d&&""!==d&&(d=l(d),isNaN(d)||(d=d.toFixed(a),0===b?d=
c(d):2===b&&(d=c(d),a=d.indexOf("."),d=d.split(",").join("."),0<=a&&(d=d.substr(0,a)+","+d.substr(a+1))),I.value=h?g+d:d+g,I.rc=!0))},AFPercent_Format:function(a,b){var d=I.value;f(d)&&(d=l(d),d=(100*d).toFixed(a),b&&(d=c(d)),I.value=d+"%",I.rc=!0)},AFDate_KeystrokeEx:G.utils.Io,AFDate_Keystroke:function(a){a<J.length&&G.utils.Io(J[a])},AFDate_FormatEx:function(a){a=q(String(I.value),a);_.isNull(a)||(I.value=a,I.rc=!0)},AFDate_Format:function(a){var b=String(I.value);a<J.length&&(a=q(b,J[a]),_.isNull(a)||
(I.value=a,I.rc=!0))},AFRange_Validate:function(a,b,c,d){var e=Number(I.value),e=(!a||e>=b)&&(!c||e<=d);if(!e){var f="Invalid value: must be";a&&(f+=" greater than or equal to "+b);a&&c&&(f+=" and");c&&(f+=" less than or equal to "+d);alert(f+".")}I.rc=e},AFTime_Format:function(a){I.value=v(I.value,a);I.rc=!0},AFTime_FormatEx:function(a){a=q(String(I.value),a);_.isNull(a)||(I.value=a,I.rc=!0)},AFTime_Keystroke:function(a){switch(a){case 0:a="h:MM tt";break;case 1:a="h:MM tt";break;case 2:a="HH:MM:ss";
break;case 3:a="h:MM:ss tt"}G.utils.Io(a)},AFTime_KeyStrokeEx:G.utils.Io,AFMakeNumber:function(a){return Number(a)},AFSimple_Calculate:function(a,b){var c={PRD:function(a,b){return a*b},SUM:function(a,b){return a+b},MIN:function(a,b){return b<a?b:a},MAX:function(a,b){return b>a?b:a}}[a];c&&("string"===typeof b&&(b=b.split(",")),I.value=b.map(function(a){a=I.target.doc.getField(a).value;return l(a)}).reduce(c),I.rc=!0)},AFNumber_Keystroke:function(b){I.rc=f(a.Annotations.N.hb.Events.Wk(I),b)},AFPercent_Keystroke:function(b){I.rc=
f(a.Annotations.N.hb.Events.Wk(I),b+2)},AFMergeChange:function(b){return a.Annotations.N.hb.Events.Wk(b)},AFParseDateEx:p,AFSpecial_Format:u("AFSpecial_Format"),AFSpecial_Keystroke:function(a){var b="";switch(a){case 0:b="99999";break;case 1:b="999999999";break;case 2:b="9999999999";break;case 3:b="999999999"}G.utils.tx(b)},AFSpecial_KeystrokeEx:G.utils.tx,util:{printd:G.utils.aL,printf:G.utils.bL,printx:G.utils.cL},app:{beep:u("app.beep"),alert:function(a){if(_.isObject(a)){var b=a.nType||0;a=a.cMsg;
if(0===b)return window.alert(a),1;a=window.confirm(a);return 1===b?a?1:2:a?4:3}window.alert(a);return 1},setInterval:function(a,b){var c=N.getDocument().Em;a=c.Gk(a);var d=I,e=window.setInterval(function(){c.Dl(a,d,N)},b);return new r(c,function(){window.clearInterval(e)})},clearInterval:function(a){a.terminate()},setTimeOut:function(a,b){var c=N.getDocument().Em,d;a=c.Gk(a);var e=I,f=window.setTimeout(function(){c.Dl(a,e,N);d.terminate()},b);return d=new r(c,function(){window.clearTimeout(f)})},
clearTimeOut:function(a){a.terminate()},launchURL:u("app.laumchURL")},console:{clear:function(){console.clear()},println:function(a){console.log(a)}},alert:function(a){window.alert(a)},ADBE:null,color:{transparent:["T"],black:["G",0],white:["G",1],red:["RGB",1,0,0],green:["RGB",0,1,0],blue:["RGB",0,0,1],cyan:["CMYK",1,0,0,0],magenta:["CMYK",0,1,0,0],yellow:["CMYK",0,0,1,0],dkGray:["G",.25],gray:["G",.5],ltGray:["G",.75]},border:{s:"solid",b:"beveled",d:"dashed",i:"inset",OQ:"underline"},style:{ch:"check",
cr:"cross",tP:"diamond",ci:"circle",JQ:"start",IQ:"square"},display:{visible:0,hidden:1,GK:2,HK:3}};G.em=function(a){this.ia=a};G.em.prototype={insertItemAt:function(a,b,c){_.isUndefined(b)&&(b=a);_.isUndefined(c)&&(c=0);_.isArray(a)&&(a=a[0]);_.isArray(b)&&(b=b[0]);b={displayValue:a,value:b};var d=this.ia.Of();c=-1===c?d.length-c:c;this.ia.Yp(b,c);"Ch"!==this.ia.type||this.ia.flags.get("Combo")||this.ia.mb(a)},getItemAt:function(a,b){b=_.isUndefined(b)?!0:!!b;var c=this.ia.Of(),c=-1===a?c[c.length-
1]:c[a];return b?c.value:c.displayValue},deleteItemAt:function(a){var b=this.ia.Of();if(_.isUndefined(a)){var c=this.ia.Ka();b.forEach(function(b,d){b.value===c&&(a=d)});_.isUndefined(a)||(b.splice(a,1),0===a?this.ia.mb(b[b.length-1].value):this.ia.mb(b[a-1].value))}else b.splice(a,1)},clearItems:function(){this.ia.xd([]);this.ia.mb(null);this.ia.Tr()},setItems:function(a){for(var b=[],c=a.length,d=0;d<c;++d){var e=a[d];_.isString(e)?b.push({value:e}):_.isArray(e)&&b.push({displayValue:e[0],value:e[1]?
e[1]:e[0]})}this.ia.xd(b);this.ia.mb(b[0].value||null);this.ia.Tr()},setFocus:function(){var a;if(a="widgets"in this.ia?this.ia.widgets[0]:this.ia)this.ia.Zi().gn(a.PageNumber,a.X,a.Y,!0),a.innerElement.trigger("focus")},isBoxChecked:function(a){return(a=this.ia.widgets[a])?a.appearance===a.Bg()?1:0:0},checkThisBox:function(a,b){_.isUndefined(b)&&(b=!0);var c=this.ia.widgets[a];c&&(b?this.ia.mb(c.Bg()):this.ia.Ka()===c.Bg()&&this.ia.mb("Off"),this.ia.Tr())},buttonSetCaption:function(a){this.ia.widgets.forEach(function(b){b.captions.Normal=
String(a);b.refresh()})},getArray:function(){var a=[],b=this.ia.Zi().na.Kf;this.ia.mx({jw:function(){},Hr:function(){},ao:function(c){a.push(new G.em(b.jb(c)))}},this.ia.dJ());return a}};Object.defineProperties(G.em.prototype,{name:{get:function(){return this.ia.name},enumerable:!0},doc:{get:function(){return G.Dx(this.ia.Zi())},enumerable:!0},value:{get:function(){var a=this.ia.Ka();return"number"===typeof a?a:f(a)&&""!==a?"0"===a?0:new d(a):a||""},set:function(a){this.ia.mb(a)},enumerable:!0},valueAsString:{get:function(){var a=
this.ia.Ka();return a?a.toString():""}},fillColor:{set:function(a){z(this.ia,x(a))},get:function(){return G.To(this.ia.widgets[0].backgroundColor)},enumerable:!0},textColor:{set:function(a){this.ia.font.fillColor=x(a)},get:function(){return G.To(this.ia.font.fillColor)},enumerable:!0},bgColor:{set:function(a){z(this.ia,x(a))},get:function(){return G.To(this.ia.widgets[0].backgroundColor)},enumerable:!0},numItems:{get:function(){return(this.ia.Of()||[]).length},enumerable:!0},charLimit:{set:function(a){a=
Number(a);_.isNaN(a)||(this.ia.maxLen=a)},get:function(){return this.ia.maxLen},enumerable:!0},hidden:{set:function(a){this.ia.Ie(!a)},get:function(){return this.ia.widgets[0].hidden},enumerable:!0},display:{set:function(a){a===M.display.visible||a===M.display.GK?this.ia.Ie(!0):a!==M.display.hidden&&a!==M.display.HK||this.ia.Ie(!1)},get:function(){return this.ia.widgets[0].hidden},enumerable:!0},userName:{set:function(a){this.ia.userName=a;this.ia.Tr()},get:function(){return this.ia.userName},enumerable:!0},
type:{get:function(){switch(this.ia.type){case "Tx":return"text";case "Btn":return this.ia.flags.get("PushButton")?"button":this.ia.flags.get("Radio")?"radiobutton":"checkbox";case "Ch":return this.ia.flags.get("Combo")?"combobox":"listbox";case "Sig":return"signature"}return null},enumerable:!0},currentValueIndices:{get:function(){for(var a=this.ia.Of(),b=this.ia.value,c=0;c<a.length;++c)if(a[c].value===b)return c;return-1},enumerable:!0}});E.prototype={get:function(a){a=this.Qy(a);a=this.cz[a];
return _.isUndefined(a)?null:a},set:function(a){this.cz[this.Qy(a)]=a}};G.To=function(a){return a?0!==a.A?["RGB",a.R/255,a.G/255,a.B/255]:["T"]:["T"]};G.Dx=function(b){var c=b.Ic().$i(),d={getField:function(a){return(a=c.jb(a))?new G.em(a):null},submitForm:function(c,d,e,f){_.isUndefined(d)&&(d=!0);(new a.Actions.ki({url:c,format:d?"fdf":"xfdf",includeEmpty:!!e,fields:f||[]})).onTriggered(null,null,b)},resetForm:function(c){(new a.Actions.gi({fields:c})).onTriggered(null,null,b)},calculateNow:function(){c.Xm(null)},
getNthFieldName:function(a){var b,d=0;c.rn(function(c){d===a&&(b=c.name);++d});return b}};Object.defineProperties(d,{calculate:{set:function(a){c.Ll=!!a},get:function(){return c.Ll},enumerable:!0},numPages:{get:function(){return b.Tb()},enumerable:!0},pageNum:{get:function(){return b.Dh()-1},set:function(a){b.Md(a+1)},enumerable:!0},numFields:{get:function(){var a=0;c.rn(function(){++a});return a},enumerable:!0}});return d};B.prototype={Gk:function(){},Dl:function(){},pc:function(){this.jp.forEach(function(a){a()})},
lx:function(a){return a},ox:function(a){return a},vs:function(a){return a},cE:function(a){return a},dE:function(a){return a},bE:function(a){return a},aE:function(a){return a},Tl:function(a){var b=null;if(_.isArray(a))b=this.aE(a);else if(_.isNull(a))b=null;else switch(typeof a){case "object":b=this.ox(a);break;case "function":b=this.vs(a);break;case "number":b=this.cE(a);break;case "string":b=this.dE(a);break;case "boolean":b=this.bE(a);break;case "undefined":b=void 0;break;default:console.warn("unrecognised type: "+
typeof a)}return b},wrap:function(a,b){var c=this.bz[a];if(c){var d=c.get(b);if(!_.isNull(d))return d}d=this.pj(a,b);d=this.Tl(d);c&&c.set(d);return d},pj:function(a,b){var c=this.bz[a];if(c){var d=c.get(b);if(!_.isNull(d))return d}if(d=this.rG[a])return d=d(b),c&&c.set(d),d;console.warn(a+" is not a valid normalisable PDFJS type",b);return{}},AN:function(a){0<this.vm?this.jp.push(a):a()},VM:function(){this.vm+=1},rI:function(){--this.vm;if(0===this.vm){var a=this.jp;this.jp=[];a.forEach(function(a){a()})}},
LI:function(){return this.ox($.extend({},M))}};G.aO=M;var P=eval;w.prototype=$.extend(Object.create(B.prototype),{Sm:function(b){b=this.pj("Doc",b);for(var c=Object.keys(b),d=0;d<c.length;++d){var e=c[d];Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(b,e))}},Gk:function(a){return function(b){I=b;P("with(_PDFTRON_JS_API){"+a+"\n}");I=null}},Dl:function(b,c,d){a.event=c;this.yi||(this.Sm(d),this.yi=!0);var e=N;N=d;try{b(this.wrap("Event",c),this.wrap("Doc",d))}catch(f){console.warn("PDFJS error encountered: "+
f+" "+b.Sn)}N=e}});(function(){B.call(this);this.rg=continuum.cP();this.yi=!1;for(var a=Object.keys(M),b=0;b<a.length;++b)this.rg.global.Jx(a[b],this.Tl(M[a[b]]))}).prototype=$.extend(Object.create(B.prototype),{Gk:function(a){return continuum.dP(a)},Sm:function(a){a=this.pj("Doc",a);for(var b=Object.keys(a),c=0;c<b.length;++c)this.rg.global.Jx(b[c],this.Tl(a[b[c]]))},Dl:function(a,b,c){this.yi||(this.Sm(c),this.yi=!0);b=this.pj("Event",b);c=this.Tl(b);this.rg.global.Jx("event",c);I=b;this.rg.evaluate(a);
I=null},lx:function(a){var b=this;if(_.isObject(a)){if(a.$G)return a.$G.map(function(a){return b.lx(a)});console.warn("object argument: ",a)}return a},vs:function(a){var b=this;return continuum.Iu(function(){var c=Array.prototype.map.call(arguments,function(a){return b.lx(a)});return b.Tl(a.apply(null,c))})},cE:function(a){return this.rg.evaluate(JSON.stringify(a))},dE:function(a){return this.rg.evaluate(JSON.stringify(a))},bE:function(a){return this.rg.evaluate(JSON.stringify(a))},aE:function(a){var b=
this.rg.evaluate("new Array()");console.warn("array:",b);return a},ox:function(a){for(var b=this.rg.evaluate("Object.create(null)"),c=Object.keys(a),d=c.length,e=0;e<d;++e){var f=c[e],g=Object.getOwnPropertyDescriptor(a,f),h={Enumerable:g.enumerable,Writeable:g.writeable};_.isUndefined(g.value)||(h.Value=this.Tl(g.value));_.isUndefined(g.set)||(h.Set=this.vs(g.set));_.isUndefined(g.get)||(h.Get=this.vs(g.get));b.XN(f,h)}return b}});var L=!0;a.o.RH=function(){L=!1};y.prototype=$.extend(Object.create(B.prototype),
{Gk:function(a){if(L)try{var b=this.Qm.__add_action(a);b.Sn=a;return b}catch(c){console.warn("Failed to compile PDFJS script")}},Sm:function(a){a=this.pj("Doc",a);for(var b=Object.keys(a),c=0;c<b.length;++c){var d=b[c];Object.defineProperty(this.Qm,d,Object.getOwnPropertyDescriptor(a,d))}},pc:function(){B.prototype.pc.call(this);this.Cm&&this.Cm.remove()},Dl:function(a,b,c){if(L){this.yi||(this.Sm(c),this.yi=!0);var d=N;N=c;b=this.pj("Event",b);this.Qm.event=b;c=I;I=b;try{a()}catch(e){console.warn("PDFJS error encountered: ",
e,a&&a.Sn)}I=c;N=d}}});G.UN=w;G.BH=function(){return new y}})(window);(function(a){if(a&&a.Worker){var d=a.Worker;a.Wg=a.Wg||[];a.Wg.HD||(a.Wg.HD=function(){for(var c=a.Wg.length-1;0<=c;c--)a.Wg[c].terminate(),delete a.Wg[c]});a.Worker.isFake||(a.Worker=function(c){c=new d(c);a.Wg.push(c);return c},a.JE=function(a){return a instanceof d},a.Worker.isFake=!0)}})(window);window.addEventListener("unload",function(){window.Wg&&window.Wg.HD()});
(function(a){function d(){}function c(b){this.size=b;this.Xc=Array(this.size);for(b=0;b<this.size;b++)this.Xc[b]={If:a.o.Ja.nk(1,1,1),lw:a.o.Ja.nk(1,1,1),vu:null,rj:[],er:!1}}function f(a){var b=a.width;a.width=1;a.width=b}var b={nt:"ViewportCanvas",Hx:"PageCanvas"};c.prototype={Mq:function(a,b,c){b=c&&1<b?0===a?0:Math.floor((a+1)/b):Math.floor(a/b);c=null;for(var d=0;d<this.size;d++){if(this.Xc[d].vu===b)return-1===this.Xc[d].rj.indexOf(a)&&this.Xc[d].rj.push(a),this.Xc[d].er=!0,this.Xc[d];this.Xc[d].er||
(c=this.Xc[d])}return c?(c.vu=b,c.rj.push(a),c.er=!0,c):null},xl:function(a){for(var b=0;b<this.size;b++){var c=this.Xc[b].rj,d=c.indexOf(a),e=!1;-1<d&&(c.splice(d,1),e=!0);if(e&&0===c.length){this.Rz(this.Xc[b]);break}}},fo:function(){for(var a=0;a<this.size;a++)this.Rz(this.Xc[a])},Rz:function(a){a.vu=null;a.er=!1;$(a.If).removeAttr("style").removeClass();$(a.lw).removeAttr("style").removeClass();f(a.If);a.If.getContext("2d").clearRect(0,0,a.If.width,a.If.height);a.rj=[]},ZM:function(a,b,c){a=this.Mq(a,
c,this.jr);_.isNull(b)&&(b=a.lw);a.lw=a.If;a.If=b}};d.prototype={Gj:!1,dD:function(){},init:function(){var b=a.innerWidth,d=a.innerHeight;this.Xc=new c(3);this.fq=new c(3);this.le=this.nk(b,d,1);this.bo=1},ms:function(a,b){this.bo=a;this.jr=b},Bu:function(){var a=this.le.getContext("2d");a.restore();a.clearRect(0,0,this.le.width,this.le.height);this.le.getAttribute("style");this.le.removeAttribute("style")},as:function(a,b){this.Xc.ZM(a,b,this.bo)},xl:function(a){this.Xc.xl(a);this.fq.xl(a)},fo:function(){this.Xc.fo();
this.fq.fo()},Mm:function(b,c,d){var e=$(b);c=Math.floor(c);d=Math.floor(d);var f=""===b.style.height||1<Math.abs(parseInt(b.style.height,10)-d);if(""===b.style.width||1<Math.abs(parseInt(b.style.width,10)-c)||f){var f=a.utils.getCanvasMultiplier(),g=Math.floor(d*f);b.setAttribute("width",Math.floor(c*f));b.setAttribute("height",g);e.css("width",c);e.css("height",d)}},nk:function(a,b,c,d){if("undefined"===typeof d||null===d)d=document.createElement("canvas");this.Mm(d,a,b);return"undefined"===typeof d.getContext("2d")?
null:d},$F:function(a,b,c,d){var e=1,f=null,g=a;if(1>=a*c||1>=b*c)f=this.nk(1,1,1);var v=a/b;64E6<a*b&&(b=Math.sqrt(64E6/v),e=v*b/a,a=v*b);v=null;for("undefined"===typeof d&&(d=.25);null===f;){var v=this.nk(Math.ceil(a*e),Math.ceil(b*e),c,v),r=v.getContext("2d");r.fillStyle="white";r.fillRect(v.width-1,v.height-1,1,1);r=!(1>window.devicePixelRatio)&&(v.width<parseFloat(v.style.width)||v.height<parseFloat(v.style.height));if(null!==v&&0<this.gG(v)&&!r)f=v;else if(e-=d,0>=e)return console.error("No canvas could be created"),
null}1>e&&(a="scale("+g/parseFloat(f.style.width)+")",$(f).css({transform:a,"transform-origin":"top left","ms-transform":a,"ms-transform-origin":"top left","-moz-transform":a,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":a,"-o-transform":a,"-o-transform-origin":"top left"}));$(f).css("position","absolute");f.getContext("2d").clearRect(f.width-1,f.height-1,1,1);return f},gG:function(a){return a.getContext("2d").getImageData(a.width-1,a.height-1,1,1).data[3]},
zu:function(a,b,c){if(!a)throw Error("Canvas not defined");b=b||a.width;c=c||a.height;a.getContext("2d").clearRect(0,0,b,c)},eB:function(b,c,d,e,f,g){if(b!==this.le)throw Error("Canvas drawing error");var q=this.Xc.Mq(c,this.bo,this.jr);b=q.If;this.Mm(b,parseFloat(this.le.style.width),parseFloat(this.le.style.height));q=q.rj.sort(function(a,b){return a-b});c<=q[0]&&(b.width=b.width);c=a.utils.getCanvasMultiplier();d=a.Pc(d,e,g,f,!0,c);e=b.getContext("2d");e.save();e.transform(d.m_a,d.m_b,d.m_c,d.m_d,
d.m_h,d.m_v);e.fillStyle="white";e.fillRect(0,0,g.width,g.height);e.restore();e.drawImage(this.le,0,0);this.Bu();return b},qo:function(b,c,d,e){this.Mm(this.le,a.innerWidth,a.innerHeight);var f=a.utils.getCanvasMultiplier();c=a.Pc(c,d,b,e,!0,f);d=this.le.getContext("2d");d.restore();d.save();d.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v);a.utils.canvasClipBug||(d.beginPath(),d.rect(0,0,b.width,b.height),d.clip());return{canvas:this.le,ctx:d,t:c}},Wm:function(a,b){var c=document.getElementById("pageContainer"+
b);if(!c)return null;var d=$(a);d.css({"z-index":"20"});d.addClass("hacc canvas"+b);return c.parentNode},mG:function(a,b,c){a=this.fq.Mq(a,this.bo,this.jr).If;this.Mm(a,b,c);return a},Vi:function(b,c,d,e,f,g,q){b=$("#pageContainer"+b).parent().find(".auxiliary")[0];if(_.isUndefined(b))return null;g=b.getContext("2d");g.restore();g.save();var v=a.utils.getCanvasMultiplier();if(1===q||3===q)c={width:c.height,height:c.width};d=a.Pc(d,(e+q||0)%4,c,f,!0,v);g.setTransform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,
d.m_v);a.utils.canvasClipBug||(g.beginPath(),g.rect(0,0,c.width,c.height),g.clip());return b},cq:function(b,c,d,e){var g=document.getElementById("pageContainer"+b);if(!g)return null;g=$(g).parent();if(0<g.find(".auxiliary").length)c=this.fq.Mq(b,this.bo,this.jr),e=c.rj.sort(function(a,b){return a-b}),b<=e[0]&&f(c.If);else{var n=a.innerWidth,q=this.mG(b,n,a.innerHeight);b=$(q);b.addClass("auxiliary");b.css({"z-index":"30",position:"absolute",display:""});g.append(q);b=q.getContext("2d");d*=parseFloat(q.style.width)/
n;n=a.utils.getCanvasMultiplier();c=a.Pc(d,e,c,null,!0,n);b.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v);return g[0]}},AB:function(a){return $("#pageContainer"+a).parent()},Iv:function(a){return $("#pageWidgetContainer"+a)}};var e=new d,g=new d;$.extend(g,{Gj:!0,dD:function(a){this.Gj=1<a},init:function(){},ms:function(){},Bu:function(){},as:function(){},xl:function(){},fo:function(){},zu:function(a){if(!a)throw Error("Canvas not defined");var b=a.getContext("2d");b.save();b.setTransform(1,0,0,
1,0,0);b.clearRect(0,0,a.width,a.height);b.restore()},eB:function(a){return a},qo:function(b,c,d,e,f,g){var q=!1;if(d===a.o.Ea.ce||d===a.o.Ea.Ue)q=!0;(e=!_.isUndefined(g))?(f=(q?g.y2-g.y1:g.x2-g.x1)*c,q=(q?g.x2-g.x1:g.y2-g.y1)*c):(f=q?b.height*c:b.width*c,q=q?b.width*c:b.height*c);var v,q=this.nk(f,q,c);v=parseFloat(q.style.width);var r=a.utils.getCanvasMultiplier();b=a.Pc(v/f*c,d,e?g:b,{x:0,y:0},!0,r);c=q.getContext("2d");a.dv||(q.style.backgroundColor="white");c.transform(b.m_a,b.m_b,b.m_c,b.m_d,
b.m_h,b.m_v);return{canvas:q,ctx:c,t:b}},Wm:function(a,b){var c=document.getElementById("pageContainer"+b);if(!c)return null;$(c).find(".canvas"+b).remove();var d=a.DQ,e=$(a);e.css({"z-index":"20",position:"absolute"});e.addClass("hacc canvas"+b);_.isUndefined(d)||e.css("top",function(a){return a*d});$(c).append(e);return c},My:function(a){return{width:a.x2-a.x1,height:a.y2-a.y1}},iz:function(b,c){var d=!1;if(c===a.o.Ea.ce||c===a.o.Ea.Ue)d=!0;return{width:d?b.height:b.width,height:d?b.width:b.height}},
Vi:function(b,c,d,e,f,g,q){b=$("#pageContainer"+b).find(".auxiliary");if(0<b.length){if(g){var v=b[0].getContext("2d");v.restore();v.save();var r=a.utils.getCanvasMultiplier(),u=this.iz(this.My(g),e),x=Math.round(u.width*d),u=Math.round(u.height*d),z=parseFloat(b.css("width")),E=parseFloat(b.css("height"));b.css({left:f.x,top:f.y});(1<Math.abs(z-x)||1<Math.abs(E-u))&&b.attr({width:x*r,height:u*r}).css({width:x,height:u});if(g&&q){f=c.width;x=c.height;if(1===q||3===q)f=c.height,x=c.width;c=a.Pc(1,
q,{width:f,height:x},null,!1).inverse();g=a.utils.normalizeRect(c.W({x:g.x1,y:g.y1}),c.W({x:g.x2,y:g.y2}))}d=a.Pc(d,(e+(q||0))%4,g,null,!0,r);v.setTransform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v)}return b[0]}return null},cq:function(b,c,d,e,f){b=document.getElementById("pageContainer"+b);if(!b)return null;b=$(b);if(!(0<b.find(".auxiliary").length)){var g;f?(g=this.My(f),f=g.width,g=g.height):(f=c.width,g=c.height);g=this.iz({width:f,height:g},e);f=g.width*d;g=this.$F(f,g.height*d,d,.2);var q=$(g);q.addClass("auxiliary");
q.css({"z-index":"30",position:"absolute"});b.prepend(g);b=g.getContext("2d");b.clearRect(0,0,g.width,g.height);c=a.Pc(parseFloat(g.style.width)/f*d,e,c);b.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v)}},AB:function(a){return $("#pageContainer"+a)},Iv:function(a){return $("#pageWidgetContainer"+a)}});a.o.zF=function(c){if(c===b.nt)a.o.Ja=e;else if(c===b.Hx)a.o.Ja=g;else throw Error("Invalid Canvas Manager type");a.o.Ja.init()};a.o.am=b;a.o.Ja=g;a.o.Ja.init()})(window);
(function(a){function d(b,d,g,l){for(var k=d.password||d.p,h=d.type.toUpperCase(),m=c.length,p,n=0;n<m;n++)c[n].done&&(p=c[n]);!p&&4>m&&(p={done:!1,worker:new Worker(a.o.dj()+"DecryptWorker.js"),callback:l},c[m]=p,p.worker.addEventListener("message",function(a){if(a.data.error)throw d.error&&d.error(a.data.error),Error(a.data.error);p.callback(a.data);0<f.length?(a=f[0],f.shift(),p.done=!1,p.callback=a.callback,p.worker.postMessage({data:a.data,password:a.password,partName:a.sj,type:h})):(p.callback=
null,p.done=!0)}));p?(p.done=!1,p.callback=l,p.worker.postMessage({data:b,password:k,partName:g,type:h})):f.push({data:b,password:k,sj:g,type:h,callback:l})}var c=[],f=[];a.o=a.o||{};a.o.hg=a.o.hg||{};a.o.hg.decrypt=function(b,c,f,l){b=a.Wi(b);d(b,c,f,l)};a.o.hg.hA=function(b,c,d){b=a.Wi(b);var f=c.password||c.p;switch(c.type.toUpperCase()){case "AES":b=a.gA(b,f,d);break;default:b=a.gA(b,f,d)}if(b.error)throw c.error&&c.error(b.error),Error(b.error);return b}})(window);
(function(a){a.gA=function(a,c,f){for(var b=[],e=0;16>e;++e){b[e]=e;e<c.length&&(b[e]|=c.charCodeAt(e));var g=f.length+e-16;0<=g&&(b[e]|=f.charCodeAt(g))}c=[];for(f=0;16>f;++f)c.push(a.charCodeAt(f));a=a.slice(16);b=forge.aes.startDecrypting(b,c);b.update(forge.util.createBuffer(a));return b.finish()?b.output.data:{error:"Bad password or file corrupt"}}})(self);
(function(a){var d,c,f,b={};a.o.GQ=function(a){a.indexOf("/")!==a.length-1&&(a+="/");f=a};a.o.lB=function(){return f?f:a.o.dj()+"office/"};a.o.YA=function(){return b.Hz};a.o.FC=function(d,f,l){_.isUndefined(l)&&(l={});l.workerId="office_pnacl_module";l.pnaclWorkerPath=window.o.lB()+(a.qs?"WebOfficeWorkerSubzero.nmf":"WebOfficeWorker.nmf");l.emsWorkerPath=window.o.lB()+"WebOfficeWorker.js";l.$D=b;c=a.o.HC(d,f,l)};a.o.BL=function(a){c=Promise.resolve(a);d=null};a.o.OB=function(){};a.o.VJ=function(b,
f,l){c||a.o.FC(b,f);if(!d){var k;d=Promise.all([a.o.jm.hB(l),c]).then(function(b){k=new a.o.XE(b[1],a.o.iJ(),{l:b[0]});return k.nx}).then(function(){return k})}return d}})("undefined"===typeof window?this:window);
(function(a){a.GetPageMatrix=a.Pc;a.CoreControls=function(){};a.CoreControls.setWorkerPath=a.o.JM;a.CoreControls.getWorkerPath=a.o.dj;a.CoreControls.setPDFWorkerPath=a.o.pM;a.CoreControls.getPDFWorkerPath=a.o.Sq;a.CoreControls.setPDFResourcePath=a.o.oM;a.CoreControls.getPDFResourcePath=a.o.nB;a.CoreControls.setAdvancedImageScaling=a.o.WL;a.CoreControls.setProgressiveTime=a.o.xM;a.CoreControls.preloadPDFWorker=a.o.GC;a.CoreControls.initPDFWorkerTransports=a.o.Sv;a.CoreControls.getDefaultBackendType=
a.o.$A;a.CoreControls.getDefaultPdfBackendType=a.o.$A;a.CoreControls.getCurrentPDFBackendType=a.o.ZA;a.CoreControls.getCurrentOfficeBackendType=a.o.YA;a.CoreControls.resetWorker=a.o.CL;a.CoreControls.resetOfficeWorker=a.o.BL;a.CoreControls.isDemoMode=a.o.OB;a.CoreControls.setEmscriptenHeapSize=a.o.aM;a.CoreControls.setCustomFontURL=a.o.es;a.CoreControls.disableEmbeddedJavaScript=a.o.RH;a.CoreControls.enableSubzero=a.o.fI;a.CoreControls.isSubzeroEnabled=a.o.UB;a.CoreControls.preloadOfficeWorker=a.o.FC;
a.CoreControls.initOfficeWorkerTransports=a.o.VJ;a.XODText=XODText;a.XODText.ResultCode=XODText.Bb;a.XODText.ResultCode.e_done=XODText.Bb.Si;a.XODText.ResultCode.e_page=XODText.Bb.yq;a.XODText.ResultCode.e_found=XODText.Bb.kn;a.XODText.Quad=XODText.fb;a.XODText.Quad.prototype.getPoints=XODText.fb.prototype.Qf;a.XODText.Quad.prototype.getNormalizedPoints=XODText.fb.prototype.ZI;a.XODText.Matrix2D=XODText.Ia;a.XODText.Matrix2D.prototype.initMatrix=XODText.Ia.prototype.il;a.XODText.Matrix2D.prototype.initCoordinates=
XODText.Ia.prototype.Qa;a.XODText.Matrix2D.prototype.mult=XODText.Ia.prototype.W;a.XODText.Point2D=XODText.Qc;a.CoreControls.Encryption=a.o.hg;a.CoreControls.Encryption.decrypt=a.o.hg.decrypt;a.CoreControls.Encryption.decryptSynchronous=a.o.hg.hA;a.CoreControls.PartRetrievers=function(){};a.CoreControls.PartRetrievers.PartRetriever=a.o.V.sf;a.CoreControls.PartRetrievers.PartRetriever.prototype.setErrorCallback=a.o.V.sf.prototype.bM;a.CoreControls.PartRetrievers.PartRetriever.prototype.setCustomHeaders=
a.o.V.sf.prototype.Lw;a.CoreControls.PartRetrievers.CacheHinting=a.o.V.$h;a.CoreControls.PartRetrievers.CacheHinting.NEVER_CACHE=a.o.V.$h.Us;a.CoreControls.PartRetrievers.CacheHinting.CACHE=a.o.V.$h.vx;a.CoreControls.PartRetrievers.CacheHinting.NO_HINT=a.o.V.$h.PE;a.CoreControls.PartRetrievers.LocalPartRetriever=a.o.V.LE;a.CoreControls.PartRetrievers.HttpPartRetriever=a.o.V.hm;a.CoreControls.PartRetrievers.HttpPartRetriever.prototype.requestDocument=a.o.V.sf.prototype.Yr;a.CoreControls.PartRetrievers.HttpPartRetriever.prototype.request=
a.o.V.sf.prototype.request;a.CoreControls.PartRetrievers.ExternalHttpPartRetriever=a.o.V.Ms;a.CoreControls.PartRetrievers.ExternalPdfPartRetriever=a.o.V.Ns;a.CoreControls.PartRetrievers.ExternalPdfPartRetriever.prototype.setCustomHeaders=a.o.V.Ns.prototype.Lw;a.CoreControls.PartRetrievers.ExternalPdfPartRetriever.prototype.getFileData=a.o.V.Ns.prototype.getFileData;a.CoreControls.PartRetrievers.ArrayBufferPdfPartRetriever=a.o.V.hE;a.CoreControls.PartRetrievers.LocalPdfPartRetriever=a.o.V.ME;a.CoreControls.PartRetrievers.StreamingPartRetriever=
a.o.V.Qx;a.CoreControls.PartRetrievers.WebDBPartRetriever=a.o.V.sm;a.CoreControls.PartRetrievers.AndroidContentPartRetriever=a.o.V.gE;a.CoreControls.PartRetrievers.AzurePartRetriever=a.o.V.kE;a.CoreControls.PartRetrievers.IOSPartRetriever=a.o.V.im;a.CoreControls.PartRetrievers.IOSPartRetriever.partSuccess=a.o.V.im.rw;a.CoreControls.PartRetrievers.IOSPartRetriever.partFail=a.o.V.im.qw;a.CoreControls.PartRetrievers.WinRTPartRetriever=a.o.V.um;a.CoreControls.PartRetrievers.WinRTPartRetriever.partSuccess=
a.o.V.um.rw;a.CoreControls.PartRetrievers.WinRTPartRetriever.partFail=a.o.V.um.qw;a.CoreControls.CanvasMode=a.o.am;a.CoreControls.CanvasMode.ViewportCanvas=a.o.am.nt;a.CoreControls.CanvasMode.PageCanvas=a.o.am.Hx;a.CoreControls.SetCanvasMode=a.o.zF;a.CoreControls.Bookmark=a.o.Ne;a.CoreControls.Bookmark.prototype.getName=a.o.Ne.prototype.getName;a.CoreControls.Bookmark.prototype.getVPos=a.o.Ne.prototype.AJ;a.CoreControls.Bookmark.prototype.getHPos=a.o.Ne.prototype.NI;a.CoreControls.Bookmark.prototype.getPageNumber=
a.o.Ne.prototype.sc;a.CoreControls.Bookmark.prototype.getURL=a.o.Ne.prototype.zJ;a.CoreControls.Bookmark.prototype.getParent=a.o.Ne.prototype.getParent;a.CoreControls.Bookmark.prototype.getChildren=a.o.Ne.prototype.WA;a.CoreControls.Bookmark.prototype.isValid=a.o.Ne.prototype.isValid;a.CoreControls.Document=a.o.Document;a.CoreControls.Document.prototype.getBookmarks=a.o.Document.prototype.Vk;a.CoreControls.Document.prototype.getLayers=a.o.Document.prototype.GP;a.CoreControls.Document.prototype.getLinks=
a.o.Document.prototype.Cn;a.CoreControls.Document.prototype.loadThumbnailAsync=a.o.Document.prototype.pl;a.CoreControls.Document.prototype.includesThumbnails=a.o.Document.prototype.gj;a.CoreControls.Document.prototype.loadPageText=a.o.Document.prototype.bw;a.CoreControls.Document.prototype.refreshTextData=a.o.Document.prototype.pL;a.CoreControls.Document.prototype.getTextPosition=a.o.Document.prototype.Dv;a.CoreControls.Document.prototype.extractXFDF=a.o.Document.prototype.Rk;a.CoreControls.Document.prototype.loadCanvasAsync=
a.o.Document.prototype.Lg;a.CoreControls.Document.prototype.pauseLoadCanvas=a.o.Document.prototype.Nr;a.CoreControls.Document.prototype.resumeLoadCanvas=a.o.Document.prototype.$r;a.CoreControls.Document.prototype.cancelLoadCanvas=a.o.Document.prototype.wg;a.CoreControls.Document.prototype.cancelLoadThumbnail=a.o.Document.prototype.Dk;a.CoreControls.Document.prototype.unloadCanvasResources=a.o.Document.prototype.zo;a.CoreControls.Document.prototype.getPageInfo=a.o.Document.prototype.bd;a.CoreControls.Document.prototype.getPageMatrix=
a.o.Document.prototype.Ae;a.CoreControls.Document.prototype.getPageCount=a.o.Document.prototype.Tb;a.CoreControls.Document.prototype.getPDFCoordinates=a.o.Document.prototype.Rq;a.CoreControls.Document.prototype.getXODCoordinates=a.o.Document.prototype.br;a.CoreControls.Document.prototype.getViewerCoordinates=a.o.Document.prototype.Hv;a.CoreControls.Document.prototype.loadAsync=a.o.Document.prototype.Kg;a.CoreControls.Document.prototype.unloadResources=a.o.Document.prototype.Ke;a.CoreControls.Document.prototype.initOfflineDB=
a.o.Document.prototype.jl;a.CoreControls.Document.prototype.storeOffline=a.o.Document.prototype.uo;a.CoreControls.Document.prototype.isDownloaded=a.o.Document.prototype.jj;a.CoreControls.Document.prototype.getOfflineModeEnabled=a.o.Document.prototype.Fn;a.CoreControls.Document.prototype.setOfflineModeEnabled=a.o.Document.prototype.oo;a.CoreControls.Document.prototype.cancelOfflineModeDownload=a.o.Document.prototype.Zm;a.CoreControls.Document.prototype.getFileData=a.o.Document.prototype.getFileData;
a.CoreControls.Document.prototype.onJSCompletion=a.o.Document.prototype.KK;a.CoreControls.Document.prototype.insertPages=a.o.Document.prototype.kl;a.CoreControls.Document.prototype.getPDFDoc=a.o.Document.prototype.Zk;a.CoreControls.Document.prototype.getLayersArray=a.o.Document.prototype.Xk;a.CoreControls.Document.prototype.setLayersArray=a.o.Document.prototype.hs;a.CoreControls.Document.prototype.setOverprintPreviewMode=a.o.Document.prototype.ls;a.CoreControls.Document.prototype.extractPDFNetLayersContext=
a.o.Document.prototype.Pk;a.CoreControls.Document.prototype.insertBlankPages=a.o.Document.prototype.Mn;a.CoreControls.Document.prototype.removePages=a.o.Document.prototype.yl;a.CoreControls.Document.prototype.movePages=a.o.Document.prototype.Yn;a.CoreControls.Document.prototype.rotatePages=a.o.Document.prototype.Cl;a.CoreControls.Document.prototype.extractPages=a.o.Document.prototype.Qk;a.CoreControls.Document.prototype.cropPages=a.o.Document.prototype.Ik;a.CoreControls.Document.prototype.print=a.o.Document.prototype.print;
a.CoreControls.Document.prototype.documentCompletePromise=a.o.Document.prototype.Ag;a.CoreControls.Document.prototype.setWatermark=a.o.Document.prototype.Dj;a.CoreControls.Document.prototype.getOfficeResources=a.o.Document.prototype.Pq;a.CoreControls.PageRotation=a.o.Ea;a.CoreControls.PageRotation.e_0=a.o.Ea.Jf;a.CoreControls.PageRotation.e_90=a.o.Ea.ce;a.CoreControls.PageRotation.e_180=a.o.Ea.Lk;a.CoreControls.PageRotation.e_270=a.o.Ea.Ue;a.CoreControls.OverprintPreviewMode=a.o.Wo;a.CoreControls.OverprintPreviewMode.OFF=
a.o.Wo.RE;a.CoreControls.OverprintPreviewMode.ON=a.o.Wo.TE;a.CoreControls.OverprintPreviewMode.PDFX_ON=a.o.Wo.jF;a.CoreControls.SaveOptions=a.o.hi;a.CoreControls.SaveOptions.INCREMENTAL=a.o.hi.FE;a.CoreControls.SaveOptions.REMOVE_UNUSED=a.o.hi.kF;a.CoreControls.SaveOptions.HEX_STRINGS=a.o.hi.AE;a.CoreControls.SaveOptions.OMIT_XREF=a.o.hi.SE;a.CoreControls.SaveOptions.LINEARIZED=a.o.hi.KE;a.CoreControls.SaveOptions.COMPATIBILITY=a.o.hi.lE;a.CoreControls.DocumentViewer=a.o.ba;a.CoreControls.DocumentViewer.prototype.loadAsync=
a.o.ba.prototype.Kg;a.CoreControls.DocumentViewer.prototype.dispose=a.o.ba.prototype.pc;a.CoreControls.DocumentViewer.prototype.FitMode=function(){};a.CoreControls.DocumentViewer.prototype.FitMode.FitWidth=a.o.ba.prototype.nf.Ps;a.CoreControls.DocumentViewer.prototype.FitMode.FitPage=a.o.ba.prototype.nf.Bx;a.CoreControls.DocumentViewer.prototype.FitMode.Zoom=a.o.ba.prototype.nf.Zoom;a.CoreControls.DocumentViewer.prototype.displayLastPage=a.o.ba.prototype.WH;a.CoreControls.DocumentViewer.prototype.displayFirstPage=
a.o.ba.prototype.VH;a.CoreControls.DocumentViewer.prototype.setCurrentPage=a.o.ba.prototype.Md;a.CoreControls.DocumentViewer.prototype.getCurrentPage=a.o.ba.prototype.Dh;a.CoreControls.DocumentViewer.prototype.setRightToLeftPages=a.o.ba.prototype.AM;a.CoreControls.DocumentViewer.prototype.getRightToLeftPages=a.o.ba.prototype.Cv;a.CoreControls.DocumentViewer.prototype.getZoom=a.o.ba.prototype.Fg;a.CoreControls.DocumentViewer.prototype.getPageCount=a.o.ba.prototype.Tb;a.CoreControls.DocumentViewer.prototype.setFitMode=
a.o.ba.prototype.Mw;a.CoreControls.DocumentViewer.prototype.getFitMode=a.o.ba.prototype.KI;a.CoreControls.DocumentViewer.prototype.zoomTo=a.o.ba.prototype.sx;a.CoreControls.DocumentViewer.prototype.zoomToMouse=a.o.ba.prototype.QN;a.CoreControls.DocumentViewer.prototype.setToolMode=a.o.ba.prototype.ns;a.CoreControls.DocumentViewer.prototype.getToolMode=a.o.ba.prototype.Zq;a.CoreControls.DocumentViewer.prototype.getToolModeMap=a.o.ba.prototype.uJ;a.CoreControls.DocumentViewer.prototype.getTool=a.o.ba.prototype.cj;
a.CoreControls.DocumentViewer.prototype.rotateClockwise=a.o.ba.prototype.GL;a.CoreControls.DocumentViewer.prototype.rotateCounterClockwise=a.o.ba.prototype.HL;a.CoreControls.DocumentViewer.prototype.textSearchInit=a.o.ba.prototype.ex;a.CoreControls.DocumentViewer.prototype.SearchMode=function(){};a.CoreControls.DocumentViewer.prototype.SearchMode.e_case_sensitive=XODText.wb.uA;a.CoreControls.DocumentViewer.prototype.SearchMode.e_whole_word=XODText.wb.xA;a.CoreControls.DocumentViewer.prototype.SearchMode.e_search_up=
XODText.wb.Vu;a.CoreControls.DocumentViewer.prototype.SearchMode.e_page_stop=XODText.wb.wA;a.CoreControls.DocumentViewer.prototype.SearchMode.e_highlight=XODText.wb.vA;a.CoreControls.DocumentViewer.prototype.SearchMode.e_ambient_string=XODText.wb.tA;a.CoreControls.DocumentViewer.prototype.displayBookmark=a.o.ba.prototype.UH;a.CoreControls.DocumentViewer.prototype.getDocument=a.o.ba.prototype.getDocument;a.CoreControls.DocumentViewer.prototype.getSelectedText=a.o.ba.prototype.Yq;a.CoreControls.DocumentViewer.prototype.setTextHighlightColor=
a.o.ba.prototype.GM;a.CoreControls.DocumentViewer.prototype.displaySearchResult=a.o.ba.prototype.oA;a.CoreControls.DocumentViewer.prototype.scrollViewUpdated=a.o.ba.prototype.QL;a.CoreControls.DocumentViewer.prototype.closeDocument=a.o.ba.prototype.Vz;a.CoreControls.DocumentViewer.prototype.setOptions=a.o.ba.prototype.xd;a.CoreControls.DocumentViewer.prototype.recalculateLayout=a.o.ba.prototype.MC;a.CoreControls.DocumentViewer.prototype.refreshAll=a.o.ba.prototype.nL;a.CoreControls.DocumentViewer.prototype.refreshPage=
a.o.ba.prototype.oL;a.CoreControls.DocumentViewer.prototype.printCurrentDocument=a.o.ba.prototype.wQ;a.CoreControls.DocumentViewer.prototype.getRenderingPipeline=a.o.ba.prototype.$k;a.CoreControls.DocumentViewer.prototype.setWatermark=a.o.ba.prototype.Dj;a.CoreControls.DocumentViewer.prototype.getWatermark=a.o.ba.prototype.BJ;a.CoreControls.RenderingPipeline=a.o.ak;a.CoreControls.RenderingPipeline.PipelineManager=a.o.ak.om;a.CoreControls.RenderingPipeline.PipelineManager.prototype.registerHandlers=
a.o.ak.om.prototype.zw;a.CoreControls.RenderingPipeline.PipelineManager.prototype.pushChange=a.o.ak.om.prototype.Ee;a.CoreControls.RenderingPipeline.PipelineManager.prototype.hasPipeline=a.o.ak.om.prototype.IJ;a.CoreControls.SetCachingLevel=a.o.bt;a.CoreControls.SetPreRenderLevel=a.o.Mx;a.CoreControls.DocumentViewer.prototype.getMargin=a.o.ba.prototype.iB;a.CoreControls.DocumentViewer.prototype.setMargin=a.o.ba.prototype.mM;a.CoreControls.DocumentViewer.prototype.updateView=a.o.ba.prototype.Fj;a.CoreControls.DocumentViewer.prototype.updateVisiblePages=
a.o.ba.prototype.Ql;a.CoreControls.DocumentViewer.prototype.stopPageRender=a.o.ba.prototype.Nl;a.CoreControls.DocumentViewer.prototype.setPagesPerCanvas=a.o.ba.prototype.ms;a.CoreControls.DocumentViewer.prototype.returnCanvas=a.o.ba.prototype.as;a.CoreControls.DocumentViewer.prototype.drawSelection=a.o.ba.prototype.dI;a.CoreControls.DocumentViewer.prototype.clearSelection=a.o.ba.prototype.cn;a.CoreControls.DocumentViewer.prototype.removeContent=a.o.ba.prototype.wj;a.CoreControls.DocumentViewer.prototype.select=
a.o.ba.prototype.select;a.CoreControls.DocumentViewer.prototype.getPageHeight=a.o.ba.prototype.Lc;a.CoreControls.DocumentViewer.prototype.getPageWidth=a.o.ba.prototype.Mc;a.CoreControls.DocumentViewer.prototype.setPageZoom=a.o.ba.prototype.Sw;a.CoreControls.DocumentViewer.prototype.getPageZoom=a.o.ba.prototype.Ib;a.CoreControls.DocumentViewer.prototype.getRotation=a.o.ba.prototype.Gd;a.CoreControls.DocumentViewer.prototype.setRotation=a.o.ba.prototype.BM;a.CoreControls.DocumentViewer.prototype.getCompleteRotation=
a.o.ba.prototype.de;a.CoreControls.DocumentViewer.prototype.getPageRotations=a.o.ba.prototype.cJ;a.CoreControls.DocumentViewer.prototype.setPageRotations=a.o.ba.prototype.rM;a.CoreControls.DocumentViewer.prototype.getAnnotationManager=a.o.ba.prototype.Ic;a.CoreControls.DocumentViewer.prototype.setInternalAnnotationsTransform=a.o.ba.prototype.hM;a.CoreControls.DocumentViewer.prototype.setPagesUpdatedInternalAnnotationsTransform=a.o.ba.prototype.uM;a.CoreControls.DocumentViewer.prototype.setPageVisibilityCallback=
a.o.ba.prototype.tM;a.CoreControls.DocumentViewer.prototype.getDisplayModeManager=a.o.ba.prototype.xn;a.CoreControls.DocumentViewer.prototype.setViewportRenderMode=a.o.ba.prototype.Xw;a.CoreControls.DocumentViewer.prototype.setRenderBatchSize=a.o.ba.prototype.nD;a.CoreControls.DisplayMode=a.o.Ad;a.CoreControls.DisplayMode.prototype.setParameters=a.o.Ad.prototype.vM;a.CoreControls.DisplayMode.prototype.isContinuous=a.o.Ad.prototype.Uv;a.CoreControls.DisplayMode.prototype.windowToPage=a.o.Ad.prototype.Uh;
a.CoreControls.DisplayMode.prototype.pageToWindow=a.o.Ad.prototype.De;a.CoreControls.DisplayMode.prototype.getSelectedPages=a.o.Ad.prototype.Xq;a.CoreControls.DisplayMode.prototype.getVisiblePages=a.o.Ad.prototype.Jd;a.CoreControls.DisplayMode.prototype.getPageTransform=a.o.Ad.prototype.Uq;a.CoreControls.DisplayMode.prototype.getPageOffset=a.o.Ad.prototype.wv;a.CoreControls.DisplayMode.prototype.createPageSections=a.o.Ad.prototype.bP;a.CoreControls.DisplayMode.prototype.setCustomFunctions=a.o.Ad.prototype.$L;
a.CoreControls.DisplayModes=a.o.Cc;a.CoreControls.DisplayModes.Single=a.o.Cc.Ox;a.CoreControls.DisplayModes.Continuous=a.o.Cc.cm;a.CoreControls.DisplayModes.Facing=a.o.Cc.zx;a.CoreControls.DisplayModes.FacingContinuous=a.o.Cc.Os;a.CoreControls.DisplayModes.Cover=a.o.Cc.No;a.CoreControls.DisplayModes.CoverFacing=a.o.Cc.Oo;a.CoreControls.DisplayModes.Custom=a.o.Cc.pe;a.CoreControls.DisplayModeManager=a.o.dm;a.CoreControls.DisplayModeManager.prototype.setDisplayMode=a.o.dm.prototype.gD;a.CoreControls.DisplayModeManager.prototype.getDisplayMode=
a.o.dm.prototype.ub;a.CoreControls.AnnotationManager=a.o.ga;a.CoreControls.AnnotationManager.prototype.addAnnotation=a.o.ga.prototype.Ef;a.CoreControls.AnnotationManager.prototype.addAnnotations=a.o.ga.prototype.Ii;a.CoreControls.AnnotationManager.prototype.deleteAnnotation=a.o.ga.prototype.Jk;a.CoreControls.AnnotationManager.prototype.deleteAnnotations=a.o.ga.prototype.Lu;a.CoreControls.AnnotationManager.prototype.selectAnnotation=a.o.ga.prototype.Fl;a.CoreControls.AnnotationManager.prototype.selectAnnotations=
a.o.ga.prototype.Gw;a.CoreControls.AnnotationManager.prototype.deselectAnnotation=a.o.ga.prototype.en;a.CoreControls.AnnotationManager.prototype.deselectAllAnnotations=a.o.ga.prototype.Zc;a.CoreControls.AnnotationManager.prototype.isAnnotationSelected=a.o.ga.prototype.hj;a.CoreControls.AnnotationManager.prototype.getSelectedAnnotations=a.o.ga.prototype.je;a.CoreControls.AnnotationManager.prototype.updateCopiedAnnotations=a.o.ga.prototype.nN;a.CoreControls.AnnotationManager.prototype.pasteCopiedAnnotations=
a.o.ga.prototype.VK;a.CoreControls.AnnotationManager.prototype.getAnnotationCopy=a.o.ga.prototype.jv;a.CoreControls.AnnotationManager.prototype.drawAnnotations=a.o.ga.prototype.$c;a.CoreControls.AnnotationManager.prototype.redrawAnnotation=a.o.ga.prototype.kc;a.CoreControls.AnnotationManager.prototype.drawAnnotationsFromList=a.o.ga.prototype.jn;a.CoreControls.AnnotationManager.prototype.updateAnnotation=a.o.ga.prototype.kN;a.CoreControls.AnnotationManager.prototype.jumpToAnnotation=a.o.ga.prototype.kK;
a.CoreControls.AnnotationManager.prototype.hasAnnotation=a.o.ga.prototype.Hh;a.CoreControls.AnnotationManager.prototype.getAnnotationsList=a.o.ga.prototype.Ch;a.CoreControls.AnnotationManager.prototype.setNoteContents=a.o.ga.prototype.Pw;a.CoreControls.AnnotationManager.prototype.getCurrentUser=a.o.ga.prototype.Xi;a.CoreControls.AnnotationManager.prototype.setCurrentUser=a.o.ga.prototype.YL;a.CoreControls.AnnotationManager.prototype.getIsAdminUser=a.o.ga.prototype.TI;a.CoreControls.AnnotationManager.prototype.setIsAdminUser=
a.o.ga.prototype.iM;a.CoreControls.AnnotationManager.prototype.setReadOnly=a.o.ga.prototype.yM;a.CoreControls.AnnotationManager.prototype.getReadOnly=a.o.ga.prototype.sB;a.CoreControls.AnnotationManager.prototype.canModify=a.o.ga.prototype.Fc;a.CoreControls.AnnotationManager.prototype.setPermissionCheckCallback=a.o.ga.prototype.wM;a.CoreControls.AnnotationManager.prototype.setSubmitFormActionCallback=a.o.ga.prototype.FM;a.CoreControls.AnnotationManager.prototype.getAnnotCommand=a.o.ga.prototype.iv;
a.CoreControls.AnnotationManager.prototype.importAnnotCommand=a.o.ga.prototype.Ov;a.CoreControls.AnnotationManager.prototype.exportAnnotations=a.o.ga.prototype.lI;a.CoreControls.AnnotationManager.prototype.importAnnotations=a.o.ga.prototype.OJ;a.CoreControls.AnnotationManager.prototype.importAnnotationsAsync=a.o.ga.prototype.Pv;a.CoreControls.AnnotationManager.prototype.setMarkupOff=a.o.ga.prototype.Ow;a.CoreControls.AnnotationManager.prototype.getMarkupOff=a.o.ga.prototype.Nq;a.CoreControls.AnnotationManager.prototype.toggleAnnotations=
a.o.ga.prototype.gN;a.CoreControls.AnnotationManager.prototype.getUseFilter=a.o.ga.prototype.ar;a.CoreControls.AnnotationManager.prototype.setUseFilter=a.o.ga.prototype.Vw;a.CoreControls.AnnotationManager.prototype.filterAnnotations=a.o.ga.prototype.qI;a.CoreControls.AnnotationManager.prototype.useFreeTextEditing=a.o.ga.prototype.wN;a.CoreControls.AnnotationManager.prototype.disableFreeTextEditing=a.o.ga.prototype.SH;a.CoreControls.AnnotationManager.prototype.registerAnnotationType=a.o.ga.prototype.qL;
a.CoreControls.AnnotationManager.prototype.deregisterAnnotationType=a.o.ga.prototype.QH;a.CoreControls.AnnotationManager.prototype.getRegisteredAnnotationTypes=a.o.ga.prototype.kJ;a.CoreControls.AnnotationManager.prototype.getAnnotationFromPopup=a.o.ga.prototype.zI;a.CoreControls.AnnotationManager.prototype.getAnnotationByMouseEvent=a.o.ga.prototype.Uk;a.CoreControls.AnnotationManager.prototype.getAnnotationById=a.o.ga.prototype.Tk;a.CoreControls.AnnotationManager.prototype.getRootAnnotation=a.o.ga.prototype.In;
a.CoreControls.AnnotationManager.prototype.createAnnotationReply=a.o.ga.prototype.zH;a.CoreControls.AnnotationManager.prototype.hideAnnotation=a.o.ga.prototype.MJ;a.CoreControls.AnnotationManager.prototype.hideAnnotations=a.o.ga.prototype.HB;a.CoreControls.AnnotationManager.prototype.showAnnotation=a.o.ga.prototype.PM;a.CoreControls.AnnotationManager.prototype.showAnnotations=a.o.ga.prototype.yD;a.CoreControls.AnnotationManager.prototype.setRedrawThrottle=a.o.ga.prototype.zM;a.CoreControls.AnnotationManager.prototype.getFieldManager=
a.o.ga.prototype.$i;a.Actions=a.Actions;a.Actions.GoTo=a.Actions.qf;a.Actions.URI=a.Actions.fk;a.Actions.Named=a.Actions.Vj;a.Actions.JavaScript=a.Actions.Rj;a.Actions.ResetForm=a.Actions.gi;a.Actions.SubmitForm=a.Actions.ki;a.Actions.Hide=a.Actions.Qj;a.Annotations=a.Annotations;a.Annotations.Color=a.Annotations.Color;a.Annotations.Color.prototype.toHexString=a.Annotations.Color.prototype.toHexString;a.Annotations.Forms=a.Annotations.N;a.Annotations.Forms.FieldManager=a.Annotations.N.Pj;a.Annotations.Forms.FieldManager.prototype.getField=
a.Annotations.N.Pj.prototype.jb;a.Annotations.Forms.FieldManager.prototype.addField=a.Annotations.N.Pj.prototype.Xp;a.Annotations.Forms.Field=a.Annotations.N.ca;a.Annotations.Forms.Field.prototype.getValue=a.Annotations.N.ca.prototype.Ka;a.Annotations.Forms.Field.prototype.setValue=a.Annotations.N.ca.prototype.mb;a.Annotations.Forms.Field.prototype.setVisible=a.Annotations.N.ca.prototype.Ie;a.Annotations.Forms.Field.prototype.on=a.Annotations.N.ca.prototype.on;a.Annotations.Forms.Field.prototype.off=
a.Annotations.N.ca.prototype.off;a.Annotations.Forms.Field.prototype.trigger=a.Annotations.N.ca.prototype.trigger;a.Annotations.HTMLAnnotation=a.Annotations.HTMLAnnotation;a.Annotations.HTMLAnnotation.prototype.addAction=a.Annotations.HTMLAnnotation.prototype.Hi;a.Annotations.HTMLAnnotation.prototype.getActions=a.Annotations.HTMLAnnotation.prototype.Ui;a.Annotations.HTMLAnnotation.prototype.triggerAction=a.Annotations.HTMLAnnotation.prototype.Od;a.Annotations.HTMLAnnotation.prototype.getInnerElement=
a.Annotations.HTMLAnnotation.prototype.gB;a.Annotations.HTMLAnnotation.prototype.getElement=a.Annotations.HTMLAnnotation.prototype.bB;a.Annotations.WidgetAnnotation=a.Annotations.WidgetAnnotation;a.Annotations.WidgetAnnotation.prototype.setValue=a.Annotations.WidgetAnnotation.prototype.mb;a.Annotations.WidgetAnnotation.prototype.getValue=a.Annotations.WidgetAnnotation.prototype.Ka;a.Annotations.WidgetAnnotation.prototype.addAction=a.Annotations.WidgetAnnotation.prototype.Hi;a.Annotations.WidgetAnnotation.prototype.getField=
a.Annotations.WidgetAnnotation.prototype.jb;a.Annotations.WidgetAnnotation.prototype.setField=a.Annotations.WidgetAnnotation.prototype.hD;a.Annotations.WidgetAnnotation.prototype.on=a.Annotations.WidgetAnnotation.prototype.on;a.Annotations.WidgetAnnotation.prototype.off=a.Annotations.WidgetAnnotation.prototype.off;a.Annotations.WidgetAnnotation.prototype.trigger=a.Annotations.WidgetAnnotation.prototype.trigger;a.Annotations.TextWidgetAnnotation=a.Annotations.ni;a.Annotations.ChoiceWidgetAnnotation=
a.Annotations.jf;a.Annotations.ListWidgetAnnotation=a.Annotations.ah;a.Annotations.ButtonWidgetAnnotation=a.Annotations.Mb;a.Annotations.PushButtonWidgetAnnotation=a.Annotations.di;a.Annotations.CheckButtonWidgetAnnotation=a.Annotations.Yg;a.Annotations.RadioButtonWidgetAnnotation=a.Annotations.ei;a.Annotations.SignatureWidgetAnnotation=a.Annotations.ii;a.Annotations.Annotation=a.Annotations.Annotation;a.Annotations.Annotation.prototype.getPageNumber=a.Annotations.Annotation.prototype.sc;a.Annotations.Annotation.prototype.setPageNumber=
a.Annotations.Annotation.prototype.kD;a.Annotations.Annotation.prototype.getX=a.Annotations.Annotation.prototype.dl;a.Annotations.Annotation.prototype.setX=a.Annotations.Annotation.prototype.KM;a.Annotations.Annotation.prototype.getY=a.Annotations.Annotation.prototype.fl;a.Annotations.Annotation.prototype.setY=a.Annotations.Annotation.prototype.LM;a.Annotations.Annotation.prototype.getTop=a.Annotations.Annotation.prototype.al;a.Annotations.Annotation.prototype.getBottom=a.Annotations.Annotation.prototype.SA;
a.Annotations.Annotation.prototype.getLeft=a.Annotations.Annotation.prototype.Yk;a.Annotations.Annotation.prototype.getRight=a.Annotations.Annotation.prototype.wB;a.Annotations.Annotation.prototype.getWidth=a.Annotations.Annotation.prototype.xa;a.Annotations.Annotation.prototype.setWidth=a.Annotations.Annotation.prototype.rD;a.Annotations.Annotation.prototype.getHeight=a.Annotations.Annotation.prototype.ta;a.Annotations.Annotation.prototype.setHeight=a.Annotations.Annotation.prototype.no;a.Annotations.Annotation.prototype.getCustom=
a.Annotations.Annotation.prototype.FI;a.Annotations.Annotation.prototype.setCustom=a.Annotations.Annotation.prototype.ZL;a.Annotations.Annotation.prototype.draw=a.Annotations.Annotation.prototype.draw;a.Annotations.Annotation.prototype.serialize=a.Annotations.Annotation.prototype.serialize;a.Annotations.Annotation.prototype.deserialize=a.Annotations.Annotation.prototype.deserialize;a.Annotations.Annotation.prototype.setRect=a.Annotations.Annotation.prototype.dg;a.Annotations.Annotation.prototype.getRect=
a.Annotations.Annotation.prototype.he;a.Annotations.Annotation.prototype.getRectPadding=a.Annotations.Annotation.prototype.getRectPadding;a.Annotations.Annotation.prototype.adjustRect=a.Annotations.Annotation.prototype.adjustRect;a.Annotations.Annotation.prototype.setContents=a.Annotations.Annotation.prototype.Il;a.Annotations.Annotation.prototype.getContents=a.Annotations.Annotation.prototype.vn;a.Annotations.Annotation.prototype.isReply=a.Annotations.Annotation.prototype.bf;a.Annotations.Annotation.prototype.getReplies=
a.Annotations.Annotation.prototype.Vq;a.Annotations.Annotation.prototype.isWidget=a.Annotations.Annotation.prototype.Jh;a.Annotations.Annotation.prototype.selectionModel=a.Annotations.Annotation.prototype.selectionModel;a.Annotations.Annotation.prototype.elementName=a.Annotations.Annotation.prototype.elementName;a.Annotations.Point=a.Annotations.Point;a.Annotations.Quad=a.Annotations.fb;a.Annotations.Border=a.Annotations.Yl;a.Annotations.Font=a.Annotations.pf;a.Annotations.Rect=a.Annotations.Rect;
a.Annotations.Rect.prototype.getWidth=a.Annotations.Rect.prototype.xa;a.Annotations.Rect.prototype.getHeight=a.Annotations.Rect.prototype.ta;a.Annotations.Rect.prototype.translate=a.Annotations.Rect.prototype.translate;a.Annotations.Rect.prototype.fitTo=a.Annotations.Rect.prototype.Bq;a.Annotations.Rect.prototype.normalize=a.Annotations.Rect.prototype.normalize;a.Annotations.Link=a.Annotations.md;a.Annotations.PopupAnnotation=a.Annotations.eh;a.Annotations.PopupAnnotation.prototype.isOpen=a.Annotations.eh.prototype.isOpen;
a.Annotations.PopupAnnotation.prototype.setOpen=a.Annotations.eh.prototype.jD;a.Annotations.MarkupAnnotation=a.Annotations.oa;a.Annotations.MarkupAnnotation.prototype.setStyles=a.Annotations.oa.prototype.Oc;a.Annotations.MarkupAnnotation.prototype.selectionModel=a.Annotations.oa.prototype.selectionModel;a.Annotations.MarkupAnnotation.prototype.getPopup=a.Annotations.oa.prototype.Av;a.Annotations.MarkupAnnotation.prototype.setPopup=a.Annotations.oa.prototype.Tw;a.Annotations.IPathAnnotation=a.Annotations.ld;
a.Annotations.IPathAnnotation.prototype.addPathPoint=a.Annotations.ld.prototype.Fb;a.Annotations.IPathAnnotation.prototype.setPathPoint=a.Annotations.ld.prototype.He;a.Annotations.IPathAnnotation.prototype.getPathPoint=a.Annotations.ld.prototype.Dg;a.Annotations.IPathAnnotation.prototype.popPath=a.Annotations.ld.prototype.wl;a.Annotations.IPathAnnotation.prototype.getPath=a.Annotations.ld.prototype.getPath;a.Annotations.LineAnnotation=a.Annotations.Bd;a.Annotations.LineAnnotation.prototype.setStartPoint=
a.Annotations.Bd.prototype.oD;a.Annotations.LineAnnotation.prototype.getStartPoint=a.Annotations.Bd.prototype.sJ;a.Annotations.LineAnnotation.prototype.setEndPoint=a.Annotations.Bd.prototype.setEndPoint;a.Annotations.LineAnnotation.prototype.getEndPoint=a.Annotations.Bd.prototype.II;a.Annotations.LineAnnotation.prototype.setStartStyle=a.Annotations.Bd.prototype.Tg;a.Annotations.LineAnnotation.prototype.getStartStyle=a.Annotations.Bd.prototype.bj;a.Annotations.LineAnnotation.prototype.setEndStyle=
a.Annotations.Bd.prototype.gs;a.Annotations.LineAnnotation.prototype.getEndStyle=a.Annotations.Bd.prototype.Jq;a.Annotations.RectangleAnnotation=a.Annotations.fi;a.Annotations.EllipseAnnotation=a.Annotations.Mj;a.Annotations.FreeHandAnnotation=a.Annotations.FreeHandAnnotation;a.Annotations.FreeHandAnnotation.prototype.addPathPoint=a.Annotations.FreeHandAnnotation.prototype.Fb;a.Annotations.FreeHandAnnotation.prototype.setPathPoint=a.Annotations.FreeHandAnnotation.prototype.He;a.Annotations.FreeHandAnnotation.prototype.getPathPoint=
a.Annotations.FreeHandAnnotation.prototype.Dg;a.Annotations.FreeHandAnnotation.prototype.popPath=a.Annotations.FreeHandAnnotation.prototype.wl;a.Annotations.FreeHandAnnotation.prototype.getPath=a.Annotations.FreeHandAnnotation.prototype.getPath;a.Annotations.FreeHandAnnotation.prototype.setPath=a.Annotations.FreeHandAnnotation.prototype.setPath;a.Annotations.FreeHandAnnotation.prototype.getPaths=a.Annotations.FreeHandAnnotation.prototype.aj;a.Annotations.FreeHandAnnotation.prototype.shouldSimplifyPath=
a.Annotations.FreeHandAnnotation.prototype.shouldSimplifyPath;a.Annotations.TextMarkupAnnotation=a.Annotations.Ec;a.Annotations.TextMarkupAnnotation.prototype.setQuads=a.Annotations.Ec.prototype.Uw;a.Annotations.TextHighlightAnnotation=a.Annotations.kg;a.Annotations.TextUnderlineAnnotation=a.Annotations.ek;a.Annotations.TextStrikeoutAnnotation=a.Annotations.dk;a.Annotations.TextSquigglyAnnotation=a.Annotations.ck;a.Annotations.CaretAnnotation=a.Annotations.bm;a.Annotations.StickyAnnotation=a.Annotations.gh;
a.Annotations.StampAnnotation=a.Annotations.ji;a.Annotations.PolylineAnnotation=a.Annotations.Yj;a.Annotations.PolygonAnnotation=a.Annotations.dh;a.Annotations.FreeTextAnnotation=a.Annotations.Ma;a.Annotations.FreeTextAnnotation.prototype.getPadding=a.Annotations.Ma.prototype.oB;a.Annotations.FreeTextAnnotation.prototype.setPadding=a.Annotations.Ma.prototype.Kl;a.Annotations.FreeTextAnnotation.prototype.getIntent=a.Annotations.Ma.prototype.Fh;a.Annotations.FreeTextAnnotation.prototype.setIntent=a.Annotations.Ma.prototype.Jl;
a.Annotations.FreeTextAnnotation.prototype.addPathPoint=a.Annotations.Ma.prototype.Fb;a.Annotations.FreeTextAnnotation.prototype.setStartStyle=a.Annotations.Ma.prototype.Tg;a.Annotations.FreeTextAnnotation.prototype.getStartStyle=a.Annotations.Ma.prototype.bj;a.Annotations.FreeTextAnnotation.Intent=a.Annotations.Ma.Dc;a.Annotations.ControlHandle=a.Annotations.ControlHandle;a.Annotations.ControlHandle.prototype.testSelection=a.Annotations.ControlHandle.prototype.testSelection;a.Annotations.BoxControlHandle=
a.Annotations.Sd;a.Annotations.LineControlHandle=a.Annotations.Sj;a.Annotations.PathControlHandle=a.Annotations.tf;a.Annotations.TextControlHandle=a.Annotations.li;a.Annotations.SelectionModel=a.Annotations.SelectionModel;a.Annotations.SelectionModel.prototype.testSelection=a.Annotations.SelectionModel.prototype.testSelection;a.Annotations.SelectionModel.prototype.testControlHandles=a.Annotations.SelectionModel.prototype.vo;a.Annotations.SelectionModel.prototype.getControlHandles=a.Annotations.SelectionModel.prototype.EI;
a.Annotations.SelectionModel.prototype.canModify=a.Annotations.SelectionModel.prototype.Fc;a.Annotations.SelectionModel.prototype.draw=a.Annotations.SelectionModel.prototype.draw;a.Annotations.BoxSelectionModel=a.Annotations.ma;a.Annotations.LineSelectionModel=a.Annotations.km;a.Annotations.PathSelectionModel=a.Annotations.Xj;a.Annotations.TextSelectionModel=a.Annotations.mi;a.Annotations.XfdfUtils=a.Annotations.da;a.Annotations.XfdfUtils.serializePoint=a.Annotations.da.cs;a.Annotations.XfdfUtils.deserializePoint=
a.Annotations.da.cs;a.Annotations.XfdfUtils.serializePointArray=a.Annotations.da.Hl;a.Annotations.XfdfUtils.deserializePointArray=a.Annotations.da.Pi;a.Annotations.XfdfUtils.serializeRect=a.Annotations.da.ds;a.Annotations.XfdfUtils.deserializeRect=a.Annotations.da.Pu;a.Annotations.XfdfUtils.serializeFringeRect=a.Annotations.da.Jw;a.Annotations.XfdfUtils.deserializeFringeRect=a.Annotations.da.kA;a.Annotations.XfdfUtils.toXmlDate=a.Annotations.da.hx;a.Annotations.SelectionAlgorithm=a.Annotations.Zb;
a.Annotations.SelectionAlgorithm.boundingRectTest=a.Annotations.Zb.Ck;a.Annotations.SelectionAlgorithm.canvasVisibilityTest=a.Annotations.Zb.$m;a.Annotations.SelectionAlgorithm.textQuadTest=a.Annotations.Zb.LD;a.Tool=a.Tool;a.Tools=a.ha;a.Tools.Tool=a.ha.Tool;a.Tools.Tool.prototype.getDocumentViewer=a.ha.Tool.prototype.Zi;a.Tools.AnnotationSelectTool=a.ha.AnnotationSelectTool;a.Tools.TextTool=a.ha.Cb;a.Tools.GenericAnnotationCreateTool=a.ha.nb;a.Tools.PanTool=a.ha.nm;a.Tools.TextSelectTool=a.ha.bk;
a.Tools.AnnotationEditTool=a.ha.Xl;a.Tools.LineCreateTool=a.ha.Tj;a.Tools.ArrowCreateTool=a.ha.Cs;a.Tools.RectangleCreateTool=a.ha.Xs;a.Tools.EllipseCreateTool=a.ha.Ls;a.Tools.FreeHandCreateTool=a.ha.FreeHandCreateTool;a.Tools.SignatureCreateTool=a.ha.SignatureCreateTool;a.Tools.SignatureCreateTool.prototype.setSignatureCanvas=a.ha.SignatureCreateTool.prototype.DM;a.Tools.SignatureCreateTool.prototype.clearSignatureCanvas=a.ha.SignatureCreateTool.prototype.sH;a.Tools.SignatureCreateTool.prototype.initDefaultSignature=
a.ha.SignatureCreateTool.prototype.KB;a.Tools.SignatureCreateTool.prototype.hasDefaultSignature=a.ha.SignatureCreateTool.prototype.EJ;a.Tools.SignatureCreateTool.prototype.addDefaultSignature=a.ha.SignatureCreateTool.prototype.GG;a.Tools.SignatureCreateTool.prototype.openSignature=a.ha.SignatureCreateTool.prototype.LK;a.Tools.SignatureCreateTool.prototype.addSignature=a.ha.SignatureCreateTool.prototype.Az;a.Tools.SignatureCreateTool.prototype.isEmptySignature=a.ha.SignatureCreateTool.prototype.PB;
a.Tools.StickyCreateTool=a.ha.et;a.Tools.TextAnnotationCreateTool=a.ha.Cd;a.Tools.TextHighlightCreateTool=a.ha.ht;a.Tools.TextUnderlineCreateTool=a.ha.kt;a.Tools.TextStrikeoutCreateTool=a.ha.jt;a.Tools.TextSquigglyCreateTool=a.ha.it;a.Tools.PolylineCreateTool=a.ha.Zj;a.Tools.PolygonCreateTool=a.ha.bi;a.Tools.PolygonCloudCreateTool=a.ha.pm;a.Tools.CalloutCreateTool=a.ha.Lj;a.Tools.FreeTextCreateTool=a.ha.Rs;a.Tools.StampCreateTool=a.ha.dt})(window);
(function(){function a(a,f,b){function e(a,b){var c=b<<1;return 128>b?a*(c+(a*(255-c)>>8))>>8:a*(511-c)+Math.sqrt(a<<8)*(c-255)>>8}function g(a,b){return 128>a?a*b>>7:255-((255-b)*(255-a)>>7)}function l(a,b){return 255==b&&0==a?255:Math.min(255,(a<<8)/(255-b))}function k(a,b){return 255==b&&0==a?0:255-Math.min(255,(255-a<<8)/b)}function h(a,b,c){return{r:.299*a+.587*b+.114*c,g:-.1687*a-.3313*b+.5*c,b:.5*a-.4187*b-.0813*c}}function m(a,b,c){return{r:a+1.402*c,g:a-.3441*b-.7141*c,b:a+1.772*b}}function p(a,
b,c){a=h(a,b,c);return{Gg:Math.atan2(a.g,a.b),s:Math.sqrt(a.g*a.g+a.b*a.b),XD:a.r}}function n(a,b,c){return m(c,b*Math.sin(a),b*Math.cos(a))}var q={},v;for(v in d)d.hasOwnProperty(v)&&(q[v]=b&&b[v]||d[v]);"auto"==q.width&&(q.width=this.canvas.width);"auto"==q.height&&(q.height=this.canvas.height);q.width=Math.min(q.width,this.canvas.width-q.BD,a.canvas.width-q.x);q.height=Math.min(q.height,this.canvas.height-q.CD,a.canvas.height-q.y);v=this.getImageData(q.BD,q.CD,q.width,q.height);b=a.getImageData(q.x,
q.y,q.width,q.height);v=v.data;for(var r=b.data,u,x,z=r.length,E,B,w,y,C,G,F,D,J,K,I,N,M,P,L=0;L<z;L+=4)if(u=v[L+3]/255,x=r[L+3]/255,F=u+x-u*x,r[L+3]=255*F,0!=u)if(0==x)r[L]=v[L],r[L+1]=v[L+1],r[L+2]=v[L+2];else{D=r[L];J=r[L+1];K=r[L+2];I=v[L];N=v[L+1];M=v[L+2];E=I/255*u;y=D/255*x;B=N/255*u;C=J/255*x;w=M/255*u;G=K/255*x;P=255/F;F=x*u;var A=x-F,Q=u-F;switch(f){case "normal":case "src-over":r[L]=(E+y-y*u)*P;r[L+1]=(B+C-C*u)*P;r[L+2]=(w+G-G*u)*P;break;case "screen":r[L]=(E+y-E*y)*P;r[L+1]=(B+C-B*C)*
P;r[L+2]=(w+G-w*G)*P;break;case "multiply":r[L]=(E*y+E*(1-x)+y*(1-u))*P;r[L+1]=(B*C+B*(1-x)+C*(1-u))*P;r[L+2]=(w*G+w*(1-x)+G*(1-u))*P;break;case "difference":r[L]=(E+y-2*Math.min(E*x,y*u))*P;r[L+1]=(B+C-2*Math.min(B*x,C*u))*P;r[L+2]=(w+G-2*Math.min(w*x,G*u))*P;break;case "src-in":F=u*x;P=255/F;r[L]=E*x*P;r[L+1]=B*x*P;r[L+2]=w*x*P;r[L+3]=255*F;break;case "plus":case "add":r[L]=Math.min(E+y,1)*P;r[L+1]=Math.min(B+C,1)*P;r[L+2]=Math.min(w+G,1)*P;break;case "overlay":r[L]=F*g(D,I)+A*D+Q*I;r[L+1]=F*g(J,
N)+A*J+Q*N;r[L+2]=F*g(K,M)+A*K+Q*M;break;case "hard-light":r[L]=F*g(I,D)+A*D+Q*I;r[L+1]=F*g(N,J)+A*J+Q*N;r[L+2]=F*g(M,K)+A*K+Q*M;break;case "color-dodge":case "dodge":r[L]=F*l(D,I)+A*D+Q*I;r[L+1]=F*l(J,N)+A*J+Q*N;r[L+2]=F*l(K,M)+A*K+Q*M;break;case "color-burn":case "burn":r[L]=F*k(D,I)+A*D+Q*I;r[L+1]=F*k(J,N)+A*J+Q*N;r[L+2]=F*k(K,M)+A*K+Q*M;break;case "darken":case "darker":r[L]=F*(D<I?D:I)+A*D+Q*I;r[L+1]=F*(J<N?J:N)+A*J+Q*N;r[L+2]=F*(K<M?K:M)+A*K+Q*M;break;case "lighten":case "lighter":r[L]=(E<y?
y:E)*P;r[L+1]=(B<C?C:B)*P;r[L+2]=(w<G?G:w)*P;break;case "exclusion":r[L]=(y+E-2*y*E)*P;r[L+1]=(C+B-2*C*B)*P;r[L+2]=(G+w-2*G*w)*P;break;case "soft-light":r[L]=F*e(D,I)+A*D+Q*I;r[L+1]=F*e(J,N)+A*J+Q*N;r[L+2]=F*e(K,M)+A*K+Q*M;break;case "luminosity":u=h(D,J,K);x=h(I,N,M);u=m(x.r,u.g,u.b);r[L]=F*u.r+A*D+Q*I;r[L+1]=F*u.g+A*J+Q*N;r[L+2]=F*u.b+A*K+Q*M;break;case "color":u=h(D,J,K);x=h(I,N,M);u=m(u.r,x.g,x.b);r[L]=F*u.r+A*D+Q*I;r[L+1]=F*u.g+A*J+Q*N;r[L+2]=F*u.b+A*K+Q*M;break;case "hue":u=p(D,J,K);x=p(I,N,
M);u=n(x.Gg,u.s,u.XD);r[L]=F*u.r+A*D+Q*I;r[L+1]=F*u.g+A*J+Q*N;r[L+2]=F*u.b+A*K+Q*M;break;case "saturation":u=p(D,J,K);x=p(I,N,M);u=n(u.Gg,x.s,u.XD);r[L]=F*u.r+A*D+Q*I;r[L+1]=F*u.g+A*J+Q*N;r[L+2]=F*u.b+A*K+Q*M;break;case "lighter-color":u=0<2.623*(D-I)+5.15*(J-N)+K-M?{r:D,g:J,b:K}:{r:I,g:N,b:M};r[L]=F*u.r+A*D+Q*I;r[L+1]=F*u.g+A*J+Q*N;r[L+2]=F*u.b+A*K+Q*M;break;case "darker-color":u=0>2.623*(D-I)+5.15*(J-N)+K-M?{r:D,g:J,b:K}:{r:I,g:N,b:M};r[L]=F*u.r+A*D+Q*I;r[L+1]=F*u.g+A*J+Q*N;r[L+2]=F*u.b+A*K+Q*M;
break;default:D=L/4%this.canvas.width,J=Math.floor(L/4/this.canvas.width),D=4>D%8&&4>J%8||3<D%8&&3<J%8,r[L]=r[L+3]=255,r[L+1]=D?255:0,r[L+2]=D?0:255}}a.putImageData(b,q.x,q.y)}var d={x:0,y:0,BD:0,CD:0,width:"auto",height:"auto"};(function(c){if(!c||"function"!==typeof c.getImageData)return console.error("context blender called without a valid context prototype");Object.defineProperty(c,"bO",{value:a});for(var d=a.MQ="normal src-over screen multiply difference src-in plus add overlay hardlight colordodge dodge colorburn burn darken darker lighten lighter exclusion softlight luminosity color hue saturation lightercolor darkercolor".split(" "),
b=a.supports={},e=d.length;e--;)b[d[e]]=!0;a.PO={"src-over":"normal",eo:"add",wP:"colordodge",TO:"colorburn",pP:"darken",dQ:"lighten"};return c})(CanvasRenderingContext2D&&CanvasRenderingContext2D.prototype)})();
(function(a){var d=a._trnDebugMode;"undefined"===typeof a.utils&&(a.utils={warn:function(a){d&&console.warn(a)},log:function(a){d&&console.log(a)},error:function(a){d&&console.error(a);throw Error(a);}});a.info=function(c){a.utils.log(c)};a.warn=function(c){a.utils.warn(c)};a.error=function(c){a.utils.error(c)}})("undefined"===typeof window?this:window);("undefined"===typeof window?this:window).zP=0;
(function(a){a.So=function(d,c){this.name=d;this.Fk=c;this.iH=1;this.vj=!0;this.ug={};var f=this.Tp={};this.FG={};this.Cr=null;f.console_log=[function(a){console.log(a)}];f.console_error=[function(b){a.utils.error(b)}];f.workerLoaded=[function(){}];c.addEventListener("message",this.DB.bind(this))};a.So.prototype={on:function(d,c,f){var b=this.Tp;b[d]&&a.utils.error('There is already an actionName called "'+d+'"');b[d]=[c,f]},replace:function(a,c,f){this.Tp[a]=[c,f]},send:function(a,c){this.postMessage({action:a,
data:c})},En:function(){return this.iH++},Na:function(a,c,f){var b=this.En();a={action:a,data:c,callbackId:b,priority:f};c=createPromiseCapability();this.ug[b]=c;try{this.postMessage(a)}catch(e){c.reject(e)}return c.promise},bs:function(a,c,f){var b=this.En();a={action:a,data:c,callbackId:b,priority:f};c=createPromiseCapability();this.ug[b]=c;try{this.postMessage(a)}catch(e){c.reject(e)}return{promise:c.promise,hH:b}},Iw:function(a,c){if(a.message||a.jI){a.message&&a.message.message&&(a.message=a.message.message);
var f=a.jI;a={type:a.type?a.type:"JavascriptError",message:a.message};if(f)for(var b in f)f.hasOwnProperty(b)&&(a[b]=f[b])}this.postMessage({isReply:!0,callbackId:c,error:a})},Bv:function(d){if(d in this.ug)return this.ug[d];a.utils.error("Cannot get promise for callback "+d)},Mz:function(d){if(d in this.ug){var c=this.ug[d];delete this.ug[d];c.reject({type:"Cancelled",message:"Request has been cancelled."});this.postMessage({action:"actionCancel",data:{callbackId:d}})}else a.utils.warn("Cannot cancel callback "+
d)},postMessage:function(a){if(this.vj){var c=this.vJ(a);this.Fk.postMessage(a,c)}else this.Fk.postMessage(a)},kB:function(a,c){if("object"===typeof a)if(a instanceof Uint8Array)c.push(a.buffer);else if(a instanceof ArrayBuffer)c.push(a);else for(prop in a)a.hasOwnProperty(prop)&&this.kB(a[prop],c)},vJ:function(a){var c=[];this.kB(a,c);return 0==c.length?void 0:c},DB:function(d){var c=this,f=d.data,b=this.Tp,e=this.FG;d=this.ug;if(f.isReply)b=f.callbackId,b in d?(e=d[b],delete d[b],"error"in f?e.reject(f.error):
e.resolve(f.data)):a.utils.warn("Cannot resolve callback "+b);else if(f.action in b){var g=b[f.action];f.callbackId?Promise.resolve().then(function(){return g[0].call(g[1],f.data)}).then(function(a){c.postMessage({isReply:!0,callbackId:f.callbackId,data:a})},function(a){c.Iw(a,f.callbackId)}):g[0].call(g[1],f.data)}else f.action in e?(g=e[f.action],d=createPromiseCapability(),f.callbackId?d.promise.then(function(a){c.postMessage({isReply:!0,callbackId:f.callbackId,data:a});c.Cr()},function(a){c.Iw(a,
f.callbackId);c.Cr()}):d.promise.then(function(){c.Cr()},function(){c.Cr()}),g[0].call(g[1],f,d)):a.utils.error("Unknown action from worker: "+f.action)}}})("undefined"===typeof window?this:window);var oa=this;
oa.JF=function(){function a(a,c,f){var b=this;this.uw=null;this.Og=[];this.Ok={};this.Mk={};createPromiseCapability();this.nx=new Promise(function(e,g){if("undefined"!==typeof Worker)try{var l=new oa.So("main",a);l.vj=c;b.pa=l;l.on("test",function(a){a&&a.supportTypedArray?(a.supportTransfers||(l.vj=!1),b.OM(l),e()):g(new oa.gk("Typed arrays are not supported. Can't start a worker.","error.WorkerInitError"))}.bind(b));var k={array:new Uint8Array([255])};try{f&&(k.options=f),l.send("test",k)}catch(h){info("Cannot use postMessage transfers"),
l.vj=!1,k.array[0]=0,l.send("test",k)}return}catch(h){g(new oa.gk("The worker has been disabled. This may be the result of using PNaCl on an unsupported browser.","error.PNaClSupportError"))}g(new oa.gk("Can't start a worker","error.WorkerInitError"))})}a.prototype={zl:0,cN:1,yc:2,Sf:3,OM:function(a){this.pa=a;a.on("GetDoc",function(a){var d=a.WK;this.numPages=a.WK.numPages;a=new PDFDocumentProxy(d,this);this.resolve(a)},this);a.on("DocProgress",function(a){this.uw&&this.uw({loaded:a.loaded,total:a.total})},
this);a.on("PageError",function(a){var d=this.Og[a.pageNum-1].TP[a.intent];d.XH?d.XH.reject(a.error):error(a.error)},this);a.on("event",this.$C,this)},$C:function(a){var c=a.docId;if(this.Ok[c])this.Ok[c](a);else c in this.Mk?this.Mk[c].push(a):this.Mk[c]=[a]},addEventListener:function(a,c){if(this.Ok[a])error("Event listener already set for "+a);else if(this.Ok[a]=c,a in this.Mk){for(var f=this.Mk[a],b=0;b<f.length;++b)this.$C(f[b]);delete this.Mk[a]}},pH:function(a){delete this.Ok[a]},mI:function(a){return this.pa.Na("NewDoc",
a,this.Sf)},rK:function(a,c){var f={array:a,workerPath:oa.o.dj()};c&&(f.l=c);return this.pa.Na("LoadRes",f,this.Sf)},sK:function(a,c){var f={path:a};c&&(f.l=c);return this.pa.Na("LoadResFromPath",f,this.Sf)},BI:function(a,c,f,b,e,g,l,k){return"undefined"===typeof k?this.pa.bs("GetCanvas",{docId:a,pageIndex:c,width:f,height:b,rotation:e,layers:g,overprintMode:l},this.zl):this.pa.bs("GetCanvasPartial",{docId:a,pageIndex:c,width:f,height:b,rotation:e,layers:g,bbox:[k.x1,k.y1,k.x2,k.y2],overprintMode:l},
this.zl)},CI:function(a,c,f,b,e,g,l,k,h){return"undefined"===typeof k?this.pa.bs("GetCanvas",{docId:a,pageIndex:c,width:f,height:b,rotation:e,layers:g,filePath:h,overprintMode:l},this.zl):this.pa.bs("GetCanvasPartial",{docId:a,pageIndex:c,width:f,height:b,rotation:e,layers:g,bbox:[k.x1,k.y1,k.x2,k.y2],filePath:h,overprintMode:l},this.zl)},VA:function(a,c){return"undefined"!=typeof c?this.pa.Na("GetCanvasProgressive",{callbackId:a,filePath:c},this.zl):this.pa.Na("GetCanvasProgressive",{callbackId:a},
this.zl)},Kd:function(a,c){return this.pa.Na("LoadText",{docId:a,pageIndex:c},this.cN)},nK:function(a){return this.pa.Na("LoadBookmarks",{docId:a},this.Sf)},ZB:function(a,c){var f={docId:a};c&&(f.pages=c);return this.pa.Na("LoadAnnotations",f,this.Sf)},Xn:function(a,c){return this.pa.Na("MergeXFDF",{docId:a,xfdf:c},this.yc)},NL:function(a){return this.pa.Na("SaveDoc",a,this.yc)},ML:function(a){return this.pa.Na("SaveDocFromFixedElements",a,this.yc)},OL:function(a){return this.pa.Na("SaveDocAs",a,
this.yc)},rN:function(a,c){return this.pa.Na("UpdatePassword",{docId:a,password:c},this.Sf)},Mn:function(a,c,f,b){return this.pa.Na("InsertBlankPages",{docId:a,width:f,height:b,pageArray:c},this.yc)},kl:function(a,c,f,b,e){return this.pa.Na("InsertPages",{docId:a,doc:c,pageArray:f,destPos:b,insertBookmarks:e},this.yc)},Yn:function(a,c,f){return this.pa.Na("MovePages",{docId:a,pageArray:c,destPos:f},this.yc)},yl:function(a,c){return this.pa.Na("RemovePages",{docId:a,pageArray:c},this.yc)},Cl:function(a,
c,f){return this.pa.Na("RotatePages",{docId:a,pageArray:c,rotation:f},this.yc)},Zk:function(a){return this.pa.Na("GetPDFDoc",{docId:a},this.yc)},Qk:function(a,c,f){return this.pa.Na("ExtractPages",{docId:a,pageArray:c,xfdfString:f},this.yc)},Ik:function(a,c,f,b,e,g){return this.pa.Na("CropPages",{docId:a,pageArray:c,topMargin:f,botMargin:b,leftMargin:e,rightMargin:g},this.yc)},Aj:function(a,c){return this.pa.Na("DownloaderHint",{docId:a,hint:c},this.yc)},bK:function(a){return this.pa.Na("IsLinearized",
{docId:a},this.yc)},Xk:function(a){return this.pa.Na("GetLayers",{docId:a},this.yc)},Pk:function(a,c){return this.pa.Na("ExtractPDFNetLayersContext",{docId:a,layers:c},this.yc)},En:function(){return this.pa.En()},Mu:function(a){return this.pa.Na("DeleteDocument",{docId:a},this.yc)},Kw:function(a){return this.pa.Na("SetColorManagement",{value:a},this.Sf)},es:function(a){return this.pa.Na("SetCustomFontURL",{fontURL:a},this.Sf)},getWorkerType:function(){return this.pa.Fk&&"function"===typeof this.pa.Fk.getWorkerType?
this.pa.Fk.getWorkerType():oa.JE(this.pa.Fk)?"ems":"pnacl"},sendWithPromise:function(a,c,f){return this.pa.Na(a,c,f)},kq:function(a){this.pa.Mz(a)}};return a}();
(function(a){function d(){var a=document.createElement("embed");a.type="application/pdf";a.style.position="fixed";a.style.width="9px";a.style.height="9px";a.style.top="-9990px;";a.style.left="-999px";return a}function c(a,c){for(var d=!1,f=0,k=navigator.plugins;f<k.length;++f){var h=k[f].name;if("Chrome PDF Viewer"===h||"Chromium PDF Viewer"===h){d=!0;break}}d?a():c()}var f;a.isPDFiumSupported=function(){f||(f=new Promise(function(a){c(function(){a(!0)},function(){a(!1)})}));return f};a.pdfiumPrint=
function(a){var c={Nk:null,Or:"",handleEvent:function(){var a=c;window.removeEventListener("focus",a);a.Nk&&a.Nk.remove();a.Or&&URL.revokeObjectURL(a.Or)}};c.Or=URL.createObjectURL(a);c.Nk=d();c.Nk.src=c.Or;c.Nk.addEventListener("message",function(){console.log("I actually got a message")});document.body.appendChild(c.Nk);window.addEventListener("focus",c)}})(window);
(function(a){function d(c,d){a.So.call(this,c,d);this.Ri={}}d.prototype={Wp:function(a,d){a in this.Ri?this.Ri[a].push(d):this.Ri[a]=[d]},Vr:function(a){a in this.Ri&&delete this.Ri[a]},DB:function(c){var d=this,b=c.data,e=this.Tp;c=this.ug;if("object"===typeof b)if("callbackId"in b)if(e=b.callbackId,e in c){var g=c[e];delete c[e];"type"in b&&"error"===b.type?g.reject(b):g.resolve(b.data)}else a.utils.warn("Cannot resolve callback "+e);else if(b.action in e){var l=e[b.action];b.callbackId?Promise.resolve().then(function(){return l[0].call(l[1],
b.data)}).then(function(a){d.postMessage({isReply:!0,callbackId:b.callbackId,data:a})},function(a){d.Iw(a)}):l[0].call(l[1],b.data)}else if(b.type)if("page"===b.type)c=b.meta.docId,this.Ri[c].forEach(function(a){a(b)});else{if("documentComplete"===b.type||"error"===b.type)c=b.docId,this.Ri[c].forEach(function(a){a(b)})}else a.utils.error("Unknown action from worker: "+b.action)}};d.prototype=$.extend(Object.create(a.So.prototype),d.prototype);a.WE=d})("undefined"===typeof window?this:window);
(function(a){function d(c,d,b){var e=this;this.uw=null;this.Og=[];this.Ok={};createPromiseCapability();this.nx=new Promise(function(g,l){if("undefined"!==typeof Worker)try{if(e.pa)g();else{var k=new a.WE("main",c);k.vj=d;e.pa=k;k.on("test",function(b){if(b.ready){var c=b&&b.supportTypedArray;b&&b.info&&a.utils.log("Office worker info: "+b.info);c?(b.supportTransfers||(k.vj=!1),g()):l(new a.gk("Typed arrays are not supported. Can't start a worker.","error.WorkerInitError"))}else a.o.jm.Sz(),l("License Key Error: "+
b.license)}.bind(e));var h={array:new Uint8Array([255])};try{b&&(h=$.extend({},h,b)),k.send("test",h)}catch(m){k.vj=!1,h.array[0]=0,k.send("test",h)}}return}catch(m){l(new a.gk("The worker has been disabled. This may be the result of using PNaCl on an unsupported browser.","error.PNaClSupportError"))}l(new a.gk("Can't start a worker","error.WorkerInitError"))})}d.prototype={aC:function(a){return this.pa.Na("loadDocument",a,this.Sf)},Wp:function(a,d){this.pa.Wp(a,d)},Vr:function(a){this.pa.Vr(a)},
Mu:function(a){this.pa.Vr(a);return this.pa.Na("DeleteDocument",{docId:a},this.yc)},kq:function(a){this.pa.Mz(a)},HI:function(a){return this.pa.Na("getDocBuffer",{docId:a},this.Sf)}};a.o.XE=d})("undefined"===typeof window?this:window);
(function(a){function d(a){this.Gr=!1;this.Ld=[];this.wo={};this.gq={};this.sq={};this.Fq=[];this.un={};this.Za={};this.Fe=a}function c(){}function f(a,c){this.Qh=a;this.Za={};this.ad=null;this.Pa=c}c.prototype={PA:function(a){var c=this;c.functions=[];a.forEach(function(a){c.functions.push(new Function("c","t",a))});this.index=0},run:function(a,c,d){var f=this.functions[this.index];d&&this.index++;return f?(f(a,c),!1):!0},clone:function(){var a=new c;a.functions=this.functions;a.index=0;return a},
Jr:function(){return Promise.resolve()},cancel:function(){}};d.prototype={tJ:function(a,d){var f=a+1;if(f in this.Ld){var f=this.Ld[f],l=$.extend({},f);if(!f.ad){var k=new c;k.PA(f.Sn);f.ad=k}l.ad=f.ad.clone();d(null,l)}else d(Error("The page "+f+" does not exist yet."))},xv:function(b,d,f){b+=1;if(b in this.Ld){d=this.Ld[b];b=$.extend({},d);if(!d.ad){var l=new c;l.PA(d.Sn);d.ad=l}b.ad=d.ad.clone();b.Za=$.extend(!0,{},b.Za);for(var k in b.Za)if(d=b.Za[k],"jpg"===d.type)b.Za[k].data=a.o.sv(d.data.type,
d.data.data);else{if(a.Sk)l=a.o.sv(d.data.type,d.data.data),l=new a.ig.FontFace(d.name,"","sfnt",l);else{for(var l="",h=new Uint8Array(d.data.data),m=h.byteLength,p=0;p<m;p++)l+=String.fromCharCode(h[p]);l=new a.ig.FontFace(d.name,l,"sfnt",void 0)}this.Fe.Wv(d.name)||l.$e();b.Za[k].data=l}f(null,b)}else f(Error("The page "+b+" does not exist yet."))},KG:function(a){var c=a.meta.page,d=new f(c,this),l=a.img,k=a.text_structure,h={},m="",p;for(m in l)l[m]&&l[m].data?(p={data:l[m],type:"jpg",name:m},
h[m]=p,this.Za[m]=p):h[m]=this.Za[m];l=a.embeddedFonts;for(m in l)(p=l[m])&&p.data?(p={data:p,type:"font",name:m},h[m]=p,this.Za[m]=p):h[m]=this.Za[m];d.Sn=a.js;d.Za=h;d.text=k;this.Ld[c]=d},Lz:function(){}};_(d.prototype).extend(Backbone.Events);a.o.VE=d})(window);
(function(a){function d(){}var c=a.o;c.Vo=function(d){this.xh=[];this.xg=[];this.ql=new c.Metadata;this.K=[];this.pw={};this.gl=!1;this.fj={};this.Nd={};this.Dq={};this.ya=null;this.Lm=new a.Oe.Ys;this.id=d};c.Vo.prototype=Object.create(c.hk.prototype);c.Vo.prototype.constructor=c.Wj;$.extend(c.Vo.prototype,{JG:function(c){this.Pa.KG(c);var b=new a.Xo(c.meta.width,c.meta.height);b.Kb=new XODText.Ia;b.Kb.Qa(1,0,0,-1,0,c.meta.height);b.rotation=0;this.K.push(b);this.zr=this.iq();c=c.fonts;for(var d in c){var g=
c[d];d in this.Dq?b=this.Dq[d]:(b=new XODText.pf,b.no(-g.ascent,g.descent),b.qD(500),this.Dq[d]=b);for(var g=g.charX,l=g.length,k=0;k<l;k+=3)b.Vp(g[k],g[k+1],g[k+2])}},Kg:function(d,b,e){var g=this;this.Ya=d;this.K=[];g.ql=new c.Metadata;g.Ag=new Promise(function(a){g.bind("documentComplete",function(){g.unbind("documentComplete");a()})});var l=e.workerTransportPromise;d.getFileData(function(e){g.bind("documentReady",b);var h={outputFormat:"canvasCommands"};d.file?(h.type="file",h.value={bytes:e.buffer,
name:d.file.name},g.Aq=d.file.name):d.url?(h.type="file",h.value={bytes:e.buffer,name:d.filename||d.url},g.Aq=h.value.name):(h.type="array",h.value=e.buffer,g.Aq="");g.Pa=new c.VE(g.Lm);var m=!1;l.then(function(c){g.wa=c;a.utils.log("Worker Initialized");g.wa.aC(h).then(function(c){g.ya=c.docId;g.wa.Wp(c.docId,function(c){switch(c.type){case "page":var d=150,e=function(){var c;13<g.Nh.length?c=g.Nh.splice(0,13):(c=g.Nh,g.Nh=[]);for(var f=0;f<c.length;++f)a.utils.log("page "+c[f].meta.page+": "+c[f].meta.elapsedTime+
"ms"),g.JG(c[f]);m||(m=!0,b());g.tn({type:"pagesUpdated",data:g.K.slice()});a.utils.log("processed "+c.length+" pages, "+g.Nh.length+" remaining");0<g.Nh.length?(g.Lv=!0,setTimeout(e,d),d=30):g.Lv=!1};g.Nh?(g.Nh.push(c),g.Lv||(g.Lv=!0,setTimeout(e,d),d=30)):(a.utils.log("Received first page data"),g.Nh=[c],e());break;case "error":m?console.error(c.message):b(c);break;case "documentComplete":g.trigger("documentComplete")}});a.utils.log("Document initialized")})["catch"](function(a){b(a)})})})},Kd:function(a,
b){var c=this;this.K[a].text?b(this.K[a].text):this.Pa.tJ(a,function(d,l){if(!d&&"undefined"!==typeof l.text){var k=new XODText.uf,h=new XODText.Ia;h.Qa(1,0,0,1,0,0);var m=new XODText.rm(c.Dq),p=l.ad.clone(),n=!1;try{do n=p.run(m,h,!0);while(!n)}catch(q){console.warn("Custom Canvas has encountered an error: "+q.message);return}k.vH(l.text,m);c.K[a].text=k;b(k)}})},Pq:function(a){var b=this;return!b.ya||b.K.length<=a?Promise.resolve({images:[],fonts:[]}):new Promise(function(c,d){b.Pa.xv(a,b.vP,function(b,
k){var h={images:[],fonts:[]};if(k&&k.Za){for(var m=Object.keys(k.Za),p=0;p<m.length;p++){var n=k.Za[m[p]],q={name:n.name,data:n.data};"font"===n.type?h.fonts.push(q):"jpg"===n.type&&h.images.push(q)}c(h)}else d("unable to obtain resources for page "+a+1)})})},Qn:function(){return!1},jl:d,uo:d,jj:function(){return!1},Rk:function(){return null},Zm:d,Fn:function(){return!1},oo:d,GD:d,Cn:function(){return[]},Tb:function(){return this.K.length},bd:function(a){var b={};b.width=this.K[a].width;b.height=
this.K[a].height;return b},Ke:function(){this.Pa=null;a.ci={};this.wa&&this.ya&&this.wa.Mu(this.ya)},oE:function(c){var b=new a.Xo(c.width,c.height);b.Kb=new XODText.Ia;c=c.matrix;b.Kb.Qa(c[0],c[1],c[2],c[3],c[4],c[5]);c=this.Ym(b.Kb);b.Kb=this.Fw({w:b.width,Gg:b.height});b.rotation=c;return b},Vk:function(){return Promise.resolve([])},DG:function(){var a=this,b={outputFormat:"binaryStream"};a.Aq?(b.type="file",b.value={bytes:null,name:a.Aq}):(b.type="array",b.value=null);return new Promise(function(c,
d){a.wa.aC(b).then(function(b){var k=0,h=[];a.ya=b.docId;a.wa.Vr(a.ya);a.wa.Wp(a.ya,function(a){switch(a.type){case "page":"binaryStream"===a.format&&a.bytes||d("Expected binaryStream data");h.push(new Uint8Array(a.bytes));k+=a.bytes.byteLength;break;case "error":console.error(a.message);d(a.message);break;case "documentComplete":a=new Uint8Array(k);for(var b=0,f=0;f<h.length;++f)a.set(h[f],b),b+=h[f].length,h[f]=null;c(a);break;default:d("Unable to export data")}})})})},getFileData:function(a){var b=
"pdf"===a.downloadType;if(this.wa&&this.ya){var d=this.ya;return b?(b=c.Sv(c.YA(),{},window.parent.IF?window.parent.IF.l():void 0),Promise.all([b,this.DG()]).then(function(b){var c=b[0];a.bytes=b[1].buffer;return c.ML(a).then(function(a){return a.fileData&&0!==a.fileData.byteLength?Promise.resolve(a.fileData):Promise.reject("Failed to convert document to PDF")},function(a){console.error(a);return Promise.resolve(a)})})):this.wa.HI(this.ya).then(function(a){return a&&"array"===a.type&&d===a.docId?
a.value:Promise.reject()})}return Promise.reject()},gj:function(){return!1}})})(window);}).call(window);
